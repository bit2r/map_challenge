[
  {
    "objectID": "approval_rate.html",
    "href": "approval_rate.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "윤석열 대통령\n문재인 대통령\n박근혜 대통령\n이명박 대통령\n노무현 대통령\n\n\n\n\n코드library(tidyverse)\nlibrary(rvest)\nextrafont::loadfonts()\n\nyoon_url &lt;- 'https://namu.wiki/w/%EC%9C%A4%EC%84%9D%EC%97%B4/%EC%A7%80%EC%A7%80%EC%9C%A8'\n\nyoon_html &lt;- read_html(yoon_url)\n\nyoon_list &lt;- yoon_html |&gt; \n  html_nodes('table') |&gt; \n  html_table(header = TRUE)\n\nyoon_raw &lt;- yoon_list |&gt; \n  enframe() |&gt; \n  mutate(nrow = map_int(value, nrow)) |&gt; \n  filter(nrow &gt; 54) |&gt; \n  mutate(조사회사 = c(\"한국갤럽\", \"리얼미터\", \"전국지표조사\")) \n\nclean_tbl &lt;- function(dataframe) {\n  three_tbl &lt;- dataframe |&gt; \n    janitor::clean_names(ascii = FALSE) |&gt; \n    select(1:3) |&gt; \n    set_names(c(\"조사기간\", \"긍정\", \"부정\")) |&gt; \n    filter(str_detect(조사기간, \"^\\\\d{4}년\"))\n}\n\nyoon_tbl &lt;- yoon_raw |&gt; \n  mutate(data = map(value, clean_tbl)) |&gt; \n  select(조사회사, data) |&gt; \n  unnest(data) |&gt; \n  mutate(긍정 = parse_number(긍정),\n         부정 = parse_number(부정)) |&gt; \n  fill(긍정, .direction = \"down\") |&gt; \n  fill(부정, .direction = \"down\") |&gt; \n  pivot_longer(긍정:부정, names_to = \"긍부정\", values_to = \"지지율\") \n\nconvert_korean_date &lt;- function(korean_date) {\n  # Split the input into components\n  components &lt;- strsplit(korean_date, \" \")[[1]]\n  \n  # Extract year, month, and week\n  year &lt;- as.numeric(gsub(\"년\", \"\", components[1]))\n  month &lt;- as.numeric(gsub(\"월\", \"\", components[2]))\n  week &lt;- as.numeric(gsub(\"주\", \"\", components[3]))\n  \n  # Construct the date - the first day of the month and year, then add weeks\n  date &lt;- make_date(year, month, 1) + weeks(week - 1)\n  \n  return(date)\n}\n  \nyoon_gg_tbl &lt;- yoon_tbl |&gt; \n  mutate(조사기간 = map(조사기간, convert_korean_date)) |&gt; \n  unnest(조사기간) |&gt; \n  mutate(조사회사 = factor(조사회사, levels = c(\"한국갤럽\", \"리얼미터\", \"전국지표조사\"))) |&gt; \n  filter(조사회사 == \"한국갤럽\",\n         조사기간 &gt;= as.Date(\"2022-05-07\"))\n\nelection_interval &lt;- -interval(ymd(\"2024-04-10\"), ymd('2023-08-05'))\n\nelection_period   &lt;- as.period(election_interval, unit = \"month\") \n\nremaining_ymd &lt;- glue::glue(\"남은 기간:\\n {month(election_period)}월 {day(election_period)}일\")\n\nyoon_approval_gg &lt;- yoon_gg_tbl  |&gt; \n  ggplot(aes(x = 조사기간, y = 지지율, color= 긍부정)) +\n    geom_point(data = yoon_gg_tbl |&gt; filter(조사기간 == max(조사기간)), \n               aes(x = 조사기간, y = 지지율, color= 긍부정), size = 1.5) +\n    geom_hline(yintercept = 50, linetype = 2, color = \"gray50\") +\n    geom_vline(xintercept = as.Date(\"2024-04-10\"), linetype = 1, color = \"gray50\") +    \n    geom_line() +\n    scale_color_manual(values = c(\"긍정\" = \"blue\", \"부정\" = \"red\")) +\n    labs(x = \"\",\n         y = \"지지율(%)\",\n         title = \"윤석열 대통령 지지율 추세\") +\n    theme(legend.position = \"top\") +\n    expand_limits(x = c(as.Date(\"2022-05-10\"), as.Date(\"2027-05-09\"))) +\n    scale_x_date(date_labels =  \"%Y\", breaks = \"1 year\")  +\n    geom_text(aes(x=as.Date(\"2023-12-01\"), y = 60, label = remaining_ymd), \n              color = \"gray10\", size = 3, family = \"MaruBrui\") +\n    geom_text(aes(x=as.Date(\"2024-08-01\"), y = 65, label = \"제22대 총선\\n4월10일\"), \n              color = \"gray10\", size = 3, family = \"MaruBrui\")  \n\nyoon_approval_gg\n\nragg::agg_jpeg(\"images/대통령지지율/윤석열.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\nyoon_approval_gg\ndev.off()\n\n\n\n\n\n\n\n\n\n코드library(tidyverse)\nlibrary(rvest)\n\nmoon_url &lt;- 'https://namu.wiki/w/%EB%AC%B8%EC%9E%AC%EC%9D%B8/%EC%A7%80%EC%A7%80%EC%9C%A8'\n\nmoon_html &lt;- read_html(moon_url)\n\nmoon_list &lt;- moon_html |&gt; \n  html_nodes('table') |&gt; \n  html_table(header = TRUE)\n\nmoon_raw &lt;- moon_list |&gt; \n  enframe() |&gt; \n  mutate(nrow = map_int(value, nrow)) |&gt; \n  filter(nrow &gt; 30) |&gt; \n  mutate(id = row_number(),\n         조사회사 = ifelse(id &gt;6, \"리얼미터\", \"한국갤럽\")) \n\nclean_tbl &lt;- function(dataframe) {\n  three_tbl &lt;- dataframe |&gt; \n    janitor::clean_names(ascii = FALSE) |&gt; \n    select(1:3) |&gt; \n    set_names(c(\"조사기간\", \"긍정\", \"부정\")) |&gt; \n    filter(str_detect(조사기간, \"^\\\\d{4}년\"))\n}\n\nmoon_tbl &lt;- moon_raw |&gt; \n  mutate(data = map(value, clean_tbl)) |&gt; \n  filter(nrow &gt; 250) |&gt; \n  select(조사회사, data) |&gt; \n  unnest(data) |&gt; \n  mutate(긍정 = parse_number(긍정),\n         부정 = parse_number(부정)) |&gt; \n  fill(긍정, .direction = \"down\") |&gt; \n  fill(부정, .direction = \"down\") |&gt; \n  pivot_longer(긍정:부정, names_to = \"긍부정\", values_to = \"지지율\") \n\nconvert_korean_date &lt;- function(korean_date) {\n  # Split the input into components\n  components &lt;- strsplit(korean_date, \" \")[[1]]\n  \n  # Extract year, month, and week\n  year &lt;- as.numeric(gsub(\"년\", \"\", components[1]))\n  month &lt;- as.numeric(gsub(\"월\", \"\", components[2]))\n  week &lt;- as.numeric(gsub(\"주\", \"\", components[3]))\n  \n  # Construct the date - the first day of the month and year, then add weeks\n  date &lt;- make_date(year, month, 1) + weeks(week - 1)\n  \n  return(date)\n}\n  \nmoon_approval_gg &lt;- moon_tbl |&gt; \n  mutate(조사기간 = map(조사기간, convert_korean_date)) |&gt; \n  unnest(조사기간) |&gt; \n  mutate(조사회사 = factor(조사회사, levels = c(\"한국갤럽\", \"리얼미터\"))) |&gt; \n  filter(조사회사 == \"한국갤럽\") |&gt; \n  ggplot(aes(x = 조사기간, y = 지지율, color= 긍부정)) +\n    geom_hline(yintercept = 50, linetype = 2, color = \"gray50\") +  \n    geom_line() +\n    # facet_wrap(~조사회사) +\n    scale_color_manual(values = c(\"긍정\" = \"blue\", \"부정\" = \"red\")) +\n    labs(x = \"\",\n         y = \"지지율(%)\",\n         title = \"문재인 대통령 지지율 추세\") +\n    theme(legend.position = \"top\")\n\nmoon_approval_gg\n\nragg::agg_jpeg(\"images/대통령지지율/문재인.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\nmoon_approval_gg\ndev.off()\n\n\n\n\n\n\n\n\n\n코드\npark_url &lt;- 'https://namu.wiki/w/%EB%B0%95%EA%B7%BC%ED%98%9C/%EC%A7%80%EC%A7%80%EC%9C%A8'\n\npark_html &lt;- read_html(park_url)\n\npark_list &lt;- park_html |&gt; \n  html_nodes('table') |&gt; \n  html_table(header = TRUE)\n\npark_raw &lt;- park_list |&gt; \n  enframe() |&gt; \n  mutate(nrow = map_int(value, nrow)) |&gt; \n  filter(nrow &gt; 30) |&gt; \n  mutate(조사회사 = \"한국갤럽\") \n\n\npark_tbl &lt;- park_raw |&gt; \n  mutate(data = map(value, clean_tbl)) |&gt; \n  filter(nrow &gt; 200) |&gt; \n  select(조사회사, data) |&gt; \n  unnest(data) |&gt; \n  mutate(긍정 = parse_number(긍정),\n         부정 = parse_number(부정)) |&gt; \n  fill(긍정, .direction = \"down\") |&gt; \n  fill(부정, .direction = \"down\") |&gt; \n  pivot_longer(긍정:부정, names_to = \"긍부정\", values_to = \"지지율\") \n\npark_approval_gg &lt;- park_tbl |&gt; \n  mutate(조사기간 = map(조사기간, convert_korean_date)) |&gt; \n  unnest(조사기간) |&gt; \n  ggplot(aes(x = 조사기간, y = 지지율, color= 긍부정)) +\n    geom_hline(yintercept = 50, linetype = 2, color = \"gray50\") +  \n    geom_line() +\n    scale_color_manual(values = c(\"긍정\" = \"blue\", \"부정\" = \"red\")) +\n    labs(x = \"\",\n         y = \"지지율(%)\",\n         title = \"박근혜 대통령 지지율 추세\") +\n    theme(legend.position = \"top\")\n\npark_approval_gg\n\nragg::agg_jpeg(\"images/대통령지지율/박근혜.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\npark_approval_gg\ndev.off()\n\n\n\n\n\n\n\n\n\n코드\nlee_url &lt;- 'https://namu.wiki/w/%EC%9D%B4%EB%AA%85%EB%B0%95/%EC%A7%80%EC%A7%80%EC%9C%A8'\n\nlee_html &lt;- read_html(lee_url)\n\nlee_list &lt;- lee_html |&gt; \n  html_nodes('table') |&gt; \n  html_table(header = TRUE)\n\nlee_raw &lt;- lee_list |&gt; \n  enframe() |&gt; \n  mutate(nrow = map_int(value, nrow)) |&gt; \n  filter(nrow &gt; 30) |&gt; \n  mutate(조사회사 = \"한국갤럽\") \n\nconvert_ym_date &lt;- function(korean_date) {\n  \n  # Split the input into components\n  components &lt;- strsplit(korean_date, \" \")[[1]]\n  \n  # Extract year and month\n  year &lt;- as.numeric(gsub(\"년\", \"\", components[1]))\n  month &lt;- as.numeric(gsub(\"월\", \"\", components[2]))\n  \n  # Construct the date - the first day of the month and year\n  date &lt;- make_date(year, month, 15)\n  \n  return(date)\n}\n\nlee_tbl &lt;- lee_raw |&gt; \n  mutate(data = map(value, clean_tbl)) |&gt; \n  filter(nrow &gt; 90) |&gt; \n  select(조사회사, data) |&gt; \n  unnest(data) |&gt; \n  mutate(긍정 = parse_number(긍정),\n         부정 = parse_number(부정)) |&gt; \n  fill(긍정, .direction = \"down\") |&gt; \n  fill(부정, .direction = \"down\") |&gt; \n  separate(조사기간, into = c(\"시작\", \"끝\"), sep = \"-\") |&gt; \n  select(-끝) |&gt; \n  mutate(조사기간 = case_when(str_detect(시작, \"주$\") ~ map(시작, convert_korean_date), \n                              TRUE ~                    map(시작, convert_ym_date))) |&gt; \n  unnest(조사기간) |&gt; \n  mutate(조사기간 = as.Date(조사기간, origin = \"1970-01-01\"))\n\nprevious_date &lt;- ymd(\"2012-04-11\") - election_period\n\n\nlee_current_tbl &lt;- lee_tbl |&gt; \n  pivot_longer(긍정:부정, names_to = \"긍부정\", values_to = \"지지율\") |&gt; \n  filter(조사기간 == previous_date+9)\n\nlee_approval_gg &lt;- lee_tbl |&gt; \n  pivot_longer(긍정:부정, names_to = \"긍부정\", values_to = \"지지율\") |&gt;\n  ggplot(aes(x = 조사기간, y = 지지율, color= 긍부정)) +\n    geom_point(data = lee_current_tbl, aes(x = 조사기간, y = 지지율, color= 긍부정)) +\n    geom_text(data = lee_current_tbl, aes(x = 조사기간, y = 지지율, color= 긍부정,\n                                          label = 지지율), vjust = -1.5) +\n    geom_hline(yintercept = 50, linetype = 2, color = \"gray50\") +  \n    geom_line() +\n    scale_color_manual(values = c(\"긍정\" = \"blue\", \"부정\" = \"red\")) +\n    labs(x = \"\",\n         y = \"지지율(%)\",\n         title = \"이명박 대통령 지지율 추세\") +\n    theme(legend.position = \"top\") +\n    scale_x_date(date_labels =  \"%Y\", breaks = \"1 year\") +\n    geom_vline(xintercept = as.Date(\"2012-04-11\"), linetype = 1, color = \"gray50\") +\n    geom_text(aes(x=as.Date(\"2011-12-01\"), y = 45, label = remaining_ymd), \n              color = \"gray10\", size = 3, family = \"MaruBrui\") +\n    geom_text(aes(x=as.Date(\"2012-08-01\"), y = 65, label = \"제19대 총선\\n4월11일\"), \n              color = \"gray10\", size = 3, family = \"MaruBrui\")  \n  \nlee_approval_gg\n\nragg::agg_jpeg(\"images/대통령지지율/이명박.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\nlee_approval_gg\ndev.off()\n\n\n\n\n\n\n\n\n\n코드\nrho_url &lt;- 'https://namu.wiki/w/%ED%8B%80:%ED%95%9C%EA%B5%AD%EA%B0%A4%EB%9F%BD%20%EB%85%B8%EB%AC%B4%ED%98%84%20%EB%8C%80%ED%86%B5%EB%A0%B9%20%EA%B5%AD%EC%A0%95%EC%A7%80%EC%A7%80%EC%9C%A8'\n\nrho_html &lt;- read_html(rho_url)\n\nrho_list &lt;- rho_html |&gt; \n  html_nodes('table') |&gt; \n  html_table(header = TRUE)\n\nrho_raw &lt;- rho_list |&gt; \n  enframe() |&gt; \n  mutate(nrow = map_int(value, nrow)) |&gt; \n  filter(nrow &gt; 30) |&gt; \n  mutate(조사회사 = \"한국갤럽\") \n\n\nrho_tbl &lt;- rho_raw |&gt; \n  mutate(data = map(value, clean_tbl)) |&gt; \n  filter(nrow &gt; 20) |&gt; \n  select(조사회사, data) |&gt; \n  unnest(data) |&gt; \n  mutate(긍정 = parse_number(긍정),\n         부정 = parse_number(부정)) |&gt; \n  fill(긍정, .direction = \"down\") |&gt; \n  fill(부정, .direction = \"down\") |&gt; \n  separate(조사기간, into = c(\"시작\", \"끝\"), sep = \"-\") |&gt; \n  select(-끝) |&gt; \n  mutate(조사기간 = case_when(str_detect(시작, \"주$\") ~ map(시작, convert_korean_date), \n                              TRUE ~                    map(시작, convert_ym_date))) |&gt; \n  unnest(조사기간) |&gt; \n  mutate(조사기간 = as.Date(조사기간, origin = \"1970-01-01\"))\n  \n\nrho_approval_gg &lt;- rho_tbl |&gt; \n  pivot_longer(긍정:부정, names_to = \"긍부정\", values_to = \"지지율\") |&gt;\n  ggplot(aes(x = 조사기간, y = 지지율, color= 긍부정)) +\n    geom_hline(yintercept = 50, linetype = 2, color = \"gray50\") +  \n    geom_line() +\n    scale_color_manual(values = c(\"긍정\" = \"blue\", \"부정\" = \"red\")) +\n    labs(x = \"\",\n         y = \"지지율(%)\",\n         title = \"노무현 대통령 지지율 추세\") +\n    theme(legend.position = \"top\")\n\nrho_approval_gg\n\nragg::agg_jpeg(\"images/대통령지지율/노무현.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\nrho_approval_gg\ndev.off()\n\n\n\n\n\n\n\n코드rho_tbl |&gt; select(조사회사, 조사기간, 긍정, 부정)\n\nlee_tbl |&gt; select(조사회사, 조사기간, 긍정, 부정)\n\npark_tbl |&gt; pivot_wider(names_from = 긍부정, values_from = 지지율) |&gt; \n  filter(조사회사 == \"한국갤럽\")\n\nmoon_tbl |&gt; pivot_wider(names_from = 긍부정, values_from = 지지율) |&gt; \n  filter(조사회사 == \"한국갤럽\")\n\n\n\n\n대통령 지지율\n이명박/윤석열\n\n\n\n\n코드library(patchwork)\n\nall_approval_gg &lt;- (rho_approval_gg + lee_approval_gg + park_approval_gg)  /\n(moon_approval_gg + yoon_approval_gg)\n\nragg::agg_jpeg(\"images/대통령지지율/전체대통령.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\nall_approval_gg\ndev.off()\n\n\n\n\n\n\n\n\n\n코드two_approval_gg &lt;- (lee_approval_gg)  / (yoon_approval_gg)\n\nragg::agg_jpeg(\"images/대통령지지율/두대통령.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\ntwo_approval_gg\ndev.off()"
  },
  {
    "objectID": "approval_rate.html#결합",
    "href": "approval_rate.html#결합",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드rho_tbl |&gt; select(조사회사, 조사기간, 긍정, 부정)\n\nlee_tbl |&gt; select(조사회사, 조사기간, 긍정, 부정)\n\npark_tbl |&gt; pivot_wider(names_from = 긍부정, values_from = 지지율) |&gt; \n  filter(조사회사 == \"한국갤럽\")\n\nmoon_tbl |&gt; pivot_wider(names_from = 긍부정, values_from = 지지율) |&gt; \n  filter(조사회사 == \"한국갤럽\")\n\n\n\n\n대통령 지지율\n이명박/윤석열\n\n\n\n\n코드library(patchwork)\n\nall_approval_gg &lt;- (rho_approval_gg + lee_approval_gg + park_approval_gg)  /\n(moon_approval_gg + yoon_approval_gg)\n\nragg::agg_jpeg(\"images/대통령지지율/전체대통령.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\nall_approval_gg\ndev.off()\n\n\n\n\n\n\n\n\n\n코드two_approval_gg &lt;- (lee_approval_gg)  / (yoon_approval_gg)\n\nragg::agg_jpeg(\"images/대통령지지율/두대통령.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\ntwo_approval_gg\ndev.off()"
  },
  {
    "objectID": "approval_rate.html#년-기준",
    "href": "approval_rate.html#년-기준",
    "title": "지도제작 대회",
    "section": "\n2.1 1년 기준",
    "text": "2.1 1년 기준\n\n코드\nrm_url &lt;- glue::glue('https://namu.wiki/w/%ED%8B%80:%EB%A6%AC%EC%96%BC%EB%AF%B8%ED%84%B0%20{2006}%EB%85%84%20%EC%A0%95%EB%8B%B9%EC%A7%80%EC%A7%80%EC%9C%A8')\n\nrm_html &lt;- read_html(rm_url)\n\nrm_list &lt;- rm_html |&gt; \n  html_nodes('table') |&gt; \n  html_table(header = TRUE)\n\nrm_raw &lt;- rm_list |&gt; \n  enframe() |&gt; \n  mutate(nrow = map_int(value, nrow)) |&gt; \n  filter(name == 1) |&gt; \n  mutate(조사회사 = \"리얼미터\") \n\nremove_last &lt;- function(vector) {\n  if(vector[length(vector)] ==\"\") {\n    vector[1:(length(vector)-1)]\n  } else {\n    vector\n  }\n}\n\nmake_dataframe &lt;- function(x_vec, y_vec) {\n  data.frame(x_vec, y_vec)\n}\n\n## 정당명과 지지율\nrm_tbl &lt;- rm_raw |&gt; \n  mutate(data = map(value, janitor::clean_names, ascii = FALSE)) |&gt; \n  select(조사회사, data) |&gt; \n  unnest(data) |&gt;\n  select(contains(\"정당지지율\"), x_2) |&gt; \n  set_names(c(\"조사기간\", \"지지율\")) |&gt; \n  mutate(정당명 = ifelse(str_detect(조사기간, \"●\"), \n                      str_split(지지율, \"●\"), NA)) |&gt; \n  mutate(정당명 = map_chr(정당명, paste0, collapse=\"\")) |&gt; \n  mutate(정당명 = ifelse(정당명 == \"NA\", NA, 정당명)) |&gt; \n  fill(정당명, .direction = \"down\") |&gt; \n  filter(str_detect(조사기간, \"^\\\\d{1,2}월\")) |&gt; \n  mutate(지지율 = str_squish(지지율),\n         정당명 = str_squish(정당명)) |&gt; \n  mutate(정당명 = str_split(정당명, pattern = \"\\\\s+/\\\\s+\"),\n         지지율 = str_split(지지율, pattern = \"%\"))  |&gt; \n  mutate(지지율수 = map_int(지지율, length),\n         정당수   = map_int(정당명, length)) |&gt; \n  mutate(지지율 = ifelse(지지율수 == 정당수, 지지율,\n                      map(지지율, remove_last))) |&gt; \n  filter(abs(지지율수 - 정당수)  &lt; 2) |&gt; \n  mutate(data = map2(지지율, 정당명, make_dataframe)) |&gt; \n  select(조사기간, data)\n  \nrm_tbl |&gt; \n  unnest(data)"
  },
  {
    "objectID": "approval_rate.html#함수",
    "href": "approval_rate.html#함수",
    "title": "지도제작 대회",
    "section": "\n2.2 함수",
    "text": "2.2 함수\n\n코드\nget_party_data &lt;- function(year = \"2012\") {\n  \n  rm_url &lt;- glue::glue('https://namu.wiki/w/%ED%8B%80:%EB%A6%AC%EC%96%BC%EB%AF%B8%ED%84%B0%20',\n                       '{year}',\n                       '%EB%85%84%20%EC%A0%95%EB%8B%B9%EC%A7%80%EC%A7%80%EC%9C%A8') |&gt; as.character()\n\n  rm_html &lt;- read_html(rm_url)\n  \n  rm_list &lt;- rm_html |&gt; \n    html_nodes('table') |&gt; \n    html_table(header = TRUE)\n  \n  rm_raw &lt;- rm_list |&gt; \n    enframe() |&gt; \n    mutate(nrow = map_int(value, nrow)) |&gt; \n    filter(name == 1) |&gt; \n    mutate(조사회사 = \"리얼미터\") \n  \n  remove_last &lt;- function(vector) {\n    \n    if(length(vector) &lt; 3){\n      vector\n    } else if(vector[length(vector)] ==\"\") {\n      vector[1:(length(vector)-1)]\n    } else {\n      vector\n    }\n  }\n  \n  make_dataframe &lt;- function(x_vec, y_vec) {\n    min_row &lt;- min(length(x_vec), length(y_vec))\n    data.frame(x_vec = x_vec[1:min_row], y_vec = y_vec[1:min_row])\n  }\n  \n  ## 정당명과 지지율\n  rm_tbl &lt;- rm_raw |&gt; \n    mutate(data = map(value, janitor::clean_names, ascii = FALSE)) |&gt; \n    select(조사회사, data) |&gt; \n    unnest(data) |&gt;\n    select(contains(\"정당지지율\"), x_2) |&gt; \n    set_names(c(\"조사기간\", \"지지율\")) |&gt; \n    mutate(정당명 = ifelse(str_detect(조사기간, \"●\"), \n                        str_split(지지율, \"●\"), NA)) |&gt; \n    mutate(정당명 = map_chr(정당명, paste0, collapse=\"\")) |&gt; \n    mutate(정당명 = ifelse(정당명 == \"NA\", NA, 정당명)) |&gt; \n    fill(정당명, .direction = \"down\") |&gt; \n    filter(str_detect(조사기간, \"^\\\\d{1,2}월\")) |&gt; \n    mutate(지지율 = str_squish(지지율),\n           정당명 = str_squish(정당명)) |&gt; \n    mutate(정당명 = str_split(정당명, pattern = \"\\\\s+/\\\\s+\"),\n           지지율 = str_split(지지율, pattern = \"%\"))  |&gt; \n    mutate(지지율수 = map_int(지지율, length),\n           정당수   = map_int(정당명, length)) |&gt; \n    mutate(지지율 = ifelse(지지율수 == 정당수, 지지율, map(지지율, remove_last))) |&gt; \n    filter(abs(지지율수 - 정당수)  &lt; 2) |&gt; \n    mutate(지지율수 = map_int(지지율, length),\n           정당수   = map_int(정당명, length)) |&gt; \n    mutate(지지율 = ifelse(지지율수 != 정당수, NA, 지지율)) |&gt; \n    fill(지지율, .direction = \"up\") |&gt; \n    mutate(data = map2(지지율, 정당명, make_dataframe)) |&gt; \n    select(조사기간, data)\n\n  \n  rm_df &lt;- rm_tbl |&gt; unnest(data) |&gt; mutate(x_vec = parse_number(x_vec)) |&gt; \n    rename(지지율 = x_vec,\n           정당   = y_vec) |&gt; \n    mutate(연도 = year)\n  \n  return(rm_df)\n}\n\nget_party_data(\"2018\")"
  },
  {
    "objectID": "approval_rate.html#결합-1",
    "href": "approval_rate.html#결합-1",
    "title": "지도제작 대회",
    "section": "\n2.3 결합",
    "text": "2.3 결합\n\n코드\nsafely_get_party_data &lt;- safely(get_party_data, otherwise = \"오류\")\n\nyear &lt;- 2006:2023\n\nparty_raw &lt;- year |&gt; \n  enframe()  |&gt; \n  mutate(data = map(value, safely_get_party_data))\n\nparty_tbl &lt;- party_raw |&gt; \n  mutate(result = map(data, \"result\")) |&gt; \n  mutate(check = map_dbl(result, is_tibble)) |&gt; \n  unnest(result) |&gt; \n  select(연도, 조사기간, 정당, 지지율)\n\nparty_tbl |&gt; \n  write_csv(\"data/리얼미터_정당지지율.csv\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "1 참고 웹사이트\n\n#30DayMapChallenge 🌎🌏🌎\n30 DAY MAP CHALLENGE IN R\nAbdoulMa/30DayMapChallenge\n\n2 원천 지도\n\n\n국토교통부\n\n\nLX 한국국토정보공사, 구 한국지적공사\n\n공간정보산업진흥원\n\nVWorld, 공간정보오픈플랫폼\n\n\n\n국토지리정보원\n\n국토정보플랫폼\n\n국가공간정보포털\n\n오픈마켓, 90m 표고 데이터: [국토지리정보원] 수치표고모델(DEM)_90M\n\n\n\n\n\n\n대한민국 행정동 경계: admdongkor\n대한민국 최신 행정구역(SHP) 다운로드\n\n3 세계지도\n출처: Fixing maps library data for Pacific centred (0°-360° longitude) display\n\n\n세계지도: giscoR\n세계지도: maps\n세계지도: rnaturalearth\n아시아\n대한민국\n태평양 중심\n\n\n\n\n코드library(tidyverse)\nlibrary(sf)\n\n# download.file(url = \"https://gisco-services.ec.europa.eu/distribution/v2/countries/geojson/CNTR_RG_01M_2016_4326.geojson\", destfile = \"data/world.geojson\", mode = \"w\")\n# \n# world_sf &lt;- giscoR::gisco_get_countries(\n#   epsg = \"4326\",\n#   region = \"Asia\",\n#   resolution = \"1\",\n#   cache = TRUE, \n#   update_cache = TRUE\n# )\n\nworld_sf &lt;- sf::st_read(\"data/world.geojson\")\n#&gt; Reading layer `world' from data source `D:\\tcs\\map_challenge\\data\\world.geojson' using driver `GeoJSON'\n#&gt; Simple feature collection with 257 features and 6 fields\n#&gt; Geometry type: MULTIPOLYGON\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: -180 ymin: -89.9 xmax: 180 ymax: 83.66498\n#&gt; Geodetic CRS:  WGS 84\n\nplot(st_geometry(world_sf))\n\n\n\n\n\n\n\n\n\n\n코드# 필요한 라이브러리를 불러옵니다.\nlibrary(ggplot2)\nlibrary(maps)\n\n# 월드맵 데이터를 불러옵니다.\nworld_map &lt;- map_data(\"world\")\n\n# ggplot2를 사용해 지도를 그립니다.\nggplot() +\n  geom_polygon(data = world_map, aes(x = long, y = lat, group = group), fill = \"white\", color = \"black\") +\n  coord_cartesian(xlim = c(-180, 180)) +\n  theme_void()\n\n\n\n\n\n\n\n\n\n\n코드library(rnaturalearth)\n\n# Get the world map data\nworld &lt;- ne_countries(scale = \"medium\", returnclass = \"sf\")\n\n# Shift the map to center on the Pacific Ocean\nworld_trans &lt;- st_transform(st_wrap_dateline(world, options = c(\"WRAPDATELINE=YES\", \"DATELINEOFFSET=-180\")), crs = \"+proj=robin\")\n\n# Plot the world map\nggplot(data = world_trans) +\n  geom_sf() +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n코드asia_sf &lt;- giscoR::gisco_get_countries(\n  epsg = \"4326\",\n  region = \"Asia\",\n  resolution = \"60\",\n  cache = TRUE,\n  update_cache = TRUE\n)\n\nplot(st_geometry(asia_sf))\n\n\n\n\n\n\n\n\n\n\n코드library(tidyverse)\nlibrary(sf)\nlibrary(giscoR)\n\nkorea &lt;- giscoR::gisco_get_countries(\n    resolution = \"1\",\n    country = \"KOR\"\n) |&gt;\n    sf::st_transform(\"+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0\")\n\nplot(st_geometry(korea))\n\n\n\n\n\n\n\n\n\n\n코드library(maps)\n\nplot.map&lt;- function(database,center,...){\n    Obj &lt;- map(database,...,plot=F)\n    coord &lt;- cbind(Obj[[1]],Obj[[2]])\n\n    # split up the coordinates\n    id &lt;- rle(!is.na(coord[,1]))\n    id &lt;- matrix(c(1,cumsum(id$lengths)),ncol=2,byrow=T)\n    polygons &lt;- apply(id,1,function(i){coord[i[1]:i[2],]})\n\n    # split up polygons that differ too much\n    polygons &lt;- lapply(polygons,function(x){\n        x[,1] &lt;- x[,1] + center\n        x[,1] &lt;- ifelse(x[,1]&gt;180,x[,1]-360,x[,1])\n        if(sum(diff(x[,1])&gt;300,na.rm=T) &gt;0){\n          id &lt;- x[,1] &lt; 0\n          x &lt;- rbind(x[id,],c(NA,NA),x[!id,])\n       }\n       x\n    })\n    # reconstruct the object\n    polygons &lt;- do.call(rbind,polygons)\n    Obj[[1]] &lt;- polygons[,1]\n    Obj[[2]] &lt;- polygons[,2]\n\n    map(Obj,...)\n}\n\nplot.map(\"world\", center=210, col=\"white\",bg=\"gray\",\n         fill=TRUE, ylim=c(-60,90),mar=c(0,0,0,0))"
  },
  {
    "objectID": "km_BitGPT.html",
    "href": "km_BitGPT.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "행정안전부 주민등록 인구 및 세대현황 웹사이트에서 광명시 최근 데이터를 가져온다.\n\n코드library(tidyverse)\nlibrary(readxl)\n\nraw_data &lt;- read_excel(\"data/202307_202307_연령별인구현황_월간.xlsx\", skip =3) \n\nraw_data |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(1:10) |&gt; \n  head() |&gt; \n  gt::gt()\n\n\n\n\n\n행정기관코드\n      행정기관\n      총_인구수\n      연령구간인구수_4\n      x0세_5\n      x1세_6\n      x2세_7\n      x3세_8\n      x4세_9\n      x5세_10\n    \n\n\n4121000000\n경기도 경기도 광명시\n280,986\n280,986\n1,373\n1,470\n1,582\n1,588\n1,729\n1,924\n\n\n4121051000\n경기도 광명시 광명1동\n56\n56\n0\n0\n0\n0\n0\n0\n\n\n4121052000\n경기도 광명시 광명2동\n2,953\n2,953\n9\n7\n11\n5\n5\n8\n\n\n4121054000\n경기도 광명시 광명3동\n9,869\n9,869\n29\n21\n20\n20\n23\n24\n\n\n4121055000\n경기도 광명시 광명4동\n8,114\n8,114\n35\n29\n44\n27\n28\n35\n\n\n4121056000\n경기도 광명시 광명5동\n12,206\n12,206\n41\n40\n64\n51\n49\n60\n\n\n\n\n\n\n\n\n코드library(tidyverse)\n\npop_tbl &lt;- \n  read_rds(\"data/kwangmyung_pop.rds\")\n\npop_tbl |&gt; \n  head() |&gt; \n  gt::gt()\n\n\n\n\n\n시점\n      행정동\n      성별\n      나이\n      인구수\n    \n\n\n2023-07-15\n광명1동\n남자\n0\n0\n\n\n2023-07-15\n광명1동\n남자\n1\n0\n\n\n2023-07-15\n광명1동\n남자\n2\n0\n\n\n2023-07-15\n광명1동\n남자\n3\n0\n\n\n2023-07-15\n광명1동\n남자\n4\n0\n\n\n2023-07-15\n광명1동\n남자\n5\n0\n\n\n\n\n\n\n\n데이터를 가공한 후 챗GPT Code Interpreter 분석용으로 변환시켜 데이터를 전송한다.\n\n코드pop_tbl |&gt; \n  write_csv(\"data/kwangmyung_pop.csv\")\n\n\n\n\n\n\nCSV 파일 다운로드"
  },
  {
    "objectID": "realmeter_metro.html",
    "href": "realmeter_metro.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\nrm_url &lt;- glue::glue('http://www.realmeter.net/category/pdf/page/1/')\n\nrm_html &lt;- read_html(rm_url)\n\n## PDF 다운로드 링크 ---------------\nrm_links_text &lt;- rm_html |&gt; \n  html_nodes(\"a\") |&gt; \n  html_text()\n\nrm_links &lt;- rm_html |&gt; \n  html_nodes(\"a\") |&gt; \n  html_attr(\"href\")\n\nrm_pdf_raw &lt;- tibble('text' = rm_links_text, 'link' = rm_links)\n\nrm_pdf_tbl &lt;- rm_pdf_raw |&gt; \n  filter(str_detect(text, \"주간통계표\")) |&gt; \n  mutate(text = str_extract(text, \"\\\\d{2}년\\\\s+\\\\d{1,2}월\\\\s+\\\\d{1}주\"))  |&gt; \n  mutate(filename = str_extract(link, '[^/]+\\\\.pdf'))\n\n\n\n\n코드fs::dir_create(\"data/realmeter/\")\n\ndownload.file(url = rm_pdf_tbl$link[1], mode='wb', \n              destfile = glue::glue(\"data/realmeter/{rm_pdf_tbl$filename[1]}\"))\n\n\n\n\n코드link &lt;- rm_pdf_tbl$link[2]\nfilename &lt;- rm_pdf_tbl$filename[2]\n\ndownload_pdfs &lt;- function(link, filename) {\n  download.file(url = link, mode='wb', \n              destfile = glue::glue(\"data/realmeter/{filename}\"))\n}\n\ndownload_pdfs(link, filename)\n\n\n\n\n코드\nget_reports &lt;- function(page=\"1\"){\n  \n  rm_url &lt;- glue::glue('http://www.realmeter.net/category/pdf/page/{page}/')\n\n  rm_html &lt;- read_html(rm_url)\n  \n  ## PDF 다운로드 링크 ---------------\n  rm_links_text &lt;- rm_html |&gt; \n    html_nodes(\"a\") |&gt; \n    html_text()\n  \n  rm_links &lt;- rm_html |&gt; \n    html_nodes(\"a\") |&gt; \n    html_attr(\"href\")\n  \n  rm_pdf_raw &lt;- tibble('text' = rm_links_text, 'link' = rm_links)\n  \n  rm_pdf_tbl &lt;- rm_pdf_raw |&gt; \n    filter(str_detect(text, \"주간통계표\")) |&gt; \n    # mutate(text = str_extract(text, \"\\\\d{2}년\\\\s+\\\\d{1,2}월\\\\s+\\\\d{1}주\"))  |&gt; \n    mutate(filename = str_extract(link, '[^/]+\\\\.pdf')) |&gt; \n    mutate(link = ifelse(str_detect(link, \"^http\"), link, \n                         glue::glue(\"http://realmeter.cafe24.com{link}\")))\n  \n  return(rm_pdf_tbl)\n}\n\nget_reports(157)\n\npdf_pages &lt;- 1:157\n\npdf_report_raw &lt;- pdf_pages |&gt; \n  enframe(value = \"page\")  |&gt; \n  slice(156) |&gt; \n  mutate(data = map(page, get_reports)) \n\npdf_report_raw |&gt; \n  unnest(data) |&gt; \n  pull(link)\n\npdf_report_raw |&gt; \n  unnest(data) |&gt; \n  mutate(report = walk2(link, filename, download_pdfs))"
  },
  {
    "objectID": "realmeter_metro.html#pdf-다운로드-링크",
    "href": "realmeter_metro.html#pdf-다운로드-링크",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\nrm_url &lt;- glue::glue('http://www.realmeter.net/category/pdf/page/1/')\n\nrm_html &lt;- read_html(rm_url)\n\n## PDF 다운로드 링크 ---------------\nrm_links_text &lt;- rm_html |&gt; \n  html_nodes(\"a\") |&gt; \n  html_text()\n\nrm_links &lt;- rm_html |&gt; \n  html_nodes(\"a\") |&gt; \n  html_attr(\"href\")\n\nrm_pdf_raw &lt;- tibble('text' = rm_links_text, 'link' = rm_links)\n\nrm_pdf_tbl &lt;- rm_pdf_raw |&gt; \n  filter(str_detect(text, \"주간통계표\")) |&gt; \n  mutate(text = str_extract(text, \"\\\\d{2}년\\\\s+\\\\d{1,2}월\\\\s+\\\\d{1}주\"))  |&gt; \n  mutate(filename = str_extract(link, '[^/]+\\\\.pdf'))"
  },
  {
    "objectID": "realmeter_metro.html#pdf-다운로드",
    "href": "realmeter_metro.html#pdf-다운로드",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드fs::dir_create(\"data/realmeter/\")\n\ndownload.file(url = rm_pdf_tbl$link[1], mode='wb', \n              destfile = glue::glue(\"data/realmeter/{rm_pdf_tbl$filename[1]}\"))"
  },
  {
    "objectID": "realmeter_metro.html#pdf-다운로드-함수",
    "href": "realmeter_metro.html#pdf-다운로드-함수",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드link &lt;- rm_pdf_tbl$link[2]\nfilename &lt;- rm_pdf_tbl$filename[2]\n\ndownload_pdfs &lt;- function(link, filename) {\n  download.file(url = link, mode='wb', \n              destfile = glue::glue(\"data/realmeter/{filename}\"))\n}\n\ndownload_pdfs(link, filename)"
  },
  {
    "objectID": "realmeter_metro.html#전체-다운로드",
    "href": "realmeter_metro.html#전체-다운로드",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\nget_reports &lt;- function(page=\"1\"){\n  \n  rm_url &lt;- glue::glue('http://www.realmeter.net/category/pdf/page/{page}/')\n\n  rm_html &lt;- read_html(rm_url)\n  \n  ## PDF 다운로드 링크 ---------------\n  rm_links_text &lt;- rm_html |&gt; \n    html_nodes(\"a\") |&gt; \n    html_text()\n  \n  rm_links &lt;- rm_html |&gt; \n    html_nodes(\"a\") |&gt; \n    html_attr(\"href\")\n  \n  rm_pdf_raw &lt;- tibble('text' = rm_links_text, 'link' = rm_links)\n  \n  rm_pdf_tbl &lt;- rm_pdf_raw |&gt; \n    filter(str_detect(text, \"주간통계표\")) |&gt; \n    # mutate(text = str_extract(text, \"\\\\d{2}년\\\\s+\\\\d{1,2}월\\\\s+\\\\d{1}주\"))  |&gt; \n    mutate(filename = str_extract(link, '[^/]+\\\\.pdf')) |&gt; \n    mutate(link = ifelse(str_detect(link, \"^http\"), link, \n                         glue::glue(\"http://realmeter.cafe24.com{link}\")))\n  \n  return(rm_pdf_tbl)\n}\n\nget_reports(157)\n\npdf_pages &lt;- 1:157\n\npdf_report_raw &lt;- pdf_pages |&gt; \n  enframe(value = \"page\")  |&gt; \n  slice(156) |&gt; \n  mutate(data = map(page, get_reports)) \n\npdf_report_raw |&gt; \n  unnest(data) |&gt; \n  pull(link)\n\npdf_report_raw |&gt; \n  unnest(data) |&gt; \n  mutate(report = walk2(link, filename, download_pdfs))"
  },
  {
    "objectID": "realmeter_metro.html#다운로드-목록",
    "href": "realmeter_metro.html#다운로드-목록",
    "title": "지도제작 대회",
    "section": "\n2.1 다운로드 목록",
    "text": "2.1 다운로드 목록\n\n코드library(tidyverse)\nlibrary(rvest)\n\n## 함수\nget_reports &lt;- function(page=\"1\"){\n  \n  cat(\"\\n----------------------------\\n\", \n      \"     \", page, \" 페이지\",\n      \"\\n----------------------------\\n\")\n  \n  rm_url &lt;- glue::glue('http://www.realmeter.net/category/pdf/page/{page}/')\n\n  rm_html &lt;- read_html(rm_url)\n  \n  ## PDF 다운로드 링크 ---------------\n  rm_links_text &lt;- rm_html |&gt; \n    html_nodes(\"a\") |&gt; \n    html_text()\n  \n  rm_links &lt;- rm_html |&gt; \n    html_nodes(\"a\") |&gt; \n    html_attr(\"href\")\n  \n  rm_pdf_raw &lt;- tibble('text' = rm_links_text, 'link' = rm_links)\n  \n  rm_pdf_tbl &lt;- rm_pdf_raw |&gt; \n    filter(str_detect(text, \"주간통계표\")) |&gt; \n    # mutate(text = str_extract(text, \"\\\\d{2}년\\\\s+\\\\d{1,2}월\\\\s+\\\\d{1}주\"))  |&gt; \n    mutate(filename = str_extract(link, '[^/]+\\\\.pdf')) |&gt; \n    mutate(link = ifelse(str_detect(link, \"^http\"), link, \n                         glue::glue(\"http://realmeter.cafe24.com{link}\")))\n  \n  return(rm_pdf_tbl)\n}\n\n## 다운로드 페이지\n\npdf_pages &lt;- 1:158\n\npdf_report_raw &lt;- pdf_pages |&gt; \n  enframe(value = \"page\")  |&gt; \n  mutate(data = map(page, get_reports))\n\npdf_report_tbl &lt;- pdf_report_raw |&gt; \n  select(data) |&gt; \n  mutate(nrow = map_int(data, nrow)) |&gt; \n  filter(nrow !=0) |&gt; \n  unnest(data)\n\npdf_report_tbl |&gt; \n  write_rds(\"data/realmeter/pdf_report_tbl.rds\")"
  },
  {
    "objectID": "realmeter_metro.html#pdf-다운로드-1",
    "href": "realmeter_metro.html#pdf-다운로드-1",
    "title": "지도제작 대회",
    "section": "\n2.2 PDF 다운로드",
    "text": "2.2 PDF 다운로드\n\n코드pdf_report_tbl &lt;- \n  read_rds(\"data/realmeter/pdf_report_tbl.rds\")\n\n\ndownload_pdfs &lt;- function(link, filename) {\n  cat(\"\\n----------------------------\\n\", \n      \"     \", filename, \": 파일명\",\n      \"\\n----------------------------\\n\")\n  download.file(url = link, mode='wb', \n              destfile = glue::glue(\"data/realmeter/{filename}\"))\n}\n\npdf_report_tbl |&gt; \n  mutate(pdfs = walk2(link, filename, download_pdfs))"
  },
  {
    "objectID": "realmeter_metro.html#윤석열-대통령-이후",
    "href": "realmeter_metro.html#윤석열-대통령-이후",
    "title": "지도제작 대회",
    "section": "\n3.1 윤석열 대통령 이후",
    "text": "3.1 윤석열 대통령 이후\n\n코드library(tidyverse)\nlibrary(fs)\n\npdf_report_tbl &lt;- \n  read_rds(\"data/realmeter/pdf_report_tbl.rds\")\n\nlocal_path_file &lt;- fs::dir_ls(\"data/realmeter/\") |&gt; \n  enframe(value = \"path_file\") |&gt; \n  mutate(filename = path_file(name)) |&gt; \n  select(path_file, filename)\n\n# 날짜 변환 함수\nconvert_to_date &lt;- function(d) {\n  year &lt;- as.numeric(sub(\"년.*\", \"\", d)) + 2000  # 2000을 더해서 4자리 연도를 만듭니다.\n  month &lt;- as.numeric(sub(\".* (\\\\d+)월.*\", \"\\\\1\", d))\n  week &lt;- as.numeric(sub(\".*월 (\\\\d+)주\", \"\\\\1\", d))\n  start_date &lt;- ymd(paste(year, month, 1, sep = \"-\"))\n  \n  return(start_date + days(7 * (week - 1)))\n}\n\n\nyoon_pdf &lt;- pdf_report_tbl |&gt; \n  left_join(local_path_file) |&gt; \n  select(text, path_file, filename) |&gt; \n  mutate(date = str_extract(text, pattern = '(\\\\d+년 \\\\d+월 \\\\d+주)')) |&gt; \n  mutate(date = convert_to_date(date)) |&gt; \n  filter(date &gt; as.Date(\"2022-05-01\"),\n         str_detect(filename, \"주간통계표\")) |&gt; \n  select(date, path_file, filename) |&gt; \n  arrange(date)\n\nyoon_pdf"
  },
  {
    "objectID": "realmeter_metro.html#응답자-특성",
    "href": "realmeter_metro.html#응답자-특성",
    "title": "지도제작 대회",
    "section": "\n3.2 응답자 특성",
    "text": "3.2 응답자 특성\n\n코드library(pdftools)\nlibrary(openai)\n\nraw_text &lt;- pdftools::pdf_text(pdf = \"data/realmeter/주간통계표22년5월2주최종_y51w.pdf\")\n\ndemo_text &lt;- raw_text |&gt; \n  enframe() |&gt; \n  mutate(value = str_squish(value)) |&gt; \n  # filter(str_detect(value, \"^(?=.*보수)(?=.*중도)(?=.*진보)\")) |&gt; \n  filter(str_detect(value, \"응답자\\\\s+특성\")) |&gt; \n  pull(value)\n\nsystem_task &lt;- glue::glue(\"당신은 통계 데이터 전문가입니다.\n                          당신에게 텍스트 형식의 표로 주어졌을 때,\n                          설명은 없이 텍스트를 표로 바꾸는 것입니다.\",\n                          \"텍스트 형식의 표는 다음과 같습니다.\",\n                          \"데이터의 상단에는 표의 칼럼명이 위치하고 첫번째 혹은 \n                          두번째 칼럼은 다차원표의 범주(Level)에 대한 정보를 담고 있고\n                          나머지 셀은 숫자로 구성됩니다.\")\n                          # \"'만18세 이상 29세 이하'는 하나의 값입니다.\")\n\ngpt_response &lt;- create_chat_completion(\n            # model = \"gpt-3.5-turbo\",\n            model = \"gpt-4\",\n            messages = list(\n              list(\n                \"role\" = \"system\",\n                \"content\" = system_task\n              ),\n              list(\n                \"role\" = \"user\",\n                \"content\" = demo_text\n              )\n            ),\n            temperature = 0,\n            top_p = 1,\n            n = 1,\n            openai_api_key = Sys.getenv(\"OPENAI_API_KEY\"),\n            openai_organization = NULL\n          )\n\n\ngpt_response |&gt; \n  write_rds(\"data/realmeter_deom.rds\")\n\n\n\n코드library(tidyverse)\nlibrary(openai)\n\ngpt_response &lt;- \n  read_rds(\"data/realmeter_deom.rds\")\n\nresult_md &lt;- gpt_response |&gt; \n  pluck('choices') |&gt; \n  pull('message.content')  |&gt; \n  str_split(\"\\n\") %&gt;%\n  .[[1]]\n  \nresult_md\n#&gt;  [1] \"| 구 분 | 사례수(명) | 비율(%) | 가중값 사례수(명) | 가중값 비율(%) | 배율 |\"\n#&gt;  [2] \"|---|---|---|---|---|---|\"                                                   \n#&gt;  [3] \"| 전 체 | 2526 | 100.0 | 2526 | 100.0 | 1.00 |\"                              \n#&gt;  [4] \"| 남 자 | 1566 | 62.0 | 1252 | 49.6 | 0.80 |\"                                \n#&gt;  [5] \"| 여 자 | 960 | 38.0 | 1274 | 50.4 | 1.33 |\"                                 \n#&gt;  [6] \"| 만18세이상 | 300 | 11.9 | 437 | 17.3 | 1.46 |\"                             \n#&gt;  [7] \"| 2 9 세 이 하 | 292 | 11.6 | 382 | 15.1 | 1.31 |\"                           \n#&gt;  [8] \"| 4 0 대 | 404 | 16.0 | 467 | 18.5 | 1.16 |\"                                 \n#&gt;  [9] \"| 5 0 대 | 626 | 24.8 | 493 | 19.5 | 0.79 |\"                                 \n#&gt; [10] \"| 6 0 대 | 545 | 21.6 | 410 | 16.2 | 0.75 |\"                                 \n#&gt; [11] \"| 7 0 세 이 상 | 359 | 14.2 | 337 | 13.3 | 0.94 |\"                           \n#&gt; [12] \"| 서 울 | 619 | 24.5 | 478 | 18.9 | 0.77 |\"                                  \n#&gt; [13] \"| 인 천 / 경 기 | 768 | 30.4 | 798 | 31.6 | 1.04 |\"                          \n#&gt; [14] \"| 대전/세종/충청 | 231 | 9.1 | 268 | 10.6 | 1.16 |\"                          \n#&gt; [15] \"| 강 원 | 79 | 3.1 | 74 | 2.9 | 0.94 |\"                                      \n#&gt; [16] \"| 부산/울산/경남 | 315 | 12.5 | 381 | 15.1 | 1.21 |\"                         \n#&gt; [17] \"| 대 구 / 경 북 | 223 | 8.8 | 248 | 9.8 | 1.11 |\"                            \n#&gt; [18] \"| 광 주 / 전 라 | 257 | 10.2 | 248 | 9.8 | 0.96 |\"                           \n#&gt; [19] \"| 제 주 | 34 | 1.3 | 31 | 1.2 | 0.91 |\"\n\n\nmarkdown_to_df &lt;- function(markdown_table) {\n  \n  # Remove rows with only dashes (assuming they're separator rows)\n  markdown_table &lt;- markdown_table[!str_detect(markdown_table, \"^\\\\|[-]+\\\\|\")]\n\n  # Split each line into its components based on the pipe delimiter\n  split_lines &lt;- str_split(markdown_table, \"\\\\|\")\n  \n  # Extract headers and data\n  headers &lt;- str_trim(unlist(split_lines[1]))\n  data &lt;- do.call(rbind, split_lines[-1])\n  \n  # Convert data to dataframe and assign column names\n  df &lt;- as.data.frame(data, stringsAsFactors = FALSE)\n  colnames(df) &lt;- headers\n  \n  return(df)\n}\n\ndemo_raw &lt;- markdown_to_df(result_md)\n\ndeom_tbl &lt;- demo_raw |&gt; \n  janitor::clean_names(ascii= FALSE) |&gt; \n  select(!starts_with(\"x\")) |&gt; \n  set_names(c(\"구분\", \"완료_사례\", \"완료_비율\", \"가중_사례\", \"가중_비율\", \"가중값\")) |&gt; \n  as_tibble() |&gt; \n  mutate_all(str_squish) |&gt; \n  mutate(구분 = str_remove_all(구분, \"\\\\s+\")) |&gt; \n  mutate(구분 = case_when(str_detect(구분, \"만18세이상\") ~ \"20대\",\n                          str_detect(구분, \"29세이하\") ~ \"30대\",\n                          TRUE ~ 구분))\n\ndeom_tbl |&gt; \n  gt::gt()\n\n\n\n\n\n구분\n      완료_사례\n      완료_비율\n      가중_사례\n      가중_비율\n      가중값\n    \n\n\n전체\n2526\n100.0\n2526\n100.0\n1.00\n\n\n남자\n1566\n62.0\n1252\n49.6\n0.80\n\n\n여자\n960\n38.0\n1274\n50.4\n1.33\n\n\n20대\n300\n11.9\n437\n17.3\n1.46\n\n\n30대\n292\n11.6\n382\n15.1\n1.31\n\n\n40대\n404\n16.0\n467\n18.5\n1.16\n\n\n50대\n626\n24.8\n493\n19.5\n0.79\n\n\n60대\n545\n21.6\n410\n16.2\n0.75\n\n\n70세이상\n359\n14.2\n337\n13.3\n0.94\n\n\n서울\n619\n24.5\n478\n18.9\n0.77\n\n\n인천/경기\n768\n30.4\n798\n31.6\n1.04\n\n\n대전/세종/충청\n231\n9.1\n268\n10.6\n1.16\n\n\n강원\n79\n3.1\n74\n2.9\n0.94\n\n\n부산/울산/경남\n315\n12.5\n381\n15.1\n1.21\n\n\n대구/경북\n223\n8.8\n248\n9.8\n1.11\n\n\n광주/전라\n257\n10.2\n248\n9.8\n0.96\n\n\n제주\n34\n1.3\n31\n1.2\n0.91"
  },
  {
    "objectID": "nbs_metro.html",
    "href": "nbs_metro.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\nnbs_url &lt;- \"http://nbsurvey.kr/files\"\n\nnbs_bbs &lt;- read_html(nbs_url)\n\nnbs_bbs_raw &lt;- nbs_bbs |&gt; \n  html_nodes('.pagination-large') |&gt; \n  html_nodes('.btn-page') |&gt; \n  html_nodes('a') |&gt; \n  html_attr('href')\n\nnbs_bbs_lists &lt;- c('http://nbsurvey.kr/files?mode=list', nbs_bbs_raw[2:length(nbs_bbs_raw)], 'http://nbsurvey.kr/files?mode=list&board_page=11')\n\nnbs_bbs_lists\n\n\n\n\n코드\npage_html &lt;- read_html(nbs_bbs_list[2])\n\npage_links &lt;- page_html |&gt; \n  html_nodes(\"a\") |&gt; \n  html_attr('href') \n\npage_report_links_raw &lt;- page_links[str_detect(page_links, \"vid=\")] \n\npage_report_links &lt;- page_report_links_raw[!is.na(page_report_links_raw)]\n\npage_report_links\n\n\n\n\n코드library(httr)\n\nreport_html &lt;- read_html(page_report_links[1])\n\nreport_filename &lt;- report_html |&gt; \n  html_nodes('a.file-download') |&gt; \n  html_text() |&gt; \n  str_extract(pattern = \"\\\\((NBS)\\\\)_\\\\d+차_결과\\\\.zip\")\n\n\nreport_download_url &lt;- glue::glue(\"http://nbsurvey.kr/wp-content/plugins/mangboard/includes/mb-file.php\",\n                                  \"?path=MjAyMy8wMy8zMC9GMjc1XyhOQlMpXzkz7LCoX%2BqysOqzvC56aXA%3D\",\n                                  \"&type=download\",\n                                  \"&file_name={I(report_filename)}\")\n\n# fs::dir_create(\"data/NBS\")\n\ndownload.file(report_download_url, mode='wb', destfile = glue::glue(\"data/NBS/{report_filename}\"))"
  },
  {
    "objectID": "nbs_metro.html#자료실-목록",
    "href": "nbs_metro.html#자료실-목록",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\nnbs_url &lt;- \"http://nbsurvey.kr/files\"\n\nnbs_bbs &lt;- read_html(nbs_url)\n\nnbs_bbs_raw &lt;- nbs_bbs |&gt; \n  html_nodes('.pagination-large') |&gt; \n  html_nodes('.btn-page') |&gt; \n  html_nodes('a') |&gt; \n  html_attr('href')\n\nnbs_bbs_lists &lt;- c('http://nbsurvey.kr/files?mode=list', nbs_bbs_raw[2:length(nbs_bbs_raw)], 'http://nbsurvey.kr/files?mode=list&board_page=11')\n\nnbs_bbs_lists"
  },
  {
    "objectID": "nbs_metro.html#페이지별-보고서-링크",
    "href": "nbs_metro.html#페이지별-보고서-링크",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\npage_html &lt;- read_html(nbs_bbs_list[2])\n\npage_links &lt;- page_html |&gt; \n  html_nodes(\"a\") |&gt; \n  html_attr('href') \n\npage_report_links_raw &lt;- page_links[str_detect(page_links, \"vid=\")] \n\npage_report_links &lt;- page_report_links_raw[!is.na(page_report_links_raw)]\n\npage_report_links"
  },
  {
    "objectID": "nbs_metro.html#보고서-파일",
    "href": "nbs_metro.html#보고서-파일",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(httr)\n\nreport_html &lt;- read_html(page_report_links[1])\n\nreport_filename &lt;- report_html |&gt; \n  html_nodes('a.file-download') |&gt; \n  html_text() |&gt; \n  str_extract(pattern = \"\\\\((NBS)\\\\)_\\\\d+차_결과\\\\.zip\")\n\n\nreport_download_url &lt;- glue::glue(\"http://nbsurvey.kr/wp-content/plugins/mangboard/includes/mb-file.php\",\n                                  \"?path=MjAyMy8wMy8zMC9GMjc1XyhOQlMpXzkz7LCoX%2BqysOqzvC56aXA%3D\",\n                                  \"&type=download\",\n                                  \"&file_name={I(report_filename)}\")\n\n# fs::dir_create(\"data/NBS\")\n\ndownload.file(report_download_url, mode='wb', destfile = glue::glue(\"data/NBS/{report_filename}\"))"
  },
  {
    "objectID": "nbs_metro.html#한-페이지",
    "href": "nbs_metro.html#한-페이지",
    "title": "지도제작 대회",
    "section": "\n2.1 한 페이지",
    "text": "2.1 한 페이지\n\n코드\n# for(i in 1:length(page_report_links)) {\n#   cat(\"\\n\", i, \"----------\", page_report_links[i], \"\\n\")\n#   download_zip_report(page_report_links[i])\n# }\n\ndownload_zip_report &lt;- function(page_report_link) {\n  \n  report_html &lt;- read_html(page_report_link)\n\n  report_filename &lt;- report_html |&gt; \n    html_nodes('a.file-download') |&gt; \n    html_text() |&gt; \n    str_extract(pattern = \"\\\\((NBS)\\\\)_\\\\d+차_결과\\\\.zip\")\n  \n  \n  report_download_url &lt;- glue::glue(\"http://nbsurvey.kr/wp-content/plugins/mangboard/includes/mb-file.php\",\n                                    \"?path=MjAyMy8wMy8zMC9GMjc1XyhOQlMpXzkz7LCoX%2BqysOqzvC56aXA%3D\",\n                                    \"&type=download\",\n                                    \"&file_name={I(report_filename)}\")\n  \n  download.file(report_download_url, mode='wb', destfile = glue::glue(\"data/NBS/{report_filename}\"))\n}\n\nwalk(page_report_links, download_zip_report)"
  },
  {
    "objectID": "nbs_metro.html#젠체-페이지",
    "href": "nbs_metro.html#젠체-페이지",
    "title": "지도제작 대회",
    "section": "\n2.2 젠체 페이지",
    "text": "2.2 젠체 페이지\n\n코드\nnbs_bbs_lists\n\nget_page_links &lt;- function(nbs_bbs_list) {\n  \n  page_html &lt;- read_html(nbs_bbs_list)\n\n  page_links &lt;- page_html |&gt; \n    html_nodes(\"a\") |&gt; \n    html_attr('href') \n  \n  page_report_links_raw &lt;- page_links[str_detect(page_links, \"vid=\")] \n  \n  page_report_links &lt;- page_report_links_raw[!is.na(page_report_links_raw)]\n  \n  page_report_links\n}\n\nnbs_bbs_tbl &lt;- nbs_bbs_lists |&gt; \n  enframe(value = \"page_url\") |&gt; \n  mutate(data = map(page_url, get_page_links))\n\nnbs_bbs_tbl |&gt; \n  unnest(data)\n\n\ndownload_zip_report &lt;- function(page_report_link) {\n  \n  report_html &lt;- read_html(page_report_link)\n\n  report_filename &lt;- report_html |&gt; \n    html_nodes('a.file-download') |&gt; \n    html_text() |&gt; \n    str_extract(pattern = \"\\\\((NBS)\\\\)_\\\\d+차_결과\\\\.zip\")\n  \n  \n  report_download_url &lt;- glue::glue(\"http://nbsurvey.kr/wp-content/plugins/mangboard/includes/mb-file.php\",\n                                    \"?path=MjAyMy8wMy8zMC9GMjc1XyhOQlMpXzkz7LCoX%2BqysOqzvC56aXA%3D\",\n                                    \"&type=download\",\n                                    \"&file_name={I(report_filename)}\")\n  \n  download.file(report_download_url, mode='wb', destfile = glue::glue(\"data/NBS/{report_filename}\"))\n}\n\nwalk(page_report_links, download_zip_report)"
  },
  {
    "objectID": "gallop_metro.html",
    "href": "gallop_metro.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "1 데이터"
  },
  {
    "objectID": "km_BitGPT.html#원본-데이터",
    "href": "km_BitGPT.html#원본-데이터",
    "title": "지도제작 대회",
    "section": "",
    "text": "행정안전부 주민등록 인구 및 세대현황 웹사이트에서 광명시 최근 데이터를 가져온다.\n\n코드library(tidyverse)\nlibrary(readxl)\n\nraw_data &lt;- read_excel(\"data/202307_202307_연령별인구현황_월간.xlsx\", skip =3) \n\nraw_data |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(1:10) |&gt; \n  head() |&gt; \n  gt::gt()\n\n\n\n\n\n행정기관코드\n      행정기관\n      총_인구수\n      연령구간인구수_4\n      x0세_5\n      x1세_6\n      x2세_7\n      x3세_8\n      x4세_9\n      x5세_10\n    \n\n\n4121000000\n경기도 경기도 광명시\n280,986\n280,986\n1,373\n1,470\n1,582\n1,588\n1,729\n1,924\n\n\n4121051000\n경기도 광명시 광명1동\n56\n56\n0\n0\n0\n0\n0\n0\n\n\n4121052000\n경기도 광명시 광명2동\n2,953\n2,953\n9\n7\n11\n5\n5\n8\n\n\n4121054000\n경기도 광명시 광명3동\n9,869\n9,869\n29\n21\n20\n20\n23\n24\n\n\n4121055000\n경기도 광명시 광명4동\n8,114\n8,114\n35\n29\n44\n27\n28\n35\n\n\n4121056000\n경기도 광명시 광명5동\n12,206\n12,206\n41\n40\n64\n51\n49\n60"
  },
  {
    "objectID": "km_BitGPT.html#가공데이터",
    "href": "km_BitGPT.html#가공데이터",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\n\npop_tbl &lt;- \n  read_rds(\"data/kwangmyung_pop.rds\")\n\npop_tbl |&gt; \n  head() |&gt; \n  gt::gt()\n\n\n\n\n\n시점\n      행정동\n      성별\n      나이\n      인구수\n    \n\n\n2023-07-15\n광명1동\n남자\n0\n0\n\n\n2023-07-15\n광명1동\n남자\n1\n0\n\n\n2023-07-15\n광명1동\n남자\n2\n0\n\n\n2023-07-15\n광명1동\n남자\n3\n0\n\n\n2023-07-15\n광명1동\n남자\n4\n0\n\n\n2023-07-15\n광명1동\n남자\n5\n0"
  },
  {
    "objectID": "km_BitGPT.html#챗gpt-데이터-변환",
    "href": "km_BitGPT.html#챗gpt-데이터-변환",
    "title": "지도제작 대회",
    "section": "",
    "text": "데이터를 가공한 후 챗GPT Code Interpreter 분석용으로 변환시켜 데이터를 전송한다.\n\n코드pop_tbl |&gt; \n  write_csv(\"data/kwangmyung_pop.csv\")\n\n\n\n\n\n\nCSV 파일 다운로드"
  },
  {
    "objectID": "km_BitGPT.html#연도별-인구수",
    "href": "km_BitGPT.html#연도별-인구수",
    "title": "지도제작 대회",
    "section": "\n4.1 연도별 인구수",
    "text": "4.1 연도별 인구수\n\n코드library(tidyverse)\n\npop_tbl &lt;- \n  read_rds(\"data/kwangmyung_pop.rds\")\n\npop_tbl |&gt; \n  mutate(시점 = ymd(시점)) |&gt; \n  mutate(연도 = year(시점)) |&gt; \n  group_by(연도) |&gt; \n  summarise(인구수 = sum(인구수)) |&gt; \n  ggplot(aes(x=연도, y=인구수)) +\n    geom_line(color=\"skyblue\", size=1.5) +\n    geom_point(color=\"blue\", size=3) +\n    labs(title=\"광명시 인구수 변화\", x=\"\", y=\"인구수(명)\",\n         caption = \"데이터 출처: 행정안전부 주민등록 인구 및 세대현황\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::comma)"
  },
  {
    "objectID": "km_BitGPT.html#연도별-인구수-1",
    "href": "km_BitGPT.html#연도별-인구수-1",
    "title": "지도제작 대회",
    "section": "\n4.2 연도별 인구수",
    "text": "4.2 연도별 인구수\n\n코드library(tidyverse)\n\npop_tbl &lt;- \n  read_rds(\"data/kwangmyung_pop.rds\")\n\npop_tbl |&gt; \n  mutate(시점 = ymd(시점)) |&gt; \n  mutate(연도 = year(시점)) |&gt; \n  group_by(연도) |&gt; \n  summarise(인구수 = sum(인구수)) |&gt; \n  ggplot(aes(x=연도, y=인구수)) +\n    geom_line(color=\"skyblue\", size=1.5) +\n    geom_point(color=\"blue\", size=3) +\n    labs(title=\"광명시 인구수 변화\", x=\"\", y=\"인구수(명)\",\n         caption = \"데이터 출처: 행정안전부 주민등록 인구 및 세대현황\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::comma)"
  },
  {
    "objectID": "km_BitGPT.html#동별-인구수",
    "href": "km_BitGPT.html#동별-인구수",
    "title": "지도제작 대회",
    "section": "\n4.3 동별 인구수",
    "text": "4.3 동별 인구수\n\n코드\npop_tbl |&gt; \n  mutate(시점 = ymd(시점)) |&gt; \n  mutate(연도 = year(시점)) |&gt; \n  group_by(연도, 행정동) |&gt; \n  summarise(인구수 = sum(인구수)) |&gt; \n  ggplot(aes(x=연도, y=인구수, color = 행정동, group=행정동)) +\n    geom_line(size=1.5) +\n    geom_point(color=\"blue\", size=3) +\n    labs(title=\"광명시 동별 인구수 변화\", x=\"\", y=\"인구수(명)\",\n         caption = \"데이터 출처: 행정안전부 주민등록 인구 및 세대현황\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::comma)"
  },
  {
    "objectID": "km_BitGPT.html#유권자-비율-1",
    "href": "km_BitGPT.html#유권자-비율-1",
    "title": "지도제작 대회",
    "section": "\n4.4 유권자 비율",
    "text": "4.4 유권자 비율\n\n코드pop_tbl |&gt; \n  mutate(시점 = ymd(시점)) |&gt; \n  mutate(연도 = year(시점)) |&gt; \n  mutate(유권자 = ifelse(나이 &gt;=18, \"유권자\", \"비유권자\"),\n         유권자 = factor(유권자, levels = c(\"비유권자\", '유권자'))) |&gt; \n  group_by(유권자) |&gt; \n  summarise(인구수 = sum(인구수)) |&gt; \n  ggplot(aes(x=\"\", y=인구수, fill = 유권자)) +\n    geom_bar(width = 1, stat = \"identity\") +\n    coord_polar(\"y\")  +\n    labs(title=\"광명시 유권자 비율\",\n         caption = \"데이터 출처: 행정안전부 주민등록 인구 및 세대현황\",\n         fill = \"구분\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::comma) +\n    scale_fill_manual(values = c(유권자 = \"blue\", 비유권자=\"red\"))"
  },
  {
    "objectID": "km_BitGPT.html#내림차순-유권자수",
    "href": "km_BitGPT.html#내림차순-유권자수",
    "title": "지도제작 대회",
    "section": "\n4.5 내림차순 유권자수",
    "text": "4.5 내림차순 유권자수\n\n코드pop_tbl |&gt; \n  mutate(시점 = ymd(시점)) |&gt; \n  mutate(연도 = year(시점)) |&gt; \n  filter(연도 == max(연도)) |&gt; \n  mutate(유권자 = ifelse(나이 &gt;=18, \"유권자\", \"비유권자\"),\n         유권자 = factor(유권자, levels = c(\"비유권자\", '유권자'))) |&gt; \n  group_by(행정동, 유권자) |&gt; \n  summarise(인구수 = sum(인구수)) |&gt; \n  mutate(유권자비율 = 인구수/sum(인구수)) |&gt; \n  ungroup() |&gt; \n    \n  # pivot_wider(names_from = 유권자, values_from = 인구수) |&gt; \n  # mutate(유권자비율 = 유권자/(비유권자+유권자)) |&gt; \n  # arrange(desc(유권자비율))\n\n  # 시각화 -----------------\n  ggplot(aes(x=fct_reorder2(행정동, 유권자, 유권자비율), y=유권자비율, fill = 유권자)) +\n    geom_col() +\n    coord_flip() +\n    labs(title=\"광명시 동별 유권자 비율\",\n         caption = \"데이터 출처: 행정안전부 주민등록 인구 및 세대현황\",\n         fill = \"구분\",\n         x = \"\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::percent) +\n    scale_fill_manual(values = c(유권자 = \"blue\", 비유권자=\"red\")) +\n    theme(legend.position = \"top\")"
  },
  {
    "objectID": "minju_party.html",
    "href": "minju_party.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(gt)\nlibrary(gtExtras)\nlibrary(tidyverse)\n\n# Creating the tibble using tribble\nmage_raw &lt;- tribble(\n  ~`연령`, ~비율,\n  \"10대후반\", \"0.1%\",\n  \"20_24\", \"1.7%\",\n  \"25_29\", \"4.2%\",\n  \"30_34\", \"5.3%\",\n  \"35_39\", \"6.3%\",\n  \"40_44\", \"9.8%\",\n  \"45_49\", \"12.2%\",\n  \"50_54\", \"15.8%\",\n  \"55_59\", \"13.8%\",\n  \"60_64\", \"12.8%\",\n  \"65_69\", \"8.1%\",\n  \"70+\", \"10.0%\"\n)\n\nmage_tbl &lt;- mage_raw |&gt; \n  mutate(비율 = parse_number(비율)/100) |&gt; \n  mutate(당원수 = 비율 * 2454332)\n\nmage_tbl |&gt; \n  gt::gt() |&gt; \n  fmt_percent(columns = 비율, decimals = 1) |&gt; \n  fmt_integer(columns = 당원수) |&gt; \n  cols_align(\"center\") |&gt; \n  ## 표 전체 합계 -------------- -----------------------\n  grand_summary_rows(\n    columns = 당원수,\n    fns =  list(label = \"합계\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"top\"\n  )  |&gt; \n  grand_summary_rows(\n    columns = 비율,\n    fns =  list(label = \"합계\", fn = \"sum\"),\n    fmt = ~ fmt_percent(., decimals = 0),\n    side = \"top\"\n  ) |&gt; \n  gt_theme_538()\n\n\n\n\n코드# tribble을 사용하여 tibble 생성\nsido_raw &lt;- tribble(\n  ~`권리당원`, ~`당원수`, ~`비중`, ~`선거인수`, ~`비중`,\n  \"서울\", 444775, \"18.1%\", 8378339, \"18.9%\",\n  \"부산\", 54950, \"2.2%\", 2916832, \"6.6%\",\n  \"대구\", 21011, \"0.9%\", 2044579, \"4.6%\",\n  \"인천\", 88387, \"3.6%\", 2534338, \"5.7%\",\n  \"광주\", 185858, \"7.6%\", 1206886, \"2.7%\",\n  \"대전\", 67016, \"2.7%\", 1233557, \"2.8%\",\n  \"울산\", 36175, \"1.5%\", 941189, \"2.1%\",\n  \"세종\", 12459, \"0.5%\", 292259, \"0.7%\",\n  \"경기\", 500892, \"20.4%\", 11497206, \"26.0%\",\n  \"강원\", 61088, \"2.5%\", 1336080, \"3.0%\",\n  \"충북\", 67330, \"2.7%\", 1368779, \"3.1%\",\n  \"충남\", 121512, \"5.0%\", 1803096, \"4.1%\",\n  \"전북\", 326518, \"13.3%\", 1532133, \"3.5%\",\n  \"전남\", 304151, \"12.4%\", 1580098, \"3.6%\",\n  \"경북\", 22126, \"0.9%\", 2268707, \"5.1%\",\n  \"경남\", 77845, \"3.2%\", 2804287, \"6.3%\",\n  \"제주\", 60667, \"2.5%\", 565084, \"1.3%\"\n)\n\nsido_raw |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(시도명 = 권리당원, 당원수, 선거인수) |&gt; \n  pivot_longer(당원수:선거인수, names_to = \"구분\", values_to = \"인구수\") |&gt; \n  group_by(구분) |&gt; \n  mutate(비율 = 인구수/sum(인구수)) |&gt; \n  # 시각화\n  ggplot(aes(x = fct_reorder(시도명, -비율), y = 비율, color = 구분, group = 구분)) +\n    geom_point() +\n    geom_line()\n  \n\n\n\n\n코드age_raw &lt;- readxl::read_excel(\"data/혁신안_202307_202307_연령별_월간.xlsx\", skip = 3)\n\nmale_tbl&lt;- age_raw |&gt; \n  janitor::clean_names(ascii = FALSE)  |&gt; \n  select(c(\"행정기관코드\", \"행정기관\", \"남_인구수\", \"연령구간인구수_4\", \n          \"x0_4세_5\", \"x5_9세_6\", \"x10_14세_7\", \"x15_19세_8\", \"x20_24세_9\", \n          \"x25_29세_10\", \"x30_34세_11\", \"x35_39세_12\", \"x40_44세_13\", \n          \"x45_49세_14\", \"x50_54세_15\", \"x55_59세_16\", \"x60_64세_17\", \n          \"x65_69세_18\", \"x70_74세_19\", \"x75_79세_20\", \"x80_84세_21\", \n          \"x85_89세_22\", \"x90_94세_23\", \"x95_99세_24\", \"x100세_이상_25\")) |&gt; \n  pivot_longer(starts_with(\"x\"), names_to = \"연령\", values_to = \"인구수\") |&gt; \n  mutate(성별 = \"남\") |&gt; \n  select(행정기관, 성별, 연령, 인구수)\n  \n\nfemale_tbl &lt;- age_raw |&gt; \n  janitor::clean_names(ascii = FALSE)  |&gt; \n  select(c(\"행정기관코드\", \"행정기관\", \"여_인구수\", \"연령구간인구수_27\", \n           \"x0_4세_28\", \"x5_9세_29\", \"x10_14세_30\", \"x15_19세_31\", \n           \"x20_24세_32\", \"x25_29세_33\", \"x30_34세_34\", \"x35_39세_35\", \n           \"x40_44세_36\", \"x45_49세_37\", \"x50_54세_38\", \"x55_59세_39\", \n           \"x60_64세_40\", \"x65_69세_41\", \"x70_74세_42\", \"x75_79세_43\", \n           \"x80_84세_44\", \"x85_89세_45\", \"x90_94세_46\", \"x95_99세_47\", \"x100세_이상_48\")) |&gt; \n  pivot_longer(starts_with(\"x\"), names_to = \"연령\", values_to = \"인구수\") |&gt; \n  mutate(성별 = \"여\") |&gt; \n  select(행정기관, 성별, 연령, 인구수)\n\nage_tbl &lt;- bind_rows(male_tbl, female_tbl) |&gt; \n  filter(!str_detect(행정기관, \"전국\")) |&gt; \n  mutate(연령 = str_extract(연령, '(\\\\d{1,2}_\\\\d{1,2})'))  |&gt; \n  mutate(연령대 = case_when(연령 %in% c(\"0_4\", \"5_9\", \"10_14\", \"15_19\") ~ \"-19\",\n                            연령 %in% c(\"70_74\", \"75_79\", \"80_84\", \"85_89\", \"90_94\", \"95_99\") ~ \"70+\",\n                              is.na(연령) ~ \"70+\",\n                              TRUE ~ 연령)) |&gt; \n  mutate(인구수 = parse_number(인구수))\n\nage_tbl |&gt;\n  write_rds(\"data/혁신안_2023년_연령인구수.rds\")"
  },
  {
    "objectID": "minju_party.html#시도별",
    "href": "minju_party.html#시도별",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드# tribble을 사용하여 tibble 생성\nsido_raw &lt;- tribble(\n  ~`권리당원`, ~`당원수`, ~`비중`, ~`선거인수`, ~`비중`,\n  \"서울\", 444775, \"18.1%\", 8378339, \"18.9%\",\n  \"부산\", 54950, \"2.2%\", 2916832, \"6.6%\",\n  \"대구\", 21011, \"0.9%\", 2044579, \"4.6%\",\n  \"인천\", 88387, \"3.6%\", 2534338, \"5.7%\",\n  \"광주\", 185858, \"7.6%\", 1206886, \"2.7%\",\n  \"대전\", 67016, \"2.7%\", 1233557, \"2.8%\",\n  \"울산\", 36175, \"1.5%\", 941189, \"2.1%\",\n  \"세종\", 12459, \"0.5%\", 292259, \"0.7%\",\n  \"경기\", 500892, \"20.4%\", 11497206, \"26.0%\",\n  \"강원\", 61088, \"2.5%\", 1336080, \"3.0%\",\n  \"충북\", 67330, \"2.7%\", 1368779, \"3.1%\",\n  \"충남\", 121512, \"5.0%\", 1803096, \"4.1%\",\n  \"전북\", 326518, \"13.3%\", 1532133, \"3.5%\",\n  \"전남\", 304151, \"12.4%\", 1580098, \"3.6%\",\n  \"경북\", 22126, \"0.9%\", 2268707, \"5.1%\",\n  \"경남\", 77845, \"3.2%\", 2804287, \"6.3%\",\n  \"제주\", 60667, \"2.5%\", 565084, \"1.3%\"\n)\n\nsido_raw |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(시도명 = 권리당원, 당원수, 선거인수) |&gt; \n  pivot_longer(당원수:선거인수, names_to = \"구분\", values_to = \"인구수\") |&gt; \n  group_by(구분) |&gt; \n  mutate(비율 = 인구수/sum(인구수)) |&gt; \n  # 시각화\n  ggplot(aes(x = fct_reorder(시도명, -비율), y = 비율, color = 구분, group = 구분)) +\n    geom_point() +\n    geom_line()"
  },
  {
    "objectID": "minju_party.html#당원-통계",
    "href": "minju_party.html#당원-통계",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(gt)\nlibrary(gtExtras)\nlibrary(tidyverse)\n\n# Creating the tibble using tribble\nmage_raw &lt;- tribble(\n  ~`연령`, ~비율,\n  \"10대후반\", \"0.1%\",\n  \"20_24\", \"1.7%\",\n  \"25_29\", \"4.2%\",\n  \"30_34\", \"5.3%\",\n  \"35_39\", \"6.3%\",\n  \"40_44\", \"9.8%\",\n  \"45_49\", \"12.2%\",\n  \"50_54\", \"15.8%\",\n  \"55_59\", \"13.8%\",\n  \"60_64\", \"12.8%\",\n  \"65_69\", \"8.1%\",\n  \"70+\", \"10.0%\"\n)\n\nmage_tbl &lt;- mage_raw |&gt; \n  mutate(비율 = parse_number(비율)/100) |&gt; \n  mutate(당원수 = 비율 * 2454332)\n\nmage_tbl |&gt; \n  gt::gt() |&gt; \n  fmt_percent(columns = 비율, decimals = 1) |&gt; \n  fmt_integer(columns = 당원수) |&gt; \n  cols_align(\"center\") |&gt; \n  ## 표 전체 합계 -------------- -----------------------\n  grand_summary_rows(\n    columns = 당원수,\n    fns =  list(label = \"합계\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"top\"\n  )  |&gt; \n  grand_summary_rows(\n    columns = 비율,\n    fns =  list(label = \"합계\", fn = \"sum\"),\n    fmt = ~ fmt_percent(., decimals = 0),\n    side = \"top\"\n  ) |&gt; \n  gt_theme_538()"
  },
  {
    "objectID": "minju_party.html#행안부-인구통계",
    "href": "minju_party.html#행안부-인구통계",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드age_raw &lt;- readxl::read_excel(\"data/혁신안_202307_202307_연령별_월간.xlsx\", skip = 3)\n\nmale_tbl&lt;- age_raw |&gt; \n  janitor::clean_names(ascii = FALSE)  |&gt; \n  select(c(\"행정기관코드\", \"행정기관\", \"남_인구수\", \"연령구간인구수_4\", \n          \"x0_4세_5\", \"x5_9세_6\", \"x10_14세_7\", \"x15_19세_8\", \"x20_24세_9\", \n          \"x25_29세_10\", \"x30_34세_11\", \"x35_39세_12\", \"x40_44세_13\", \n          \"x45_49세_14\", \"x50_54세_15\", \"x55_59세_16\", \"x60_64세_17\", \n          \"x65_69세_18\", \"x70_74세_19\", \"x75_79세_20\", \"x80_84세_21\", \n          \"x85_89세_22\", \"x90_94세_23\", \"x95_99세_24\", \"x100세_이상_25\")) |&gt; \n  pivot_longer(starts_with(\"x\"), names_to = \"연령\", values_to = \"인구수\") |&gt; \n  mutate(성별 = \"남\") |&gt; \n  select(행정기관, 성별, 연령, 인구수)\n  \n\nfemale_tbl &lt;- age_raw |&gt; \n  janitor::clean_names(ascii = FALSE)  |&gt; \n  select(c(\"행정기관코드\", \"행정기관\", \"여_인구수\", \"연령구간인구수_27\", \n           \"x0_4세_28\", \"x5_9세_29\", \"x10_14세_30\", \"x15_19세_31\", \n           \"x20_24세_32\", \"x25_29세_33\", \"x30_34세_34\", \"x35_39세_35\", \n           \"x40_44세_36\", \"x45_49세_37\", \"x50_54세_38\", \"x55_59세_39\", \n           \"x60_64세_40\", \"x65_69세_41\", \"x70_74세_42\", \"x75_79세_43\", \n           \"x80_84세_44\", \"x85_89세_45\", \"x90_94세_46\", \"x95_99세_47\", \"x100세_이상_48\")) |&gt; \n  pivot_longer(starts_with(\"x\"), names_to = \"연령\", values_to = \"인구수\") |&gt; \n  mutate(성별 = \"여\") |&gt; \n  select(행정기관, 성별, 연령, 인구수)\n\nage_tbl &lt;- bind_rows(male_tbl, female_tbl) |&gt; \n  filter(!str_detect(행정기관, \"전국\")) |&gt; \n  mutate(연령 = str_extract(연령, '(\\\\d{1,2}_\\\\d{1,2})'))  |&gt; \n  mutate(연령대 = case_when(연령 %in% c(\"0_4\", \"5_9\", \"10_14\", \"15_19\") ~ \"-19\",\n                            연령 %in% c(\"70_74\", \"75_79\", \"80_84\", \"85_89\", \"90_94\", \"95_99\") ~ \"70+\",\n                              is.na(연령) ~ \"70+\",\n                              TRUE ~ 연령)) |&gt; \n  mutate(인구수 = parse_number(인구수))\n\nage_tbl |&gt;\n  write_rds(\"data/혁신안_2023년_연령인구수.rds\")"
  },
  {
    "objectID": "minju_party.html#연령비교",
    "href": "minju_party.html#연령비교",
    "title": "지도제작 대회",
    "section": "\n2.1 연령비교",
    "text": "2.1 연령비교\n\n코드mage_temp &lt;- mage_tbl |&gt; \n  filter(연령 != \"10대후반\")\n\nage_temp &lt;- age_tbl |&gt; \n  filter(!str_detect(연령, \"(0_4)|(5_9)|(10_14)|(15_19)\")) |&gt;   \n  group_by(연령) |&gt; \n  summarise(인구수 = sum(인구수)) |&gt; \n  mutate(인구비율 = 인구수 / sum(인구수))\n\nfull_join(mage_temp, age_temp)\n#&gt; # A tibble: 16 × 5\n#&gt;    연령    비율  당원수  인구수 인구비율\n#&gt;    &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;\n#&gt;  1 20_24  0.017  41724. 2850804  0.0727 \n#&gt;  2 25_29  0.042 103082. 3433431  0.0876 \n#&gt;  3 30_34  0.053 130080. 3376137  0.0862 \n#&gt;  4 35_39  0.063 154623. 3211899  0.0820 \n#&gt;  5 40_44  0.098 240525.      NA NA      \n#&gt;  6 45_49  0.122 299429. 3938571  0.101  \n#&gt;  7 50_54  0.158 387784. 4535734  0.116  \n#&gt;  8 55_59  0.138 338698. 4095565  0.105  \n#&gt;  9 60_64  0.128 314154. 4280225  0.109  \n#&gt; 10 65_69  0.081 198801. 3291406  0.0840 \n#&gt; 11 70+    0.1   245433.      NA NA      \n#&gt; 12 70_74 NA         NA  2245004  0.0573 \n#&gt; 13 75_79 NA         NA  1662571  0.0424 \n#&gt; 14 80_84 NA         NA  1326976  0.0339 \n#&gt; 15 85_89 NA         NA   698771  0.0178 \n#&gt; 16 90_94 NA         NA   239883  0.00612\n\nage_tbl |&gt; \n  filter(str_detect(연령, \"40\"))\n#&gt; # A tibble: 34 × 5\n#&gt;    행정기관       성별  연령  인구수 연령대\n#&gt;    &lt;chr&gt;          &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt; \n#&gt;  1 서울특별시     남    40_44 364892 -19   \n#&gt;  2 부산광역시     남    40_44 127280 -19   \n#&gt;  3 대구광역시     남    40_44  88337 -19   \n#&gt;  4 인천광역시     남    40_44 127532 -19   \n#&gt;  5 광주광역시     남    40_44  57462 -19   \n#&gt;  6 대전광역시     남    40_44  55650 -19   \n#&gt;  7 울산광역시     남    40_44  47693 -19   \n#&gt;  8 세종특별자치시 남    40_44  20453 -19   \n#&gt;  9 경기도         남    40_44 594508 -19   \n#&gt; 10 강원특별자치도 남    40_44  52391 -19   \n#&gt; # ℹ 24 more rows"
  },
  {
    "objectID": "minju_party.html#유권자와-민주당",
    "href": "minju_party.html#유권자와-민주당",
    "title": "지도제작 대회",
    "section": "\n2.1 유권자와 민주당",
    "text": "2.1 유권자와 민주당\n\n코드library(gt)\nlibrary(gtExtras)\n\nmage_temp &lt;- mage_tbl |&gt; \n  filter(연령 != \"10대후반\")\n\nage_temp &lt;- age_tbl |&gt; \n  filter(연령대 != \"-19\") |&gt;   \n  group_by(연령대) |&gt; \n  summarise(인구수 = sum(인구수)) |&gt; \n  mutate(인구비율 = 인구수 / sum(인구수))\n\npop_party_raw &lt;- full_join(mage_temp, age_temp, by = c(\"연령\" = \"연령대\"))\n\n\npop_party_tbl &lt;- pop_party_raw |&gt; \n  rename(연령대 = 연령,\n         당원비율 = 비율) |&gt; \n  mutate(차이 = 당원비율 - 인구비율) |&gt; \n  select(연령대, 당원수, 당원비율, 차이, 유권자비율=인구비율, 유권자수=인구수)\n  \nvoter_party_gt &lt;- pop_party_tbl |&gt; \n  gt::gt() |&gt; \n  gt_theme_538() |&gt; \n  tab_header(\n    title = md(\"연령대별 민주당원과 유권자 비교\"),\n    subtitle = md(\"\")\n  ) |&gt;   \n  cols_align(\"center\") |&gt; \n  fmt_percent(columns = c(당원비율, 유권자비율, 차이), decimals = 1) |&gt; \n  fmt_integer(columns = c(당원수, 유권자수)) |&gt; \n  tab_spanner(label = \"민주당원\",\n              id = \"party\",\n              columns = c(당원수, 당원비율)) |&gt; \n  tab_spanner(label = \"유권자\",\n              id = \"voter\",              \n              columns = c(유권자비율, 유권자수)) |&gt; \n  ## 차이 색상표식 ---------------------\n  tab_style(\n    style = cell_text(color = \"red\", size = px(15L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 차이 &lt; 0,\n      columns = 차이\n    )\n  )  |&gt; \n  tab_style(\n    style = cell_text(color = \"blue\", size = px(15L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 차이 &gt; 0,\n      columns = 차이\n    )\n  ) |&gt; \n  tab_footnote(\n    footnote = \"자료출처: 더불어민주당혁신위 혁신안 설명자료\",\n    location = cells_column_spanners(spanners = \"party\")\n  ) |&gt; \n  tab_footnote(\n    footnote = \"자료출처: 행안부 주민등록 인구 및 세대현황\",\n    location = cells_column_spanners(spanners = \"voter\")\n  )  \n\nvoter_party_gt\n  \n# voter_party_gt |&gt; \n#   gtsave(filename = c(\"data/혁신안_민주당_유권자.png\"))"
  },
  {
    "objectID": "minju_party.html#한국갤럽",
    "href": "minju_party.html#한국갤럽",
    "title": "지도제작 대회",
    "section": "\n3.1 한국갤럽",
    "text": "3.1 한국갤럽\n한국갤럽에서 2022년 3월 10일 실시한 “제20대 대통령선거 사후 조사” 조사에서 연령별 지지율은 다은 다음과 같다.\n\n\n\n\n\n\n\n\n\n\n\n연령별\n사례수\n이재명\n윤석열\n심상정\n기타 인물\n모름/응답거절\n\n\n\n18~29세\n171\n40%\n37%\n4%\n3%\n17%\n\n\n30대\n151\n47%\n33%\n2%\n2%\n15%\n\n\n40대\n186\n57%\n26%\n3%\n\n14%\n\n\n50대\n199\n49%\n43%\n1%\n1%\n5%\n\n\n60대\n163\n28%\n59%\n1%\n3%\n10%\n\n\n70대 이상\n133\n23%\n61%\n\n\n14%\n\n\n\n\n코드gallop_raw &lt;- read.csv(text=\"\n연령별, 사례수,이재명,윤석열,심상정,기타인물,모름/응답거절\n18~29세,171,40%,37%,4%,3%,17%\n30대,151,47%,33%,2%,2%,15%\n40대,186,57%,26%,3%,,14%\n50대,199,49%,43%,1%,1%,5%\n60대,163,28%,59%,1%,3%,10%\n70대 이상,133,23%,61%,,14%\n\", header=T, stringsAsFactors=F)\n\ngallop_tbl &lt;- gallop_raw |&gt; \n  as_tibble() |&gt; \n  janitor::clean_names(ascii = FALSE)  |&gt; \n  select(연령대=연령별, 이재명, 윤석열, 심상정, 기타인물, 모름_응답거절) |&gt; \n  pivot_longer(-연령대, names_to = \"후보\", values_to = \"지지율\") |&gt; \n  mutate(정당 = case_when(후보 == \"이재명\" ~ \"민주당\",\n                          후보 == \"윤석열\" ~ \"국민의힘\",\n                          TRUE ~ \"기타/무응답\")) |&gt; \n  mutate(지지율 = parse_number(지지율) / 100) |&gt; \n  group_by(연령대, 정당) |&gt; \n  summarise(지지율 = sum(지지율, na.rm = TRUE)) |&gt; \n  ungroup() |&gt; \n  mutate(연령대 = case_when(연령대 == \"18~29세\" ~ \"20대-\",\n                            연령대 == \"70대 이상\" ~\"70대+\",\n                            TRUE ~ 연령대)) |&gt; \n  pivot_wider(names_from = 정당, values_from = 지지율) |&gt; \n  mutate(차이 = 민주당 - 국민의힘)\n\ngallop_tbl"
  },
  {
    "objectID": "minju_party.html#민주당-혁신안",
    "href": "minju_party.html#민주당-혁신안",
    "title": "지도제작 대회",
    "section": "\n3.2 민주당 혁신안",
    "text": "3.2 민주당 혁신안\n\n코드mage_gallop_tbl &lt;- mage_tbl |&gt; \n  mutate(연령대 = case_when(연령 %in% c(\"10대후반\", \"20_24\", \"25_29\")~ \"20대-\",\n                            연령 %in% c(\"30_34\", \"35_39\")~ \"30대\",\n                            연령 %in% c(\"40_44\", \"45_49\")~ \"40대\",\n                            연령 %in% c(\"50_54\", \"55_59\")~ \"50대\",\n                            연령 %in% c(\"60_64\", \"65_69\")~ \"60대\",\n                            TRUE ~ \"70대+\")) |&gt; \n  group_by(연령대) |&gt; \n  summarise(당원비율 = sum(비율),\n            당원수   = sum(당원수))\n\nmage_gallop_tbl"
  },
  {
    "objectID": "minju_party.html#행안위-유권자",
    "href": "minju_party.html#행안위-유권자",
    "title": "지도제작 대회",
    "section": "\n3.3 행안위 유권자",
    "text": "3.3 행안위 유권자\n\n코드age_tbl &lt;- \n  read_rds(\"data/혁신안_2023년_연령인구수.rds\")\n\nadm_gallop_tbl &lt;- age_tbl |&gt; \n  filter(!연령 %in% c(\"0_4\", \"5_9\", \"10_14\", \"15_19\")) |&gt; \n  mutate(연령대 = case_when(연령대 %in% c(\"20_24\", \"25_29\") ~ \"20대-\",\n                            연령대 %in% c(\"30_34\", \"35_39\") ~ \"30대\",\n                         연령대 %in% c(\"40_44\", \"45_49\") ~ \"40대\",\n                         연령대 %in% c(\"50_54\", \"55_59\") ~ \"50대\",\n                         연령대 %in% c(\"60_64\", \"65_69\") ~ \"60대\",\n                         TRUE ~ \"70대+\")) |&gt; \n  group_by(연령대) |&gt; \n  summarise(유권자수 = sum(인구수)) |&gt; \n  mutate(유권자비율 = 유권자수 / sum(유권자수))\n\nadm_gallop_tbl"
  },
  {
    "objectID": "minju_party.html#결합",
    "href": "minju_party.html#결합",
    "title": "지도제작 대회",
    "section": "\n3.4 결합",
    "text": "3.4 결합\n\n코드merge_tbl &lt;- adm_gallop_tbl |&gt; \n  left_join(mage_gallop_tbl) |&gt; \n  left_join(gallop_tbl)\n\npresident_age_gt &lt;- merge_tbl |&gt; \n  rename(득표차이 = 차이) |&gt; \n  mutate(구성차이 = 당원비율 - 유권자비율) |&gt;\n  relocate(구성차이, .before = 득표차이) |&gt; \n  relocate(민주당, .before = `기타/무응답`) |&gt; \n  relocate(국민의힘, .after = `기타/무응답`)  |&gt; \n  gt() |&gt; \n  gt_theme_538() |&gt; \n  tab_options(\n    footnotes.font.size = px(10L)\n  ) |&gt; \n  tab_header(\n    title = md(\"연령대별 유권자, 민주당원, 대선 득표 비교\"),\n  ) |&gt;   \n  cols_align(\"center\") |&gt; \n  fmt_percent(columns = c(당원비율, 유권자비율, 구성차이, 득표차이,\n                          국민의힘, `기타/무응답`, 민주당), decimals = 0) |&gt; \n  fmt_integer(columns = c(당원수, 유권자수)) |&gt; \n  ## 스패너 ---------------------  \n  tab_spanner(label = \"민주당원\",\n              id = \"party\",\n              columns = c(당원수, 당원비율)) |&gt; \n  tab_spanner(label = \"유권자\",\n              id = \"voter\",              \n              columns = c(유권자비율, 유권자수)) |&gt; \n  tab_spanner(label = \"당원과 유권자 구성비\",\n              id = \"prop\",\n              columns = c(당원수, 당원비율, 유권자수, 유권자비율, 구성차이)) |&gt; \n  tab_spanner(label = \"대통령선거\",\n              id = \"election\",              \n              columns = c(득표차이, 민주당, `기타/무응답`, 국민의힘)) |&gt; \n  ## 차이 색상표식 ---------------------\n  tab_style(\n    style = cell_text(color = \"red\", size = px(15L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 구성차이 &lt; 0,\n      columns = 구성차이\n    )\n  )  |&gt; \n  tab_style(\n    style = cell_text(color = \"blue\", size = px(15L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 구성차이 &gt; 0,\n      columns = 구성차이\n    )\n  ) |&gt; \n  tab_footnote(\n    footnote = \"자료출처: 더불어민주당혁신위 혁신안 설명자료\",\n    location = cells_column_spanners(spanners = \"party\")\n  ) |&gt; \n  tab_footnote(\n    footnote = \"자료출처: 행안부 주민등록 인구 및 세대현황\",\n    location = cells_column_spanners(spanners = \"voter\")\n  ) |&gt; \n  tab_footnote(\n    footnote = \"자료출처: 한국갤럽 제20대 대통령선거 사후 조사\",\n    location = cells_column_spanners(spanners = \"election\") \n  )  |&gt; \n  ## 득표차이 색상표식 ---------------------\n  tab_style(\n    style = cell_text(color = \"red\", size = px(15L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 득표차이 &lt; 0,\n      columns = 득표차이\n    )\n  )  |&gt; \n  tab_style(\n    style = cell_text(color = \"blue\", size = px(15L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 득표차이 &gt; 0,\n      columns = 득표차이\n    )\n  ) \n  \npresident_age_gt |&gt; \n  gtsave(\"data/연령대별_구성비_대선.png\")"
  },
  {
    "objectID": "by_election.html",
    "href": "by_election.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\n\npresident_tbl &lt;- krvote::election_20220309$득표율 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군명 == \"강서구\") |&gt; \n  summarise(across(이재명:김민찬, sum)) |&gt; \n  pivot_longer(cols = everything()) |&gt; \n  mutate(비율 = value/ sum(value)) |&gt; \n  mutate(정당 = case_when(str_detect(name, \"이재명\") ~ \"민주당\",\n                          str_detect(name, \"윤석열\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2022_대선\")\n\npresident_tbl\n\n\n\n\n\n코드local_sido_tbl &lt;- krvote::local_sido_20220601 |&gt; \n  filter(선거구명 == \"서울특별시\") |&gt; \n  unnest(data) |&gt; \n  filter(선거구명 == \"서울특별시\",\n         구시군명 == \"강서구\") |&gt; \n  summarise(across(더불어민주당_송영길:무소속_김광종, sum)) |&gt; \n  pivot_longer(cols = everything()) |&gt; \n  mutate(비율 = value/ sum(value)) |&gt; \n  mutate(정당 = case_when(str_detect(name, \"송영길\") ~ \"민주당\",\n                          str_detect(name, \"오세훈\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2022_지선_시도지사\")  \n\nlocal_sido_tbl\n\n\n\n\n코드local_sgg_tbl &lt;- krvote::local_sgg_20220601 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군명 == \"강서구\") |&gt; \n  mutate(득표 = parse_number(득표)) |&gt; \n  group_by(후보) |&gt; \n  summarise(득표 = sum(득표)) |&gt; \n    mutate(비율 = 득표/ sum(득표)) |&gt; \n  mutate(정당 = case_when(str_detect(후보, \"김승현\") ~ \"민주당\",\n                          str_detect(후보, \"김태우\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2022_지선_구청장\")  \n\nlocal_sgg_tbl\n\n\n\n\n코드general_tbl &lt;- krvote::general_2020 |&gt; \n  filter(시도 == \"서울\",\n         선거구 %in% c(\"강서구갑\", \"강서구을\", \"강서구병\")) |&gt; \n  unnest(data) |&gt; \n  group_by(구분) |&gt; \n  summarise(득표 = sum(사람수)) |&gt; \n  separate(구분, into = c(\"정당\", \"후보\"), sep = \" \") |&gt; \n  filter(!is.na(후보)) |&gt; \n  group_by(정당) |&gt; \n  summarise(득표 = sum(득표)) |&gt; \n  mutate(비율 = 득표 / sum(득표)) |&gt; \n  arrange(desc(비율)) |&gt; \n  mutate(정당 = case_when(str_detect(정당, \"민주당\") ~ \"민주당\",\n                          str_detect(정당, \"미래통합당\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2020_국회의원\")  \n  \ngeneral_tbl  \n\n\n\n\n코드by_election_tbl &lt;- krvote::by_election_2021 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군 == \"강서구\") |&gt; \n  filter(후보 != \"후보_계\") |&gt; \n  group_by(후보) |&gt; \n  summarise(득표 = sum(득표수)) |&gt; \n    mutate(비율 = 득표/ sum(득표))  |&gt; \n  arrange(desc(비율)) |&gt; \n  mutate(정당 = case_when(str_detect(후보, \"박영선\") ~ \"민주당\",\n                          str_detect(후보, \"오세훈\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2021_보궐선거\")\n\nby_election_tbl\n\n\n\n\n코드vote_tbl &lt;- bind_rows(by_election_tbl, general_tbl, local_sgg_tbl, local_sido_tbl, president_tbl)"
  },
  {
    "objectID": "by_election.html#대통령-선거",
    "href": "by_election.html#대통령-선거",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\n\npresident_tbl &lt;- krvote::election_20220309$득표율 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군명 == \"강서구\") |&gt; \n  summarise(across(이재명:김민찬, sum)) |&gt; \n  pivot_longer(cols = everything()) |&gt; \n  mutate(비율 = value/ sum(value)) |&gt; \n  mutate(정당 = case_when(str_detect(name, \"이재명\") ~ \"민주당\",\n                          str_detect(name, \"윤석열\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2022_대선\")\n\npresident_tbl"
  },
  {
    "objectID": "by_election.html#지방선거",
    "href": "by_election.html#지방선거",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드local_sido_tbl &lt;- krvote::local_sido_20220601 |&gt; \n  filter(선거구명 == \"서울특별시\") |&gt; \n  unnest(data) |&gt; \n  filter(선거구명 == \"서울특별시\",\n         구시군명 == \"강서구\") |&gt; \n  summarise(across(더불어민주당_송영길:무소속_김광종, sum)) |&gt; \n  pivot_longer(cols = everything()) |&gt; \n  mutate(비율 = value/ sum(value)) |&gt; \n  mutate(정당 = case_when(str_detect(name, \"송영길\") ~ \"민주당\",\n                          str_detect(name, \"오세훈\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2022_지선_시도지사\")  \n\nlocal_sido_tbl\n\n\n\n\n코드local_sgg_tbl &lt;- krvote::local_sgg_20220601 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군명 == \"강서구\") |&gt; \n  mutate(득표 = parse_number(득표)) |&gt; \n  group_by(후보) |&gt; \n  summarise(득표 = sum(득표)) |&gt; \n    mutate(비율 = 득표/ sum(득표)) |&gt; \n  mutate(정당 = case_when(str_detect(후보, \"김승현\") ~ \"민주당\",\n                          str_detect(후보, \"김태우\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2022_지선_구청장\")  \n\nlocal_sgg_tbl"
  },
  {
    "objectID": "by_election.html#국회의원",
    "href": "by_election.html#국회의원",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드general_tbl &lt;- krvote::general_2020 |&gt; \n  filter(시도 == \"서울\",\n         선거구 %in% c(\"강서구갑\", \"강서구을\", \"강서구병\")) |&gt; \n  unnest(data) |&gt; \n  group_by(구분) |&gt; \n  summarise(득표 = sum(사람수)) |&gt; \n  separate(구분, into = c(\"정당\", \"후보\"), sep = \" \") |&gt; \n  filter(!is.na(후보)) |&gt; \n  group_by(정당) |&gt; \n  summarise(득표 = sum(득표)) |&gt; \n  mutate(비율 = 득표 / sum(득표)) |&gt; \n  arrange(desc(비율)) |&gt; \n  mutate(정당 = case_when(str_detect(정당, \"민주당\") ~ \"민주당\",\n                          str_detect(정당, \"미래통합당\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2020_국회의원\")  \n  \ngeneral_tbl"
  },
  {
    "objectID": "by_election.html#보궐선거",
    "href": "by_election.html#보궐선거",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드by_election_tbl &lt;- krvote::by_election_2021 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군 == \"강서구\") |&gt; \n  filter(후보 != \"후보_계\") |&gt; \n  group_by(후보) |&gt; \n  summarise(득표 = sum(득표수)) |&gt; \n    mutate(비율 = 득표/ sum(득표))  |&gt; \n  arrange(desc(비율)) |&gt; \n  mutate(정당 = case_when(str_detect(후보, \"박영선\") ~ \"민주당\",\n                          str_detect(후보, \"오세훈\") ~ \"국민의힘\",\n                          TRUE ~ \"그외/기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(지지율 = sum(비율)) |&gt; \n  mutate(선거 = \"2021_보궐선거\")\n\nby_election_tbl"
  },
  {
    "objectID": "by_election.html#데이터-병합",
    "href": "by_election.html#데이터-병합",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드vote_tbl &lt;- bind_rows(by_election_tbl, general_tbl, local_sgg_tbl, local_sido_tbl, president_tbl)"
  },
  {
    "objectID": "by_election_dong.html",
    "href": "by_election_dong.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\nroll_url &lt;- glue::glue(\"http://info.nec.go.kr/electioninfo/electionInfo_report.xhtml?\",\n                       \"electionId=0000000000\",\n                       \"&requestURI=%2Felectioninfo%2F0000000000%2Fep%2Fepei01.jsp&topMenuId=EP\", \n                       \"&secondMenuId=EPEI01\",\n                       \"&menuId=EPEI01\",\n                       \"&statementId=EPEI01_%231\",\n                       \"&oldElectionType=1\",\n                       \"&electionType=2\",\n                       \"&electionName=20200415\", \n                       \"&electionCode=2\",\n                       \"&cityCode=1100\",\n                       \"&proportionalRepresentationCode=-1\",\n                       \"&townCode=-1\",\n                       \"&x=57\",\n                       \"&y=21\")\n\nroll_raw &lt;- read_html(roll_url) |&gt; \n  html_table(header = TRUE) %&gt;%\n  .[[1]]\n\nroll_tbl &lt;- roll_raw |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt;\n  mutate(나이 = str_extract(생년월일_연령, \"\\\\((\\\\d+)세\\\\)\") |&gt; parse_number()) |&gt; \n  separate(득표수_득표율, into = c(\"득표수\", \"득표율\"), sep = \"\\\\(\") |&gt;\n  separate(성명_한자, into = c(\"성명\", \"한자명\"), sep = \"\\\\(\") |&gt; \n  mutate(across(득표수:득표율, parse_number)) |&gt; \n  select(선거구명, 정당명, 성명, 성별, 나이, 득표수, 득표율)\n\nroll_tbl\n\n\n\n\n코드get_electors &lt;- function(sido_cd = \"1100\") {\n  \n  roll_url &lt;- glue::glue(\"http://info.nec.go.kr/electioninfo/electionInfo_report.xhtml?\",\n                       \"electionId=0000000000\",\n                       \"&requestURI=%2Felectioninfo%2F0000000000%2Fep%2Fepei01.jsp&topMenuId=EP\", \n                       \"&secondMenuId=EPEI01\",\n                       \"&menuId=EPEI01\",\n                       \"&statementId=EPEI01_%231\",\n                       \"&oldElectionType=1\",\n                       \"&electionType=2\",\n                       \"&electionName=20200415\", \n                       \"&electionCode=2\",\n                       \"&cityCode={sido_cd}\",\n                       \"&proportionalRepresentationCode=-1\",\n                       \"&townCode=-1\",\n                       \"&x=57\",\n                       \"&y=21\")\n  \n  roll_raw &lt;- read_html(roll_url) |&gt; \n    html_table(header = TRUE) %&gt;%\n    .[[1]]\n  \n  roll_tbl &lt;- roll_raw |&gt; \n    janitor::clean_names(ascii = FALSE) |&gt;\n    mutate(나이 = str_extract(생년월일_연령, \"\\\\((\\\\d+)세\\\\)\") |&gt; parse_number()) |&gt; \n    separate(득표수_득표율, into = c(\"득표수\", \"득표율\"), sep = \"\\\\(\") |&gt;\n    separate(성명_한자, into = c(\"성명\", \"한자명\"), sep = \"\\\\(\") |&gt; \n    mutate(across(득표수:득표율, parse_number)) |&gt; \n    select(선거구명, 정당명, 성명, 성별, 나이, 득표수, 득표율)\n  \n  roll_tbl\n}\n\n## 부산광역시\nget_electors(\"2600\")\n\n\n\n\n코드\nsido_cd &lt;- tribble(~\"시도코드\", ~\"시도명\",\n                    \"1100\", \"서울특별시\", \n                    \"2600\", \"부산광역시\",\n                    \"2700\", \"대구광역시\", \n                    \"2800\", \"인천광역시\",\n                    \"2900\", \"광주광역시\", \n                    \"3000\", \"대전광역시\",\n                    \"3100\", \"울산광역시\", \n                    \"5100\", \"세종특별자치시\",\n                    \"4100\", \"경기도\", \n                    \"4200\", \"강원도\",\n                    \"4300\", \"충청북도\", \n                    \"4400\", \"충청남도\",\n                    \"4500\", \"전라북도\", \n                    \"4600\", \"전라남도\",\n                    \"4700\", \"경상북도\", \n                    \"4800\", \"경상남도\",\n                    \"4900\", \"제주특별자치도\") \n\nelectors_raw &lt;- sido_cd |&gt; \n  mutate(data = map(시도코드, get_electors))\n\n\n\n코드electors_raw |&gt; \n  write_rds(\"data/제21대_국회의원_당선자.rds\")"
  },
  {
    "objectID": "sido_legislator.html",
    "href": "sido_legislator.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\n## 2020년 제21대 ----------------------------------\nelection_21_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제21대_국회의원_선거\"\n\nsido_21_2020 &lt;- read_html(election_21_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[15]]\n\nsido_21_2020_tbl &lt;- sido_21_2020 |&gt; \n  filter(지역 != \"전국\") |&gt; \n  select(-합계) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2020_21대\")\n\n\n## 2016년 제20대 ----------------------------------\nelection_20_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제20대_국회의원_선거\"\n\nsido_20_2016 &lt;- read_html(election_20_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[15]]\n\nsido_20_2016_tbl &lt;- sido_20_2016 |&gt; \n  filter(지역 != \"전국\") |&gt; \n  select(-합계) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2016_20대\")\n\n## 2012년 제19대 ----------------------------------\nelection_19_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제19대_국회의원_선거\"\n\nsido_19_2012 &lt;- read_html(election_19_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[13]]\n\nsido_19_2012_tbl &lt;- sido_19_2012 |&gt; \n  set_names(c(\"지역\", \"새누리\", \"민주통합\", \"통합진보\", \"자유선진\", \n\"무소속\", \"합　계\")) |&gt; \n  select(-`합　계`) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2012_19대\")\n\n## 2008년 제18대 ----------------------------------\nelection_18_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제18대_국회의원_선거\"\n\nsido_18_2008 &lt;- read_html(election_18_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[12]]\n\nsido_18_2008_tbl &lt;- sido_18_2008 |&gt; \n  set_names(c(\"지역\", \"민주\", \"한나라\", \"자유선진\", \"민노\", \"창조한국\", \n\"친박연대\", \"무소속\", \"합　계\")) |&gt; \n  select(-`합　계`) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2008_18대\")\n\n## 2004년 제17대 ----------------------------------\nelection_17_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제17대_국회의원_선거\"\n\nsido_17_2004 &lt;- read_html(election_17_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[9]]\n\nsido_17_2004_tbl &lt;- sido_17_2004 |&gt; \n  select(-합계) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2004_17대\")\n\n## 2000년 제16대 ----------------------------------\nelection_16_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제16대_국회의원_선거\"\n\nsido_16_2000 &lt;- read_html(election_16_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[8]]\n\nsido_16_2000_tbl &lt;- sido_16_2000 |&gt; \n  select(-합계) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2000_16대\")\n\n## 1996년 제15대 ----------------------------------\nelection_15_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제15대_국회의원_선거\"\n\nsido_15_1996 &lt;- read_html(election_15_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[12]]\n\nsido_15_1996_tbl &lt;- sido_15_1996 |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(지역:무소속) |&gt; \n  filter(!str_detect(지역, \"^\\\\d|^지역|^자료|^합계\")) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"1996_15대\")\n\n## 1992년 제14대 ----------------------------------\nelection_14_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제14대_국회의원_선거\"\n\nsido_14_1992 &lt;- read_html(election_14_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[8]]\n\nsido_14_1992_tbl &lt;- sido_14_1992 |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(-합계) |&gt; \n  filter(!str_detect(지역, \"^합계\")) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"1992_14대\")\n\n## 1988년 제13대 ----------------------------------\nelection_13_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제13대_국회의원_선거\"\n\nsido_13_1988 &lt;- read_html(election_13_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[7]]\n\nsido_13_1988_tbl &lt;- sido_13_1988 |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(-합계) |&gt; \n  filter(!str_detect(지역, \"^합계\")) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"1988_13대\")\n\n## 역대선거 결합 ----------------------------------\n\nsido_raw &lt;- map_df(mget(ls(pattern = \"*_tbl\")), rbind)\n\nsido_tbl &lt;- sido_raw |&gt; \n  separate(선거, into = c(\"연도\", \"선수\"), sep = \"_\") \n\nsido_tbl |&gt; \n  write_csv(\"data/역대_시도_정당별_의석수.csv\")\n\n\n\n\n코드party_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국의_역대_정당\"\n\nparty_list &lt;- read_html(party_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table()\n\nparty_list[[6]] |&gt; \n  janitor::clean_names() |&gt; \n  filter(str_detect(x1, \"\\\\d{4}\")) |&gt; \n  select(정부=x1, 여당=x4, 야당1=x6, 야당2=x8, 야당3=x10, 야당4=x12) |&gt; \n  mutate(야당 = str_glue(\"{야당1}, {야당2}, {야당3}, {야당4}\")) |&gt; \n  select(정부, 여당, 야당)  |&gt; \n  mutate(야당 = str_remove_all(야당, \"NA,|NA\") |&gt; str_trim() |&gt; str_remove(pattern=\",$\")) |&gt; \n  gt::gt()"
  },
  {
    "objectID": "sido_legislator.html#시도-정당",
    "href": "sido_legislator.html#시도-정당",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\n## 2020년 제21대 ----------------------------------\nelection_21_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제21대_국회의원_선거\"\n\nsido_21_2020 &lt;- read_html(election_21_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[15]]\n\nsido_21_2020_tbl &lt;- sido_21_2020 |&gt; \n  filter(지역 != \"전국\") |&gt; \n  select(-합계) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2020_21대\")\n\n\n## 2016년 제20대 ----------------------------------\nelection_20_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제20대_국회의원_선거\"\n\nsido_20_2016 &lt;- read_html(election_20_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[15]]\n\nsido_20_2016_tbl &lt;- sido_20_2016 |&gt; \n  filter(지역 != \"전국\") |&gt; \n  select(-합계) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2016_20대\")\n\n## 2012년 제19대 ----------------------------------\nelection_19_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제19대_국회의원_선거\"\n\nsido_19_2012 &lt;- read_html(election_19_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[13]]\n\nsido_19_2012_tbl &lt;- sido_19_2012 |&gt; \n  set_names(c(\"지역\", \"새누리\", \"민주통합\", \"통합진보\", \"자유선진\", \n\"무소속\", \"합　계\")) |&gt; \n  select(-`합　계`) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2012_19대\")\n\n## 2008년 제18대 ----------------------------------\nelection_18_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제18대_국회의원_선거\"\n\nsido_18_2008 &lt;- read_html(election_18_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[12]]\n\nsido_18_2008_tbl &lt;- sido_18_2008 |&gt; \n  set_names(c(\"지역\", \"민주\", \"한나라\", \"자유선진\", \"민노\", \"창조한국\", \n\"친박연대\", \"무소속\", \"합　계\")) |&gt; \n  select(-`합　계`) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2008_18대\")\n\n## 2004년 제17대 ----------------------------------\nelection_17_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제17대_국회의원_선거\"\n\nsido_17_2004 &lt;- read_html(election_17_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[9]]\n\nsido_17_2004_tbl &lt;- sido_17_2004 |&gt; \n  select(-합계) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2004_17대\")\n\n## 2000년 제16대 ----------------------------------\nelection_16_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제16대_국회의원_선거\"\n\nsido_16_2000 &lt;- read_html(election_16_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[8]]\n\nsido_16_2000_tbl &lt;- sido_16_2000 |&gt; \n  select(-합계) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"2000_16대\")\n\n## 1996년 제15대 ----------------------------------\nelection_15_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제15대_국회의원_선거\"\n\nsido_15_1996 &lt;- read_html(election_15_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[12]]\n\nsido_15_1996_tbl &lt;- sido_15_1996 |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(지역:무소속) |&gt; \n  filter(!str_detect(지역, \"^\\\\d|^지역|^자료|^합계\")) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"1996_15대\")\n\n## 1992년 제14대 ----------------------------------\nelection_14_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제14대_국회의원_선거\"\n\nsido_14_1992 &lt;- read_html(election_14_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[8]]\n\nsido_14_1992_tbl &lt;- sido_14_1992 |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(-합계) |&gt; \n  filter(!str_detect(지역, \"^합계\")) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"1992_14대\")\n\n## 1988년 제13대 ----------------------------------\nelection_13_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국_제13대_국회의원_선거\"\n\nsido_13_1988 &lt;- read_html(election_13_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;%\n  .[[7]]\n\nsido_13_1988_tbl &lt;- sido_13_1988 |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(-합계) |&gt; \n  filter(!str_detect(지역, \"^합계\")) |&gt; \n  pivot_longer(-지역, names_to = \"정당\", values_to = \"의석수\") |&gt; \n  mutate(의석수 = parse_number(의석수)) |&gt; \n  mutate(의석수 = ifelse(is.na(의석수), 0, 의석수)) |&gt; \n  mutate(선거 = \"1988_13대\")\n\n## 역대선거 결합 ----------------------------------\n\nsido_raw &lt;- map_df(mget(ls(pattern = \"*_tbl\")), rbind)\n\nsido_tbl &lt;- sido_raw |&gt; \n  separate(선거, into = c(\"연도\", \"선수\"), sep = \"_\") \n\nsido_tbl |&gt; \n  write_csv(\"data/역대_시도_정당별_의석수.csv\")"
  },
  {
    "objectID": "sido_legislator.html#정당",
    "href": "sido_legislator.html#정당",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드party_url &lt;- \"https://ko.wikipedia.org/wiki/대한민국의_역대_정당\"\n\nparty_list &lt;- read_html(party_url) |&gt; \n  html_elements(\"table\") |&gt; \n  html_table()\n\nparty_list[[6]] |&gt; \n  janitor::clean_names() |&gt; \n  filter(str_detect(x1, \"\\\\d{4}\")) |&gt; \n  select(정부=x1, 여당=x4, 야당1=x6, 야당2=x8, 야당3=x10, 야당4=x12) |&gt; \n  mutate(야당 = str_glue(\"{야당1}, {야당2}, {야당3}, {야당4}\")) |&gt; \n  select(정부, 여당, 야당)  |&gt; \n  mutate(야당 = str_remove_all(야당, \"NA,|NA\") |&gt; str_trim() |&gt; str_remove(pattern=\",$\")) |&gt; \n  gt::gt()"
  },
  {
    "objectID": "spatial_basics.html",
    "href": "spatial_basics.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "공공데이터포털에서 한국전력공사 전기차 충전소 설치현황 엑셀 데이터를 다운로드 받는다. 이를 위해서 전력데이터 개방 포털시스템 전기차 충전소 설치 현황에서 전국을 선택하고 엑셀파일을 다운로드 한다.\n\n코드library(readxl)\nlibrary(tidyverse)\n\ncharger_raw &lt;- read_excel(\"data/전기차 충전소 설치현황_20230822.xlsx\", skip = 2)\n\ncharger_raw\n#&gt; # A tibble: 4,692 × 6\n#&gt;    시구  설치장소             주소    `급속충전기(대)` `완속충전기(대)` 지원차종\n#&gt;    &lt;chr&gt; &lt;chr&gt;                &lt;chr&gt;   &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;   \n#&gt;  1 전체  가평소방서           경기도… 1                0                SM3 Z.E…\n#&gt;  2 전체  가평종합운동장       경기도… 2                0                BMW i3,…\n#&gt;  3 전체  가평지사             경기도… 1                1                SM3 Z.E…\n#&gt;  4 전체  가평하수도사업소     경기도… 1                0                SM3 Z.E…\n#&gt;  5 전체  상면사무소           경기도… 1                0                SM3 Z.E…\n#&gt;  6 전체  설악면사무소         경기도… 1                0                SM3 Z.E…\n#&gt;  7 전체  조종면사무소         경기도… 1                0                SM3 Z.E…\n#&gt;  8 전체  조종소방서           경기도… 1                0                SM3 Z.E…\n#&gt;  9 전체  청평소방서           경기도… 1                0                SM3 Z.E…\n#&gt; 10 전체  청평호반문화체육센터 경기도… 1                0                SM3 Z.E…\n#&gt; # ℹ 4,682 more rows\n\n\n\nvuski/admdongkor 최신 행정동 데이터를 가져온다.\n\n코드library(sf)\nsf_use_s2(FALSE)\n\nkorea_map &lt;- read_sf(\"data/HangJeongDong_ver20230401.geojson\")\n\nsido_map &lt;- korea_map |&gt; \n  group_by(sido, sidonm) |&gt; \n  summarise(geometry = sf::st_union(geometry))\n\nst_geometry(sido_map) |&gt; plot()"
  },
  {
    "objectID": "spatial_basics.html#충전소-데이터",
    "href": "spatial_basics.html#충전소-데이터",
    "title": "지도제작 대회",
    "section": "",
    "text": "공공데이터포털에서 한국전력공사 전기차 충전소 설치현황 엑셀 데이터를 다운로드 받는다. 이를 위해서 전력데이터 개방 포털시스템 전기차 충전소 설치 현황에서 전국을 선택하고 엑셀파일을 다운로드 한다.\n\n코드library(readxl)\nlibrary(tidyverse)\n\ncharger_raw &lt;- read_excel(\"data/전기차 충전소 설치현황_20230822.xlsx\", skip = 2)\n\ncharger_raw\n#&gt; # A tibble: 4,692 × 6\n#&gt;    시구  설치장소             주소    `급속충전기(대)` `완속충전기(대)` 지원차종\n#&gt;    &lt;chr&gt; &lt;chr&gt;                &lt;chr&gt;   &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;   \n#&gt;  1 전체  가평소방서           경기도… 1                0                SM3 Z.E…\n#&gt;  2 전체  가평종합운동장       경기도… 2                0                BMW i3,…\n#&gt;  3 전체  가평지사             경기도… 1                1                SM3 Z.E…\n#&gt;  4 전체  가평하수도사업소     경기도… 1                0                SM3 Z.E…\n#&gt;  5 전체  상면사무소           경기도… 1                0                SM3 Z.E…\n#&gt;  6 전체  설악면사무소         경기도… 1                0                SM3 Z.E…\n#&gt;  7 전체  조종면사무소         경기도… 1                0                SM3 Z.E…\n#&gt;  8 전체  조종소방서           경기도… 1                0                SM3 Z.E…\n#&gt;  9 전체  청평소방서           경기도… 1                0                SM3 Z.E…\n#&gt; 10 전체  청평호반문화체육센터 경기도… 1                0                SM3 Z.E…\n#&gt; # ℹ 4,682 more rows"
  },
  {
    "objectID": "spatial_basics.html#지도데이터",
    "href": "spatial_basics.html#지도데이터",
    "title": "지도제작 대회",
    "section": "",
    "text": "vuski/admdongkor 최신 행정동 데이터를 가져온다.\n\n코드library(sf)\nsf_use_s2(FALSE)\n\nkorea_map &lt;- read_sf(\"data/HangJeongDong_ver20230401.geojson\")\n\nsido_map &lt;- korea_map |&gt; \n  group_by(sido, sidonm) |&gt; \n  summarise(geometry = sf::st_union(geometry))\n\nst_geometry(sido_map) |&gt; plot()"
  },
  {
    "objectID": "spatial_basics.html#api-설정",
    "href": "spatial_basics.html#api-설정",
    "title": "지도제작 대회",
    "section": "\n2.1 API 설정",
    "text": "2.1 API 설정\n주소를 지도에 올릴 수 있도록 위경도 변환한다. 구글 공간정보서비스가 위세를 떨치는 기간에 다음 지도 API가 진화를 하여 kakaomap Maps API로 사용법과 사용량 등 개발자 관점에서 나름 쓸만한 형태로 개선되었다.\nC:\\Program Files\\R\\R-3.5.2\\etc 디렉토리 Rprofile.site 파일에 카카오 개발자센터 앱개발에 사용할 API 키를 KAKAO_MAP_API_KEY 변수에 저장시킨다. 재미있는 것은 Authorization에서 \"KakaoAK \"를 꼭 앞에 붙여야함으로 paste0() 함수로 결합시켜 전달한다. 혹은 usethis 팩키지를 사용해서 edit_r_environ() 명령어를 사용해서 .Renviron 파일에 KAKAO_MAP_API_KEY값을 설정하여 사용하는 것도 좋다.\n카카오 개발자센터 로컬 → REST API 문서에 지오코딩하는 자세한 사항이 나와있다. 한가지 사례로 삼정KPMG주소를 지도위에 표시하는 것을 목표로 먼저 삼정KPMG 주소를 던져서 위도경도를 받아내는 헬로월드 코드를 작성해본다.\n\n코드library(httr)\nlibrary(tidyverse)\nlibrary(jsonlite)\n\n# usethis::edit_r_environ()\n\n# 요청 URL 및 파라미터 설정\nbase_url &lt;- \"https://dapi.kakao.com/v2/local/search/address.json\"\nparams &lt;- list(query = '서울특별시 강남구 역삼동 737' ) # 삼정KPMG 주소\n\n# GET 요청 실행\nresponse &lt;- GET(base_url, \n                add_headers(Authorization = paste(\"KakaoAK\", Sys.getenv(\"KAKAO_MAP_API_KEY\"))),\n                query = params)\n\n# 응답 확인\nprint(content(response, \"text\"))\n#&gt; [1] \"{\\\"documents\\\":[{\\\"address\\\":{\\\"address_name\\\":\\\"서울 강남구 역삼동 737\\\",\\\"b_code\\\":\\\"1168010100\\\",\\\"h_code\\\":\\\"1168064000\\\",\\\"main_address_no\\\":\\\"737\\\",\\\"mountain_yn\\\":\\\"N\\\",\\\"region_1depth_name\\\":\\\"서울\\\",\\\"region_2depth_name\\\":\\\"강남구\\\",\\\"region_3depth_h_name\\\":\\\"역삼1동\\\",\\\"region_3depth_name\\\":\\\"역삼동\\\",\\\"sub_address_no\\\":\\\"\\\",\\\"x\\\":\\\"127.036628730251\\\",\\\"y\\\":\\\"37.4998101243238\\\"},\\\"address_name\\\":\\\"서울 강남구 역삼동 737\\\",\\\"address_type\\\":\\\"REGION_ADDR\\\",\\\"road_address\\\":{\\\"address_name\\\":\\\"서울 강남구 테헤란로 152\\\",\\\"building_name\\\":\\\"강남파이낸스센터\\\",\\\"main_building_no\\\":\\\"152\\\",\\\"region_1depth_name\\\":\\\"서울\\\",\\\"region_2depth_name\\\":\\\"강남구\\\",\\\"region_3depth_name\\\":\\\"역삼동\\\",\\\"road_name\\\":\\\"테헤란로\\\",\\\"sub_building_no\\\":\\\"\\\",\\\"underground_yn\\\":\\\"N\\\",\\\"x\\\":\\\"127.036508620542\\\",\\\"y\\\":\\\"37.5000242405515\\\",\\\"zone_no\\\":\\\"06236\\\"},\\\"x\\\":\\\"127.036628730251\\\",\\\"y\\\":\\\"37.4998101243238\\\"}],\\\"meta\\\":{\\\"is_end\\\":true,\\\"pageable_count\\\":1,\\\"total_count\\\":1}}\"\n\n# KPMG 지리정보 데이터프레임\nkpmg_list &lt;- response %&gt;% \n  content(as = 'text') %&gt;% \n  fromJSON()\n\n## 도로명주소\nkpmg_list$documents$road_address %&gt;% \n  select(address_name, building_name, x,y)\n#&gt;               address_name    building_name                x                y\n#&gt; 1 서울 강남구 테헤란로 152 강남파이낸스센터 127.036508620542 37.5000242405515\n\n## 지명주소\nkpmg_list$documents$address %&gt;% \n  select(address_name, x,y)\n#&gt;             address_name                x                y\n#&gt; 1 서울 강남구 역삼동 737 127.036628730251 37.4998101243238"
  },
  {
    "objectID": "spatial_basics.html#함수-제작",
    "href": "spatial_basics.html#함수-제작",
    "title": "지도제작 대회",
    "section": "\n2.2 함수 제작",
    "text": "2.2 함수 제작\n\n코드\nget_lnglat &lt;- function(address = '서울특별시 강남구 역삼동 737') {\n  \n  base_url &lt;- \"https://dapi.kakao.com/v2/local/search/address.json\"\n  params &lt;- list(query = address ) # 삼정KPMG 주소\n  \n  # GET 요청 실행\n  response &lt;- GET(base_url, \n                  add_headers(Authorization = paste(\"KakaoAK\", Sys.getenv(\"KAKAO_MAP_API_KEY\"))),\n                  query = params)\n  \n\n  # KPMG 지리정보 데이터프레임\n  json_list &lt;- response %&gt;% \n    content(as = 'text') %&gt;% \n    fromJSON()\n  \n\n  ## 위경도 주소\n  return(json_list$documents$address %&gt;% select(x,y) %&gt;% unlist)\n}\n\nget_lnglat(\"경기도 가평군 가평읍 대곡리 213-5\")\n#&gt;                  x                  y \n#&gt; \"127.516690566855\" \"37.8236644879834\""
  },
  {
    "objectID": "spatial_basics.html#충전소-지오코딩",
    "href": "spatial_basics.html#충전소-지오코딩",
    "title": "지도제작 대회",
    "section": "\n2.3 충전소 지오코딩",
    "text": "2.3 충전소 지오코딩\nget_lnglat() 함수는 모든 것이 예정된 방식으로 동작하는 것을 가정한다. 따라서, 가정 중 하나라도 충족하지 않는 경우 오류가 나서 반복 작업이 중단된다.\n\n코드charger_tbl &lt;- charger_raw |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  mutate(data = map(주소, get_lnglat))\n\n\nError in `mutate()`:\nℹ In argument: `data = map(주소, get_lnglat)`.\nCaused by error in `map()`:\nℹ In index: 248.\nCaused by error in `UseMethod()`:\n! no applicable method for 'select' applied to an object of class \"NULL\"\n이를 보완하기 위해 safely(), possibly() 등 부사를 사용해서 가능한 많은 주소를 지오코딩한다.\n\n코드safely_get_lnglat &lt;- safely(get_lnglat, otherwise = \"error\")\n\ncharger_tbl &lt;- charger_raw |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  mutate(data = map(주소, safely_get_lnglat))\n\n# 데이터프레임 출력\n# charger_tbl |&gt; \n#   write_rds(\"data/charger_tbl_raw.rds\")\n\n# 리스트 출력\n# charger_tbl |&gt;\n#   write_rds(\"data/charger_tbl_raw_list.rds\")\n\ncharger_tbl &lt;- \n  read_rds(\"data/charger_tbl_raw_list.rds\")\n\ncharger_lnglat &lt;- charger_tbl |&gt; \n  mutate(result = map(data, \"result\")) |&gt; \n  filter(result != \"error\") |&gt; \n  \n  ## 위경도 변환 --------------------\n  select(-시구, -data) |&gt; \n  mutate(lng = map_chr(result, 1),\n         lat  = map_chr(result, 2)) |&gt; \n  select(-result)\n\ncharger_lnglat |&gt; \n  write_rds(\"data/charger_lnglat.rds\")\n\n\n\n코드charger_lnglat &lt;- \n  read_rds(\"data/charger_lnglat.rds\")\n\ncharger_lnglat\n#&gt; # A tibble: 4,546 × 7\n#&gt;    설치장소             주소    급속충전기_대 완속충전기_대 지원차종 lng   lat  \n#&gt;    &lt;chr&gt;                &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;\n#&gt;  1 가평소방서           경기도… 1             0             SM3 Z.E… 127.… 37.8…\n#&gt;  2 가평종합운동장       경기도… 2             0             BMW i3,… 127.… 37.8…\n#&gt;  3 가평지사             경기도… 1             1             SM3 Z.E… 127.… 37.8…\n#&gt;  4 가평하수도사업소     경기도… 1             0             SM3 Z.E… 127.… 37.8…\n#&gt;  5 상면사무소           경기도… 1             0             SM3 Z.E… 127.… 37.8…\n#&gt;  6 설악면사무소         경기도… 1             0             SM3 Z.E… 127.… 37.6…\n#&gt;  7 조종면사무소         경기도… 1             0             SM3 Z.E… 127.… 37.8…\n#&gt;  8 조종소방서           경기도… 1             0             SM3 Z.E… 127.… 37.8…\n#&gt;  9 청평소방서           경기도… 1             0             SM3 Z.E… 127.… 37.7…\n#&gt; 10 청평호반문화체육센터 경기도… 1             0             SM3 Z.E… 127.… 37.7…\n#&gt; # ℹ 4,536 more rows"
  },
  {
    "objectID": "spatial_basics.html#시도-지도",
    "href": "spatial_basics.html#시도-지도",
    "title": "지도제작 대회",
    "section": "\n3.1 시도 지도",
    "text": "3.1 시도 지도\n\n코드sido_map |&gt; \n  ggplot() +\n    geom_sf(aes(geometry = geometry)) +\n    geom_sf_text(aes(label = sidonm), size = 3, color = \"blue\") +\n    theme_void()"
  },
  {
    "objectID": "spatial_basics.html#충전소-위치",
    "href": "spatial_basics.html#충전소-위치",
    "title": "지도제작 대회",
    "section": "\n3.2 충전소 위치",
    "text": "3.2 충전소 위치\n\n코드charger_sf &lt;- charger_lnglat |&gt; \n  mutate(across(lng:lat, as.numeric)) |&gt; \n  filter(lat &lt; 50) |&gt; ## 충전소 위경도 오류 ㅠㅠ\n  st_as_sf(coords = c(\"lng\", \"lat\"),\n           crs = st_crs(sido_map)) \n\ncharger_sf |&gt; \n  ggplot() +\n    geom_sf(aes(geometry = geometry)) +\n    theme_void()"
  },
  {
    "objectID": "spatial_basics.html#위치-결합",
    "href": "spatial_basics.html#위치-결합",
    "title": "지도제작 대회",
    "section": "\n3.3 위치 결합",
    "text": "3.3 위치 결합\n\n코드ggplot() +\n  geom_sf(data = sido_map, aes(geometry = geometry), fill = \"transparent\", color = \"blue\") +\n  geom_sf(data = charger_sf, aes(geometry = geometry), color = \"black\", size = 0.1)"
  },
  {
    "objectID": "spatial_basics.html#인터랙티브",
    "href": "spatial_basics.html#인터랙티브",
    "title": "지도제작 대회",
    "section": "\n3.4 인터랙티브",
    "text": "3.4 인터랙티브\n\n코드library(leaflet)\n\nleaflet(data = charger_lnglat |&gt; \n          mutate(across(lng:lat, as.numeric)) |&gt; \n          filter(lat &lt; 50)\n        ) %&gt;% \n  addProviderTiles(providers$OpenStreetMap) %&gt;% \n  ## 충전소 상세정보\n  addMarkers(lng=~lng, lat=~lat, \n             clusterOptions = markerClusterOptions(),\n             popup = ~ as.character(paste0(\"&lt;strong&gt;\", 설치장소, \"&lt;/strong&gt;&lt;br&gt;\",\n                                   \"----------------------------------&lt;br&gt;\",\n                                   \"&middot; 주소: \", `주소`, \"&lt;br&gt;\",\n                                   \"&middot; 급속: \", `급속충전기_대`, \"&lt;br&gt;\",\n                                   \"&middot; 완속: \", `완속충전기_대`, \"&lt;br&gt;\",\n                                   \"&middot; 지원차종: \", 지원차종, \"&lt;br&gt;\"))\n             ) |&gt; \n  ## 시도 경계 추가\n  addPolygons(data = sido_map,\n              opacity = 1.0, fillOpacity = 0.1,\n              weight = 1,\n              highlightOptions = highlightOptions(color = \"black\", weight = 3,  bringToFront = TRUE),\n              labelOptions = labelOptions(\n              style = list(\"font-weight\" = \"normal\", padding = \"3px 8px\"),\n              textsize = \"15px\",\n              direction = \"auto\"))"
  },
  {
    "objectID": "by_election_dong.html#아파트가격",
    "href": "by_election_dong.html#아파트가격",
    "title": "지도제작 대회",
    "section": "\n2.1 아파트가격",
    "text": "2.1 아파트가격\n\n코드library(tidyverse)\nlibrary(readxl)\n\napt_raw &lt;- read_csv(\"data/apt_seoul_1708_2307.csv\")\n\njscode_raw &lt;- read_excel(\"data/jsocde20230611/KIKmix.20230611.xlsx\")\n\napt_tbl &lt;- apt_raw |&gt; \n  filter(구 == \"강서구\") |&gt; \n  mutate(계약년월 = lubridate::ym(계약년월)) |&gt; \n  mutate(연월 = floor_date(계약년월, \"month\")) |&gt;\n  left_join(jscode_raw |&gt; select(시군구명, 읍면동명, 동리명), by = c(\"동\" = \"동리명\"))  |&gt; \n  group_by(연월, 읍면동명) |&gt; \n  summarise(평당가격 = mean(평당가격)) |&gt; \n  filter(연월 == ym(\"2022-06\"))\n\n\n\n코드votes_apt_gg &lt;- votes_tbl |&gt; \n  mutate(차이 = -1 * 차이) |&gt; \n  left_join(apt_tbl |&gt; select(-연월)) |&gt; \n  ggplot(aes(x = 평당가격, y = 차이, color = label_color )) +\n    geom_point() +\n    geom_text_repel(aes(label = 읍면동명)) +\n    theme_korean() +\n    theme(legend.position = \"none\") +\n    scale_color_manual(values = c(party_palette[1], party_palette[2])) +\n    labs(title = \"강서구 아파트값과 지선 강서구청장 민주당과 국민의힘 득표수 차이\",\n         subtitle = \"득표차이: 국민의힘 - 민주당, 2022년 6월 기준\",\n         x = \"아파트 평당 가격\",\n         y = \"득표차이\") +\n     scale_y_continuous(labels = scales::comma, limits = c(-1500, 2000)) +\n     scale_x_continuous(labels = scales::comma)  +\n     geom_hline(yintercept = 0, linetype = 2, color = \"gray30\")\n\nvotes_apt_gg\n\nragg::agg_jpeg(\"images/강서구청장_지선_아파트가격.jpeg\",\n              width = 10, height = 7, units = \"in\", res = 600)\nvotes_apt_gg\ndev.off()"
  },
  {
    "objectID": "by_election_dong.html#함수",
    "href": "by_election_dong.html#함수",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드get_electors &lt;- function(sido_cd = \"1100\") {\n  \n  roll_url &lt;- glue::glue(\"http://info.nec.go.kr/electioninfo/electionInfo_report.xhtml?\",\n                       \"electionId=0000000000\",\n                       \"&requestURI=%2Felectioninfo%2F0000000000%2Fep%2Fepei01.jsp&topMenuId=EP\", \n                       \"&secondMenuId=EPEI01\",\n                       \"&menuId=EPEI01\",\n                       \"&statementId=EPEI01_%231\",\n                       \"&oldElectionType=1\",\n                       \"&electionType=2\",\n                       \"&electionName=20200415\", \n                       \"&electionCode=2\",\n                       \"&cityCode={sido_cd}\",\n                       \"&proportionalRepresentationCode=-1\",\n                       \"&townCode=-1\",\n                       \"&x=57\",\n                       \"&y=21\")\n  \n  roll_raw &lt;- read_html(roll_url) |&gt; \n    html_table(header = TRUE) %&gt;%\n    .[[1]]\n  \n  roll_tbl &lt;- roll_raw |&gt; \n    janitor::clean_names(ascii = FALSE) |&gt;\n    mutate(나이 = str_extract(생년월일_연령, \"\\\\((\\\\d+)세\\\\)\") |&gt; parse_number()) |&gt; \n    separate(득표수_득표율, into = c(\"득표수\", \"득표율\"), sep = \"\\\\(\") |&gt;\n    separate(성명_한자, into = c(\"성명\", \"한자명\"), sep = \"\\\\(\") |&gt; \n    mutate(across(득표수:득표율, parse_number)) |&gt; \n    select(선거구명, 정당명, 성명, 성별, 나이, 득표수, 득표율)\n  \n  roll_tbl\n}\n\n## 부산광역시\nget_electors(\"2600\")"
  },
  {
    "objectID": "by_election_dong.html#시도별-당선자",
    "href": "by_election_dong.html#시도별-당선자",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\nsido_cd &lt;- tribble(~\"시도코드\", ~\"시도명\",\n                    \"1100\", \"서울특별시\", \n                    \"2600\", \"부산광역시\",\n                    \"2700\", \"대구광역시\", \n                    \"2800\", \"인천광역시\",\n                    \"2900\", \"광주광역시\", \n                    \"3000\", \"대전광역시\",\n                    \"3100\", \"울산광역시\", \n                    \"5100\", \"세종특별자치시\",\n                    \"4100\", \"경기도\", \n                    \"4200\", \"강원도\",\n                    \"4300\", \"충청북도\", \n                    \"4400\", \"충청남도\",\n                    \"4500\", \"전라북도\", \n                    \"4600\", \"전라남도\",\n                    \"4700\", \"경상북도\", \n                    \"4800\", \"경상남도\",\n                    \"4900\", \"제주특별자치도\") \n\nelectors_raw &lt;- sido_cd |&gt; \n  mutate(data = map(시도코드, get_electors))\n\n\n\n코드electors_raw |&gt; \n  write_rds(\"data/제21대_국회의원_당선자.rds\")"
  },
  {
    "objectID": "by_election_dong.html#제19대-국회의원",
    "href": "by_election_dong.html#제19대-국회의원",
    "title": "지도제작 대회",
    "section": "\n3.1 제19대 국회의원",
    "text": "3.1 제19대 국회의원\n\n코드get_electors_by_election &lt;- function(election_id = \"20120411\", sido_cd = \"1100\") {\n  \n  roll_url &lt;- glue::glue(\"http://info.nec.go.kr/electioninfo/electionInfo_report.xhtml?\",\n                       \"electionId=0000000000\",\n                       \"&requestURI=%2Felectioninfo%2F0000000000%2Fep%2Fepei01.jsp&topMenuId=EP\", \n                       \"&secondMenuId=EPEI01\",\n                       \"&menuId=EPEI01\",\n                       \"&statementId=EPEI01_%231\",\n                       \"&oldElectionType=1\",\n                       \"&electionType=2\",\n                       \"&electionName={election_id}\", \n                       \"&electionCode=2\",\n                       \"&cityCode={sido_cd}\",\n                       \"&proportionalRepresentationCode=-1\",\n                       \"&townCode=-1\",\n                       \"&x=57\",\n                       \"&y=21\")\n  \n  roll_raw &lt;- read_html(roll_url) |&gt; \n    html_table(header = TRUE) %&gt;%\n    .[[1]]\n  \n  roll_tbl &lt;- roll_raw |&gt; \n    janitor::clean_names(ascii = FALSE) |&gt;\n    mutate(나이 = str_extract(생년월일_연령, \"\\\\((\\\\d+)세\\\\)\") |&gt; parse_number()) |&gt; \n    separate(득표수_득표율, into = c(\"득표수\", \"득표율\"), sep = \"\\\\(\") |&gt;\n    separate(성명_한자, into = c(\"성명\", \"한자명\"), sep = \"\\\\(\") |&gt; \n    mutate(across(득표수:득표율, parse_number)) |&gt; \n    select(선거구명, 정당명, 성명, 성별, 나이, 득표수, 득표율)\n  \n  roll_tbl\n}\n\n## 제20대, 부산광역시\nget_electors_by_election(\"20160413\", \"2600\")"
  },
  {
    "objectID": "by_election_dong.html#전체-선거-당선자",
    "href": "by_election_dong.html#전체-선거-당선자",
    "title": "지도제작 대회",
    "section": "\n3.2 전체 선거, 당선자",
    "text": "3.2 전체 선거, 당선자\n\n코드election_cd &lt;- tribble(~\"선거코드\", ~\"선거\",\n                       \"20200415\", \"제21대\",\n                       \"20160413\", \"제20대\",\n                       \"20120411\", \"제19대\",\n                       \"20080409\", \"제18대\",\n                       \"20040415\", \"제17대\",\n                       \"20000413\", \"제16대\",\n                       \"19960411\", \"제15대\",\n                       \"19920324\", \"제14대\",\n                       \"19880426\", \"제13대\",\n                       \"19850212\", \"제12대\",\n                       \"19810325\", \"제11대\",\n                       \"19781212\", \"제10대\",\n                       \"19730227\", \"제9대\",\n                       \"19710525\", \"제8대\",\n                       \"19670608\", \"제7대\",\n                       \"19631126\", \"제6대\",\n                       \"19600729\", \"제5대\",\n                       \"19580502\", \"제4대\",\n                       \"19540520\", \"제3대\",\n                       \"19500530\", \"제2대\",\n                       \"19480510\", \"제1대\")\n\nelection_tbl &lt;- election_cd |&gt; \n  mutate(시도 = list(sido_cd)) |&gt; \n  unnest(시도) |&gt; \n  filter(선거 %in% c(\"제19대\", \"제20대\", \"제21대\")) |&gt; \n  mutate(data = map2(선거코드, 시도코드, get_electors_by_election))\n\n\n\n코드election_tbl |&gt; \n  write_rds(\"data/국회의원_19_21_당선자.rds\")"
  },
  {
    "objectID": "movie.html",
    "href": "movie.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "가장 많은 영화제작비가 투입된 영화 10개를 웹 스크레핑으로 가져와서 정제작업을 한다. 와차 대한민국 영화 순제작비 순위를 참조하여 정리한 펨코 역대 한국 영화 순제작비 순위에서 데이터를 가져온다.\n\n코드library(tidyverse)\nlibrary(rvest)\n\nmovie_url &lt;- \"https://www.fmkorea.com/best/5832255555\"\n\nmovie_html &lt;- read_html(movie_url)\n\nmovie_list &lt;- movie_html |&gt; \n  html_nodes(\"table\") |&gt; \n  html_table() \n\nmovie_list |&gt; \n  enframe() |&gt;\n  mutate(text = map(value, unlist)) |&gt; \n  mutate(text = map_chr(text, paste, collapse = \"\\n\"))  |&gt; \n  pull(text) |&gt; \n  tail(100)\n  write.table(\"clipboard\", row.names = FALSE,   sep = \",\")\n\n\n\n코드# tibble 패키지를 불러온다\nlibrary(tidyverse)\n\n# 데이터프레임을 생성한다\ntop_movie_raw &lt;- tribble(\n  ~순위, ~영화명, ~개봉년도, ~순제작비, ~총제작비, ~배급사,\n  \"1위\", \"설국열차\", 2013, \"437억원\", \"530억원(해외 포함)\", \"CJ 엔터테인먼트\",\n  \"2위\", \"외계+인 1부\", 2022, \"330억원\", NA, \"CJ 엔터테인먼트\",\n  \"3위\", \"디 워\", 2007, \"315억원\", \"700억원(해외 포함)\", \"쇼박스\",\n  \"4위\", \"더 문\", 2023, \"286억원\", NA, \"CJ 엔터테인먼트\",\n  \"5위\", \"마이웨이\", 2011, \"280억원\", \"350억원\", \"CJ 엔터테인먼트\",\n  \"6위\", \"한산: 용의 출현\", 2022, \"272억원\", \"312억원\", \"롯데 엔터테인먼트\",\n  \"7위\", \"백두산\", 2019, \"260억원\", \"300억원\", \"CJ 엔터테인먼트\",\n  \"8위\", \"비상선언\", 2022, \"260억원\", \"300억원\", \"쇼박스\",\n  \"9위\", \"미스터 고\", 2013, \"225억원\", \"300억원\", \"쇼박스\",\n  \"10위\", \"군함도\", 2017, \"225억원\", \"267억원\", \"CJ 엔터테인먼트\"\n)\n\ntop_movie_raw\n#&gt; # A tibble: 10 × 6\n#&gt;    순위  영화명          개봉년도 순제작비 총제작비           배급사           \n#&gt;    &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;              &lt;chr&gt;            \n#&gt;  1 1위   설국열차            2013 437억원  530억원(해외 포함) CJ 엔터테인먼트  \n#&gt;  2 2위   외계+인 1부         2022 330억원  &lt;NA&gt;               CJ 엔터테인먼트  \n#&gt;  3 3위   디 워               2007 315억원  700억원(해외 포함) 쇼박스           \n#&gt;  4 4위   더 문               2023 286억원  &lt;NA&gt;               CJ 엔터테인먼트  \n#&gt;  5 5위   마이웨이            2011 280억원  350억원            CJ 엔터테인먼트  \n#&gt;  6 6위   한산: 용의 출현     2022 272억원  312억원            롯데 엔터테인먼트\n#&gt;  7 7위   백두산              2019 260억원  300억원            CJ 엔터테인먼트  \n#&gt;  8 8위   비상선언            2022 260억원  300억원            쇼박스           \n#&gt;  9 9위   미스터 고           2013 225억원  300억원            쇼박스           \n#&gt; 10 10위  군함도              2017 225억원  267억원            CJ 엔터테인먼트\n\n\n\n\n\n코드library(tidyverse)\nlibrary(rvest)\nlibrary(httr)\n\n\nkofic_req &lt;- glue::glue(\"http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json\",\n           \"?key={Sys.getenv('KOFIC_API_KEY')}\",\n           \"&movieNm={URLencode('군함도')}\")\n\nmovie_resp &lt;- httr::GET(kofic_req)\n\n# convert list to dataframe\nmovie_json &lt;- content(movie_resp, \"text\", encoding = \"UTF-8\")\n\nmovie_raw &lt;- jsonlite::fromJSON(movie_json) |&gt; \n  as.data.frame()\n\nmovie_columns &lt;- str_extract(names(movie_raw), \"[^.]*$\")\n\nmovie_tbl &lt;- movie_raw |&gt; \n  set_names(movie_columns)\n\nmovie_tbl\n#&gt;   totCnt         source  movieCd       movieNm\n#&gt; 1      2 영화진흥위원회 20177063 군함도 감독판\n#&gt; 2      2 영화진흥위원회 20161481        군함도\n#&gt;                               movieNmEn prdtYear   openDt typeNm prdtStatNm\n#&gt; 1 The Battleship Island: Director's Cut     2017            장편       기타\n#&gt; 2                 The Battleship Island     2017 20170726   장편       개봉\n#&gt;   nationAlt    genreAlt repNationNm repGenreNm directors\n#&gt; 1      한국 액션,드라마        한국       액션    류승완\n#&gt; 2      한국 액션,드라마        한국       액션    류승완\n#&gt;                                         companys\n#&gt; 1                         20100374, (주)외유내강\n#&gt; 2 20100374, 20186561, (주)외유내강, (주)필름케이\n\n\n\n\n코드\nget_movie_info &lt;- function(movie_name = \"군함도\") {\n  \n  cat(\"영화정보를 가져옵니다.\", movie_name, \"\\n\")\n  \n  kofic_req &lt;- glue::glue(\"http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json\",\n           \"?key={Sys.getenv('KOFIC_API_KEY')}\",\n           \"&movieNm={URLencode(movie_name)}\")\n\n  movie_resp &lt;- httr::GET(kofic_req)\n  \n  # convert list to dataframe\n  movie_json &lt;- content(movie_resp, \"text\", encoding = \"UTF-8\")\n  \n  movie_raw &lt;- jsonlite::fromJSON(movie_json) |&gt; \n    as.data.frame()\n  \n  movie_columns &lt;- str_extract(names(movie_raw), \"[^.]*$\")\n  \n  movie_tbl &lt;- movie_raw |&gt; \n    set_names(movie_columns)\n  \n  return(movie_tbl)\n}\n\nget_movie_info(\"디 워\")\n#&gt; 영화정보를 가져옵니다. 디 워\n#&gt;    totCnt         source  movieCd\n#&gt; 1      13 영화진흥위원회 20227226\n#&gt; 2      13 영화진흥위원회 20227292\n#&gt; 3      13 영화진흥위원회 20224237\n#&gt; 4      13 영화진흥위원회 20070316\n#&gt; 5      13 영화진흥위원회 19998877\n#&gt; 6      13 영화진흥위원회 20080782\n#&gt; 7      13 영화진흥위원회 20136396\n#&gt; 8      13 영화진흥위원회 20136395\n#&gt; 9      13 영화진흥위원회 19968423\n#&gt; 10     13 영화진흥위원회 20070403\n#&gt;                                                 movieNm\n#&gt; 1                     9월 프레임 워크: 마리 멘켄 단편선\n#&gt; 2                                             앤디 워홀\n#&gt; 3                                   부카니마: 앤디 워홀\n#&gt; 4                                                  디워\n#&gt; 5                                      도망자: 바디워크\n#&gt; 6                                             앤디 워홀\n#&gt; 7                                           디워-드래곤\n#&gt; 8                                    디워 : 익룡의 공습\n#&gt; 9                                나는 앤디워홀을 쏘았다\n#&gt; 10 시네마정동-판타스틱4:실버서퍼의 위협,라따뚜이, 디워 \n#&gt;                          movieNmEn prdtYear   openDt   typeNm prdtStatNm\n#&gt; 1                                      2022          옴니버스       기타\n#&gt; 2                      Andy Warhol     1965              단편       기타\n#&gt; 3           Bookanima: Andy Warhol     2020              단편       기타\n#&gt; 4                            D-War     2007 20070801     장편       개봉\n#&gt; 5                         Bodywork     1999              장편       기타\n#&gt; 6  Andy Warhol: A Documentary Film     2006              장편       기타\n#&gt; 7                  Dragon Dynasty      2006              장편       기타\n#&gt; 8                         Warbirds     2008              장편       기타\n#&gt; 9               I Shot Andy Warhol     1996                         기타\n#&gt; 10               Package Screening          20070808     장편           \n#&gt;    nationAlt        genreAlt repNationNm repGenreNm          directors\n#&gt; 1       미국            기타        미국       기타               NULL\n#&gt; 2       미국            기타        미국       기타               NULL\n#&gt; 3  한국,미국      애니메이션        한국 애니메이션               NULL\n#&gt; 4       한국     액션,판타지        한국       액션             심형래\n#&gt; 5       영국            범죄        영국       범죄 가레스 라이스 존스\n#&gt; 6       미국      다큐멘터리        미국 다큐멘터리            릭 번스\n#&gt; 7       미국 어드벤처,판타지        미국   어드벤처          매트 코드\n#&gt; 8       미국  SF,스릴러,전쟁        미국         SF        케빈 겐드류\n#&gt; 9                                                                 NULL\n#&gt; 10      기타            기타        기타       기타               NULL\n#&gt;                companys\n#&gt; 1                  NULL\n#&gt; 2                  NULL\n#&gt; 3                  NULL\n#&gt; 4  20100170, ㈜영구아트\n#&gt; 5                  NULL\n#&gt; 6                  NULL\n#&gt; 7                  NULL\n#&gt; 8                  NULL\n#&gt; 9                  NULL\n#&gt; 10                 NULL\n\n\n\n\n코드top_movie_raw &lt;- top_movie_raw |&gt; \n  mutate(data = map(영화명, get_movie_info)) \n#&gt; 영화정보를 가져옵니다. 설국열차 \n#&gt; 영화정보를 가져옵니다. 외계+인 1부 \n#&gt; 영화정보를 가져옵니다. 디 워 \n#&gt; 영화정보를 가져옵니다. 더 문 \n#&gt; 영화정보를 가져옵니다. 마이웨이 \n#&gt; 영화정보를 가져옵니다. 한산: 용의 출현 \n#&gt; 영화정보를 가져옵니다. 백두산 \n#&gt; 영화정보를 가져옵니다. 비상선언 \n#&gt; 영화정보를 가져옵니다. 미스터 고 \n#&gt; 영화정보를 가져옵니다. 군함도\n\ntop_movie_tbl &lt;- top_movie_raw |&gt; \n  unnest(data)  |&gt; \n  mutate(movieNm = if_else(movieNm == \"디워\", \"디 워\", movieNm)) |&gt;\n  filter(영화명 == movieNm) \n\ntop_movie_tbl |&gt; \n  select(movieCd, 순위, 영화명, 개봉년도, 순제작비, 배급사, prdtYear, openDt)\n#&gt; # A tibble: 11 × 8\n#&gt;    movieCd  순위  영화명          개봉년도 순제작비 배급사       prdtYear openDt\n#&gt;    &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt; \n#&gt;  1 20126674 1위   설국열차            2013 437억원  CJ 엔터테인… 2013     20130…\n#&gt;  2 20208446 2위   외계+인 1부         2022 330억원  CJ 엔터테인… 2022     20220…\n#&gt;  3 20070316 3위   디 워               2007 315억원  쇼박스       2007     20070…\n#&gt;  4 20218935 4위   더 문               2023 286억원  CJ 엔터테인… 2023     20230…\n#&gt;  5 20090810 4위   더 문               2023 286억원  CJ 엔터테인… 2009     20091…\n#&gt;  6 19790083 5위   마이웨이            2011 280억원  CJ 엔터테인… 1975     19750…\n#&gt;  7 20209343 6위   한산: 용의 출현     2022 272억원  롯데 엔터테… 2021     20220…\n#&gt;  8 20192206 7위   백두산              2019 260억원  CJ 엔터테인… 2019     20191…\n#&gt;  9 20196410 8위   비상선언            2022 260억원  쇼박스       2022     20220…\n#&gt; 10 20124082 9위   미스터 고           2013 225억원  쇼박스       2013     20130…\n#&gt; 11 20161481 10위  군함도              2017 225억원  CJ 엔터테인… 2017     20170…"
  },
  {
    "objectID": "movie.html#크롤링",
    "href": "movie.html#크롤링",
    "title": "지도제작 대회",
    "section": "",
    "text": "가장 많은 영화제작비가 투입된 영화 10개를 웹 스크레핑으로 가져와서 정제작업을 한다. 와차 대한민국 영화 순제작비 순위를 참조하여 정리한 펨코 역대 한국 영화 순제작비 순위에서 데이터를 가져온다.\n\n코드library(tidyverse)\nlibrary(rvest)\n\nmovie_url &lt;- \"https://www.fmkorea.com/best/5832255555\"\n\nmovie_html &lt;- read_html(movie_url)\n\nmovie_list &lt;- movie_html |&gt; \n  html_nodes(\"table\") |&gt; \n  html_table() \n\nmovie_list |&gt; \n  enframe() |&gt;\n  mutate(text = map(value, unlist)) |&gt; \n  mutate(text = map_chr(text, paste, collapse = \"\\n\"))  |&gt; \n  pull(text) |&gt; \n  tail(100)\n  write.table(\"clipboard\", row.names = FALSE,   sep = \",\")\n\n\n\n코드# tibble 패키지를 불러온다\nlibrary(tidyverse)\n\n# 데이터프레임을 생성한다\ntop_movie_raw &lt;- tribble(\n  ~순위, ~영화명, ~개봉년도, ~순제작비, ~총제작비, ~배급사,\n  \"1위\", \"설국열차\", 2013, \"437억원\", \"530억원(해외 포함)\", \"CJ 엔터테인먼트\",\n  \"2위\", \"외계+인 1부\", 2022, \"330억원\", NA, \"CJ 엔터테인먼트\",\n  \"3위\", \"디 워\", 2007, \"315억원\", \"700억원(해외 포함)\", \"쇼박스\",\n  \"4위\", \"더 문\", 2023, \"286억원\", NA, \"CJ 엔터테인먼트\",\n  \"5위\", \"마이웨이\", 2011, \"280억원\", \"350억원\", \"CJ 엔터테인먼트\",\n  \"6위\", \"한산: 용의 출현\", 2022, \"272억원\", \"312억원\", \"롯데 엔터테인먼트\",\n  \"7위\", \"백두산\", 2019, \"260억원\", \"300억원\", \"CJ 엔터테인먼트\",\n  \"8위\", \"비상선언\", 2022, \"260억원\", \"300억원\", \"쇼박스\",\n  \"9위\", \"미스터 고\", 2013, \"225억원\", \"300억원\", \"쇼박스\",\n  \"10위\", \"군함도\", 2017, \"225억원\", \"267억원\", \"CJ 엔터테인먼트\"\n)\n\ntop_movie_raw\n#&gt; # A tibble: 10 × 6\n#&gt;    순위  영화명          개봉년도 순제작비 총제작비           배급사           \n#&gt;    &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;              &lt;chr&gt;            \n#&gt;  1 1위   설국열차            2013 437억원  530억원(해외 포함) CJ 엔터테인먼트  \n#&gt;  2 2위   외계+인 1부         2022 330억원  &lt;NA&gt;               CJ 엔터테인먼트  \n#&gt;  3 3위   디 워               2007 315억원  700억원(해외 포함) 쇼박스           \n#&gt;  4 4위   더 문               2023 286억원  &lt;NA&gt;               CJ 엔터테인먼트  \n#&gt;  5 5위   마이웨이            2011 280억원  350억원            CJ 엔터테인먼트  \n#&gt;  6 6위   한산: 용의 출현     2022 272억원  312억원            롯데 엔터테인먼트\n#&gt;  7 7위   백두산              2019 260억원  300억원            CJ 엔터테인먼트  \n#&gt;  8 8위   비상선언            2022 260억원  300억원            쇼박스           \n#&gt;  9 9위   미스터 고           2013 225억원  300억원            쇼박스           \n#&gt; 10 10위  군함도              2017 225억원  267억원            CJ 엔터테인먼트"
  },
  {
    "objectID": "movie.html#매출정보",
    "href": "movie.html#매출정보",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(rvest)\nlibrary(httr)\n\n\nkofic_req &lt;- glue::glue(\"http://www.kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchMovieList.json\",\n           \"?key={Sys.getenv('KOFIC_API_KEY')}\",\n           \"&movieNm=%EA%B8%B0%EC%83%9D%EC%B6%A9\")\n\nkofic_resp &lt;- httr::GET(kofic_req)\n\n# convert list to dataframe\nkofic_list &lt;- content(kofic_resp)\n  \nkofic_list$boxOfficeResult$dailyBoxOfficeList |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, bind_rows)) |&gt; \n  unnest(data) |&gt; \n  View()"
  },
  {
    "objectID": "movie.html#영화정보",
    "href": "movie.html#영화정보",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\nlibrary(httr)\n\n\nkofic_req &lt;- glue::glue(\"http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json\",\n           \"?key={Sys.getenv('KOFIC_API_KEY')}\",\n           \"&movieNm={URLencode('군함도')}\")\n\nmovie_resp &lt;- httr::GET(kofic_req)\n\n# convert list to dataframe\nmovie_json &lt;- content(movie_resp, \"text\", encoding = \"UTF-8\")\n\nmovie_raw &lt;- jsonlite::fromJSON(movie_json) |&gt; \n  as.data.frame()\n\nmovie_columns &lt;- str_extract(names(movie_raw), \"[^.]*$\")\n\nmovie_tbl &lt;- movie_raw |&gt; \n  set_names(movie_columns)\n\nmovie_tbl\n#&gt;   totCnt         source  movieCd       movieNm\n#&gt; 1      2 영화진흥위원회 20177063 군함도 감독판\n#&gt; 2      2 영화진흥위원회 20161481        군함도\n#&gt;                               movieNmEn prdtYear   openDt typeNm prdtStatNm\n#&gt; 1 The Battleship Island: Director's Cut     2017            장편       기타\n#&gt; 2                 The Battleship Island     2017 20170726   장편       개봉\n#&gt;   nationAlt    genreAlt repNationNm repGenreNm directors\n#&gt; 1      한국 액션,드라마        한국       액션    류승완\n#&gt; 2      한국 액션,드라마        한국       액션    류승완\n#&gt;                                         companys\n#&gt; 1                         20100374, (주)외유내강\n#&gt; 2 20100374, 20186561, (주)외유내강, (주)필름케이\n\n\n\n\n코드\nget_movie_info &lt;- function(movie_name = \"군함도\") {\n  \n  cat(\"영화정보를 가져옵니다.\", movie_name, \"\\n\")\n  \n  kofic_req &lt;- glue::glue(\"http://www.kobis.or.kr/kobisopenapi/webservice/rest/movie/searchMovieList.json\",\n           \"?key={Sys.getenv('KOFIC_API_KEY')}\",\n           \"&movieNm={URLencode(movie_name)}\")\n\n  movie_resp &lt;- httr::GET(kofic_req)\n  \n  # convert list to dataframe\n  movie_json &lt;- content(movie_resp, \"text\", encoding = \"UTF-8\")\n  \n  movie_raw &lt;- jsonlite::fromJSON(movie_json) |&gt; \n    as.data.frame()\n  \n  movie_columns &lt;- str_extract(names(movie_raw), \"[^.]*$\")\n  \n  movie_tbl &lt;- movie_raw |&gt; \n    set_names(movie_columns)\n  \n  return(movie_tbl)\n}\n\nget_movie_info(\"디 워\")\n#&gt; 영화정보를 가져옵니다. 디 워\n#&gt;    totCnt         source  movieCd\n#&gt; 1      13 영화진흥위원회 20227226\n#&gt; 2      13 영화진흥위원회 20227292\n#&gt; 3      13 영화진흥위원회 20224237\n#&gt; 4      13 영화진흥위원회 20070316\n#&gt; 5      13 영화진흥위원회 19998877\n#&gt; 6      13 영화진흥위원회 20080782\n#&gt; 7      13 영화진흥위원회 20136396\n#&gt; 8      13 영화진흥위원회 20136395\n#&gt; 9      13 영화진흥위원회 19968423\n#&gt; 10     13 영화진흥위원회 20070403\n#&gt;                                                 movieNm\n#&gt; 1                     9월 프레임 워크: 마리 멘켄 단편선\n#&gt; 2                                             앤디 워홀\n#&gt; 3                                   부카니마: 앤디 워홀\n#&gt; 4                                                  디워\n#&gt; 5                                      도망자: 바디워크\n#&gt; 6                                             앤디 워홀\n#&gt; 7                                           디워-드래곤\n#&gt; 8                                    디워 : 익룡의 공습\n#&gt; 9                                나는 앤디워홀을 쏘았다\n#&gt; 10 시네마정동-판타스틱4:실버서퍼의 위협,라따뚜이, 디워 \n#&gt;                          movieNmEn prdtYear   openDt   typeNm prdtStatNm\n#&gt; 1                                      2022          옴니버스       기타\n#&gt; 2                      Andy Warhol     1965              단편       기타\n#&gt; 3           Bookanima: Andy Warhol     2020              단편       기타\n#&gt; 4                            D-War     2007 20070801     장편       개봉\n#&gt; 5                         Bodywork     1999              장편       기타\n#&gt; 6  Andy Warhol: A Documentary Film     2006              장편       기타\n#&gt; 7                  Dragon Dynasty      2006              장편       기타\n#&gt; 8                         Warbirds     2008              장편       기타\n#&gt; 9               I Shot Andy Warhol     1996                         기타\n#&gt; 10               Package Screening          20070808     장편           \n#&gt;    nationAlt        genreAlt repNationNm repGenreNm          directors\n#&gt; 1       미국            기타        미국       기타               NULL\n#&gt; 2       미국            기타        미국       기타               NULL\n#&gt; 3  한국,미국      애니메이션        한국 애니메이션               NULL\n#&gt; 4       한국     액션,판타지        한국       액션             심형래\n#&gt; 5       영국            범죄        영국       범죄 가레스 라이스 존스\n#&gt; 6       미국      다큐멘터리        미국 다큐멘터리            릭 번스\n#&gt; 7       미국 어드벤처,판타지        미국   어드벤처          매트 코드\n#&gt; 8       미국  SF,스릴러,전쟁        미국         SF        케빈 겐드류\n#&gt; 9                                                                 NULL\n#&gt; 10      기타            기타        기타       기타               NULL\n#&gt;                companys\n#&gt; 1                  NULL\n#&gt; 2                  NULL\n#&gt; 3                  NULL\n#&gt; 4  20100170, ㈜영구아트\n#&gt; 5                  NULL\n#&gt; 6                  NULL\n#&gt; 7                  NULL\n#&gt; 8                  NULL\n#&gt; 9                  NULL\n#&gt; 10                 NULL\n\n\n\n\n코드top_movie_raw &lt;- top_movie_raw |&gt; \n  mutate(data = map(영화명, get_movie_info)) \n#&gt; 영화정보를 가져옵니다. 설국열차 \n#&gt; 영화정보를 가져옵니다. 외계+인 1부 \n#&gt; 영화정보를 가져옵니다. 디 워 \n#&gt; 영화정보를 가져옵니다. 더 문 \n#&gt; 영화정보를 가져옵니다. 마이웨이 \n#&gt; 영화정보를 가져옵니다. 한산: 용의 출현 \n#&gt; 영화정보를 가져옵니다. 백두산 \n#&gt; 영화정보를 가져옵니다. 비상선언 \n#&gt; 영화정보를 가져옵니다. 미스터 고 \n#&gt; 영화정보를 가져옵니다. 군함도\n\ntop_movie_tbl &lt;- top_movie_raw |&gt; \n  unnest(data)  |&gt; \n  mutate(movieNm = if_else(movieNm == \"디워\", \"디 워\", movieNm)) |&gt;\n  filter(영화명 == movieNm) \n\ntop_movie_tbl |&gt; \n  select(movieCd, 순위, 영화명, 개봉년도, 순제작비, 배급사, prdtYear, openDt)\n#&gt; # A tibble: 11 × 8\n#&gt;    movieCd  순위  영화명          개봉년도 순제작비 배급사       prdtYear openDt\n#&gt;    &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt; \n#&gt;  1 20126674 1위   설국열차            2013 437억원  CJ 엔터테인… 2013     20130…\n#&gt;  2 20208446 2위   외계+인 1부         2022 330억원  CJ 엔터테인… 2022     20220…\n#&gt;  3 20070316 3위   디 워               2007 315억원  쇼박스       2007     20070…\n#&gt;  4 20218935 4위   더 문               2023 286억원  CJ 엔터테인… 2023     20230…\n#&gt;  5 20090810 4위   더 문               2023 286억원  CJ 엔터테인… 2009     20091…\n#&gt;  6 19790083 5위   마이웨이            2011 280억원  CJ 엔터테인… 1975     19750…\n#&gt;  7 20209343 6위   한산: 용의 출현     2022 272억원  롯데 엔터테… 2021     20220…\n#&gt;  8 20192206 7위   백두산              2019 260억원  CJ 엔터테인… 2019     20191…\n#&gt;  9 20196410 8위   비상선언            2022 260억원  쇼박스       2022     20220…\n#&gt; 10 20124082 9위   미스터 고           2013 225억원  쇼박스       2013     20130…\n#&gt; 11 20161481 10위  군함도              2017 225억원  CJ 엔터테인… 2017     20170…"
  },
  {
    "objectID": "after_by_election.html",
    "href": "after_by_election.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "행정안전부 주민등록 인구 및 세대현황에서 서울특별시 구별 인구수를 강서구 중심으로 살펴본자.\n\n코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\n\npop_raw &lt;- read_csv(\"data/202308_202308_주민등록인구및세대현황_월간.csv\",\n                   locale = locale('ko',encoding='euc-kr'))\nseoul_pop &lt;- pop_raw |&gt; \n  select(구명 = 행정구역, 인구수 = `2023년08월_총인구수`) |&gt; \n  mutate(구명 = str_extract(구명, \"\\\\w+구\")) |&gt; \n  drop_na() |&gt; \n  mutate(강북강남 = ifelse(구명 %in% c(\"은평구\", \"서대문구\", \"마포구\", \"종로구\", \"중구\", \"용산구\", \"동대문구\", \"성동구\", \"성북구\", \"중랑구\", \"광진구\", \"강북구\", \"도봉구\", \"노원구\"), \"강북\", \"강남\"))\n\n \nseoul_pop_gt &lt;- seoul_pop |&gt;\n  arrange(desc(인구수)) |&gt; \n  gt() |&gt; \n    gt_theme_538() |&gt; \n    cols_align(\"center\") |&gt; \n    fmt_integer(columns = 인구수) |&gt; \n    grand_summary_rows(\n      columns = 인구수,\n      fns = list(\n        합계 ~ sum(.)\n      ),\n      fmt = ~ fmt_integer(., use_seps = TRUE)\n    ) |&gt;\n    tab_header(\n      title = md(\"**서울특별시 구별 인구수**\"),\n      subtitle = md(\"2023년 8월 기준\")\n    ) |&gt;\n    data_color(\n      column = 강북강남,\n      method = \"factor\",\n      palette = c(\"red\", \"blue\"),\n      alpha = 0.8\n    )\n\nseoul_pop_gt\n\n\n\n\n\n\n서울특별시 구별 인구수\n    \n\n2023년 8월 기준\n    \n\n\n      구명\n      인구수\n      강북강남\n    \n\n\n\n\n송파구\n656,176\n강남\n\n\n\n강서구\n565,195\n강남\n\n\n\n강남구\n540,730\n강남\n\n\n\n노원구\n499,908\n강북\n\n\n\n관악구\n485,994\n강남\n\n\n\n은평구\n465,977\n강북\n\n\n\n강동구\n458,400\n강남\n\n\n\n양천구\n437,665\n강남\n\n\n\n성북구\n428,122\n강북\n\n\n\n서초구\n404,616\n강남\n\n\n\n구로구\n394,363\n강남\n\n\n\n중랑구\n383,072\n강북\n\n\n\n동작구\n380,478\n강남\n\n\n\n영등포구\n375,526\n강남\n\n\n\n마포구\n364,573\n강북\n\n\n\n동대문구\n340,333\n강북\n\n\n\n광진구\n336,446\n강북\n\n\n\n도봉구\n307,968\n강북\n\n\n\n서대문구\n307,672\n강북\n\n\n\n강북구\n290,583\n강북\n\n\n\n성동구\n278,750\n강북\n\n\n\n금천구\n228,858\n강남\n\n\n\n용산구\n216,547\n강북\n\n\n\n종로구\n140,032\n강북\n\n\n\n중구\n121,482\n강북\n\n\n합계\n—\n9,409,466\n—\n\n\n\n\n\n코드\n# gtsave(seoul_pop_gt, \"images/seoul_pop_gt.png\")\n\n\n\n\n코드# draw dot plot with ggplot2 \nlibrary(ggrepel)\nextrafont::loadfonts(device = \"win\")\n\ncomma_man &lt;- function(x) {\n  ifelse(x &gt;= 10000, \n         paste0(format(x / 10000, big.mark = \",\"), \"만\"),\n         as.character(x))\n}\n\nseoul_pop_gg &lt;- seoul_pop |&gt; \n  mutate(기준 = 1) |&gt; \n  mutate(강서구여부 = ifelse(구명 == \"강서구\", \"강서구\", \"강서구아님\")) |&gt;\n  ggplot(aes(y=인구수)) +\n    geom_vline(xintercept = 1, color = \"gray90\") +\n    geom_point(aes(x=기준, color=강서구여부), size=2) +\n    geom_text_repel(aes(x = 기준, y = 인구수, label = 구명), \n                        size = 3, family = \"MaruBuri\",\n                        nudge_y = 0.001 ) +\n    scale_color_manual(values = c(\"black\", \"gray70\")) +\n    scale_y_continuous(labels = comma_man) +\n    labs(title = \"서울특별시 구별 인구수\",\n         subtitle = \"2023년 8월 기준\",\n         x = NULL,\n         y = NULL,\n         caption = \"자료출처: 행정안전부 주민등록 인구 및 세대현황\") +\n    coord_flip() +\n    # coord_fixed(ratio = 0.1) +  # Set the aspect ratio\n    theme_korean() +\n    theme(legend.position = \"none\",\n          panel.grid.major = element_blank(), \n          panel.grid.minor = element_blank(),\n          plot.margin = unit(c(1.5, 1, 11, 1), \"cm\"),\n          axis.ticks.y = element_blank(),  # Hide y-axis ticks\n          axis.text.y = element_blank())   # Hide y-axis tick labels \n\nseoul_pop_gg\n\nragg::agg_jpeg(\"images/seoul_pop_gg.jpeg\",\n               width = 10, height = 7, units = \"in\", res = 600)\nseoul_pop_gg\ndev.off()"
  },
  {
    "objectID": "after_by_election.html#인구수",
    "href": "after_by_election.html#인구수",
    "title": "지도제작 대회",
    "section": "",
    "text": "행정안전부 주민등록 인구 및 세대현황에서 서울특별시 구별 인구수를 강서구 중심으로 살펴본자.\n\n코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\n\npop_raw &lt;- read_csv(\"data/202308_202308_주민등록인구및세대현황_월간.csv\",\n                   locale = locale('ko',encoding='euc-kr'))\nseoul_pop &lt;- pop_raw |&gt; \n  select(구명 = 행정구역, 인구수 = `2023년08월_총인구수`) |&gt; \n  mutate(구명 = str_extract(구명, \"\\\\w+구\")) |&gt; \n  drop_na() |&gt; \n  mutate(강북강남 = ifelse(구명 %in% c(\"은평구\", \"서대문구\", \"마포구\", \"종로구\", \"중구\", \"용산구\", \"동대문구\", \"성동구\", \"성북구\", \"중랑구\", \"광진구\", \"강북구\", \"도봉구\", \"노원구\"), \"강북\", \"강남\"))\n\n \nseoul_pop |&gt;\n  arrange(desc(인구수)) |&gt; \n  gt() |&gt; \n    gt_theme_538() |&gt; \n    cols_align(\"center\") |&gt; \n    fmt_integer(columns = 인구수) |&gt; \n    grand_summary_rows(\n      columns = 인구수,\n      fns = list(\n        합계 ~ sum(.)\n      ),\n      fmt = ~ fmt_integer(., use_seps = TRUE)\n    ) |&gt;\n    tab_header(\n      title = md(\"**서울특별시 구별 인구수**\"),\n      subtitle = md(\"2023년 8월 기준\")\n    ) |&gt;\n    data_color(\n      column = 강북강남,\n      method = \"factor\",\n      palette = c(\"red\", \"blue\"),\n      alpha = 0.8\n    )\n\n\n\n\n\n\n서울특별시 구별 인구수\n    \n\n2023년 8월 기준\n    \n\n\n      구명\n      인구수\n      강북강남\n    \n\n\n\n\n송파구\n656,176\n강남\n\n\n\n강서구\n565,195\n강남\n\n\n\n강남구\n540,730\n강남\n\n\n\n노원구\n499,908\n강북\n\n\n\n관악구\n485,994\n강남\n\n\n\n은평구\n465,977\n강북\n\n\n\n강동구\n458,400\n강남\n\n\n\n양천구\n437,665\n강남\n\n\n\n성북구\n428,122\n강북\n\n\n\n서초구\n404,616\n강남\n\n\n\n구로구\n394,363\n강남\n\n\n\n중랑구\n383,072\n강북\n\n\n\n동작구\n380,478\n강남\n\n\n\n영등포구\n375,526\n강남\n\n\n\n마포구\n364,573\n강북\n\n\n\n동대문구\n340,333\n강북\n\n\n\n광진구\n336,446\n강북\n\n\n\n도봉구\n307,968\n강북\n\n\n\n서대문구\n307,672\n강북\n\n\n\n강북구\n290,583\n강북\n\n\n\n성동구\n278,750\n강북\n\n\n\n금천구\n228,858\n강남\n\n\n\n용산구\n216,547\n강북\n\n\n\n종로구\n140,032\n강북\n\n\n\n중구\n121,482\n강북\n\n\n합계\n—\n9,409,466\n—"
  },
  {
    "objectID": "after_by_election.html#시각화",
    "href": "after_by_election.html#시각화",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드# draw dot plot with ggplot2 \nlibrary(ggrepel)\nextrafont::loadfonts(device = \"win\")\n\ncomma_man &lt;- function(x) {\n  ifelse(x &gt;= 10000, \n         paste0(format(x / 10000, big.mark = \",\"), \"만\"),\n         as.character(x))\n}\n\nseoul_pop_gg &lt;- seoul_pop |&gt; \n  mutate(기준 = 1) |&gt; \n  mutate(강서구여부 = ifelse(구명 == \"강서구\", \"강서구\", \"강서구아님\")) |&gt;\n  ggplot(aes(y=인구수)) +\n    geom_vline(xintercept = 1, color = \"gray90\") +\n    geom_point(aes(x=기준, color=강서구여부), size=2) +\n    geom_text_repel(aes(x = 기준, y = 인구수, label = 구명), \n                        size = 3, family = \"MaruBuri\",\n                        nudge_y = 0.001 ) +\n    scale_color_manual(values = c(\"black\", \"gray70\")) +\n    scale_y_continuous(labels = comma_man) +\n    labs(title = \"서울특별시 구별 인구수\",\n         subtitle = \"2023년 8월 기준\",\n         x = NULL,\n         y = NULL,\n         caption = \"자료출처: 행정안전부 주민등록 인구 및 세대현황\") +\n    coord_flip() +\n    # coord_fixed(ratio = 0.1) +  # Set the aspect ratio\n    theme_korean() +\n    theme(legend.position = \"none\",\n          panel.grid.major = element_blank(), \n          panel.grid.minor = element_blank(),\n          plot.margin = unit(c(1.5, 1, 11, 1), \"cm\"),\n          axis.ticks.y = element_blank(),  # Hide y-axis ticks\n          axis.text.y = element_blank())   # Hide y-axis tick labels \n\nseoul_pop_gg\n\nragg::agg_jpeg(\"images/seoul_pop_gg.jpeg\",\n               width = 10, height = 7, units = \"in\", res = 600)\nseoul_pop_gg\ndev.off()"
  },
  {
    "objectID": "after_by_election.html#시각화-1",
    "href": "after_by_election.html#시각화-1",
    "title": "지도제작 대회",
    "section": "\n2.2 시각화",
    "text": "2.2 시각화\n“강서구”와 가장 비슷한 선거 결과를 보인 구를 챗GPT로 찾아보자.\n\n코드history_cor &lt;- history_raw |&gt; \n  pivot_longer(cols = -구시군명, names_to = \"선거\", values_to = \"정당\") |&gt;  \n  mutate(선거 = factor(선거, levels = c(\"총선2020\", \"재보궐2021\", \"대선2022\", \"지선2022\", \"구청장2022\"))) |&gt;\n  mutate(구시군명 = factor(구시군명, levels = c(\"송파구\", \"강서구\", \"강남구\", \"노원구\", \"관악구\", \n                                      \"은평구\", \"강동구\", \"양천구\", \"성북구\", \"서초구\", \n                                      \"구로구\", \"중랑구\", \"동작구\", \"영등포구\", \"마포구\", \n                                      \"동대문구\", \"광진구\", \"도봉구\", \"서대문구\", \"강북구\", \n                                      \"성동구\", \"금천구\", \"용산구\", \"종로구\", \"중구\")) |&gt; fct_rev()) |&gt; \n  pivot_wider(names_from = 구시군명, values_from = 정당) \n  # mutate(across(-선거, \\(x) factor(x, levels = c(\"민주당\", \"국민의힘\"))))\n  # clipr::write_clip(breaks = \",\")    \n\n\n\n2.2.1 구청장 확대\n\n코드# jaccard &lt;- function(a, b) {\n#     intersection = length(intersect(a, b))\n#     union = length(a) + length(b) - intersection\n#     return (intersection/union)\n# }\n\n# jaccard(hisotry_cor$강서구, hisotry_cor$도봉구)\nhistory_cor_tbl &lt;- history_cor |&gt; select(-선거) |&gt; \n  mutate(across(everything(), \\(x) factor(x, levels = c(\"민주당\", \"국민의힘\"))))\n  # mutate(across(everything(), \\(x) factor(x, levels = c(\"민주당\", \"국민의힘\"))))\n\n## Goodman and Kruskal's lambda\nlibrary(DescTools)\n\nhistory_res &lt;- sapply(history_cor_tbl, \\(X) sapply(history_cor_tbl, \\(Y) Lambda(table(X, Y))))\n\n강서구동일구 &lt;- history_res |&gt; \n  as_tibble() |&gt;\n  mutate(구시군명 = rownames(history_res)) |&gt;\n  pivot_longer(-구시군명, names_to = \"구시군\", values_to = \"상관계수\") |&gt; \n  filter(구시군명 == \"강서구\") |&gt; \n  filter(상관계수 == 1) |&gt; \n  pull(구시군) \n\n강서구동일구\n#&gt; [1] \"강서구\"   \"구로구\"   \"도봉구\"   \"서대문구\"\n\n\n\n코드history_raw |&gt; \n  pivot_longer(cols = -구시군명, names_to = \"선거\", values_to = \"정당\") |&gt;  \n  mutate(선거 = factor(선거, levels = c(\"총선2020\", \"재보궐2021\", \"대선2022\", \"지선2022\",\n                                    \"구청장2022\"))) |&gt;\n  mutate(구시군명 = factor(구시군명, levels = c(\"송파구\", \"강서구\", \"강남구\", \"노원구\", \"관악구\", \n                                      \"은평구\", \"강동구\", \"양천구\", \"성북구\", \"서초구\", \n                                      \"구로구\", \"중랑구\", \"동작구\", \"영등포구\", \"마포구\", \n                                      \"동대문구\", \"광진구\", \"도봉구\", \"서대문구\", \"강북구\", \n                                      \"성동구\", \"금천구\", \"용산구\", \"종로구\", \"중구\")) |&gt; fct_rev()) |&gt;\n  mutate(강서구 = ifelse(구시군명 %in% c('강서구', '강북구', '관악구', '구로구', '금천구', '노원구', '도봉구'), \"강서구\", \"비강서구\")) |&gt; \n  arrange(강서구) |&gt; \n  # filter(강서구 == \"강서구\") |&gt; \n  filter(구시군명 %in% dput(강서구동일구)) |&gt; \n  ggplot(aes(x = 선거, y = 구시군명, color = 정당, group = 구시군명)) +\n    geom_line(color = \"gray50\") +\n    geom_point(size = 3) +\n    scale_color_manual(values = c(\"민주당\" = \"blue\", \"국민의힘\" = \"red\")) +\n    labs(x = \"\",\n         y = \"\",\n         title = \"강서구와 동일한 선거 결과를 보인 구\",\n         caption = \"자료출처: 중앙선거관리위원회 선거통계시스템\") +\n    theme(legend.position = \"top\")\n#&gt; c(\"강서구\", \"구로구\", \"도봉구\", \"서대문구\")\n\n\n\n\n\n\n\n\n2.2.2 3대 선거로 한정\n\n코드history_big_tbl &lt;- history_cor |&gt; \n  filter(선거 != \"구청장2022\") |&gt;\n  select(-선거) |&gt; \n  mutate(across(everything(), \\(x) factor(x, levels = c(\"민주당\", \"국민의힘\"))))\n  # mutate(across(everything(), \\(x) factor(x, levels = c(\"민주당\", \"국민의힘\"))))\n\n## Goodman and Kruskal's lambda\n\nhistory_big &lt;- sapply(history_big_tbl, \\(X) sapply(history_big_tbl, \\(Y) Lambda(table(X, Y))))\n\n강서구빅3 &lt;- history_big |&gt; \n  as_tibble() |&gt;\n  mutate(구시군명 = rownames(history_res)) |&gt;\n  pivot_longer(-구시군명, names_to = \"구시군\", values_to = \"상관계수\") |&gt; \n  filter(구시군명 == \"강서구\") |&gt; \n  filter(상관계수 == 1) |&gt; \n  pull(구시군) \n\n강서구빅3\n#&gt;  [1] \"강북구\"   \"강서구\"   \"관악구\"   \"구로구\"   \"금천구\"   \"노원구\"  \n#&gt;  [7] \"도봉구\"   \"서대문구\" \"성북구\"   \"은평구\"   \"중랑구\"\n\n\n\n코드history_gg &lt;- history_raw |&gt; \n  pivot_longer(cols = -구시군명, names_to = \"선거\", values_to = \"정당\") |&gt;  \n  mutate(선거 = factor(선거, levels = c(\"총선2020\", \"재보궐2021\", \"대선2022\", \"지선2022\",\n                                    \"구청장2022\"))) |&gt;\n  mutate(구시군명 = factor(구시군명, levels = c(\"강서구\", \"구로구\", \"도봉구\", \"서대문구\", \n                                        \"강북구\", \"관악구\", \"금천구\", \"노원구\", \"성북구\", \n                                        \"은평구\", \"중랑구\" )) |&gt; fct_rev()) |&gt;\n  mutate(강서구 = ifelse(구시군명 %in% dput(강서구동일구), \"강서구\", \"비강서구\")) |&gt; \n  filter(구시군명 %in% dput(강서구빅3)) |&gt; \n  arrange(강서구) |&gt; \n  ggplot(aes(x = 선거, y = 구시군명, color = 정당, group = 구시군명)) +\n    geom_line(color = \"gray50\") +\n    geom_point(size = 3) +\n    scale_color_manual(values = c(\"민주당\" = \"blue\", \"국민의힘\" = \"red\")) +\n    labs(x = \"\",\n         y = \"\",\n         title = \"강서구와 동일한 선거 결과를 보인 구\",\n         caption = \"자료출처: 중앙선거관리위원회 선거통계시스템\") +\n    theme(legend.position = \"top\")\n#&gt; c(\"강서구\", \"구로구\", \"도봉구\", \"서대문구\")\n#&gt; c(\"강북구\", \"강서구\", \"관악구\", \"구로구\", \"금천구\", \n#&gt; \"노원구\", \"도봉구\", \"서대문구\", \"성북구\", \"은평구\", \n#&gt; \"중랑구\")\n\nhistory_gg\n\n\n\n\n\n\n코드\nragg::agg_jpeg(\"images/history_gg.jpeg\",\n               width = 10, height = 7, units = \"in\", res = 600)\nhistory_gg\ndev.off()\n#&gt; png \n#&gt;   2"
  },
  {
    "objectID": "after_by_election.html#데이터셋",
    "href": "after_by_election.html#데이터셋",
    "title": "지도제작 대회",
    "section": "\n2.1 데이터셋",
    "text": "2.1 데이터셋\n\n코드library(krvote)\n\n대선_2022 &lt;- krvote::election_20220309$득표율 |&gt; \n  filter(시도명 == \"서울특별시\") |&gt; \n  group_by(구시군명) |&gt; \n  summarise(민주당 = sum(이재명),\n            국민의힘 = sum(윤석열)) |&gt; \n  ungroup() |&gt; \n  mutate(대선2022 = ifelse(민주당 &gt; 국민의힘, \"민주당\", \"국민의힘\"))  |&gt; \n  select(구시군명, 대선2022)\n\n지선_2022 &lt;- krvote::local_sido_20220601 |&gt; \n  filter(str_detect(선거구명, \"서울\")) |&gt; \n  unnest(data) |&gt; \n  group_by(구시군명) |&gt; \n  summarise(민주당 = sum(더불어민주당_송영길),\n            국민의힘 = sum(국민의힘_오세훈)) |&gt; \n  ungroup() |&gt; \n  mutate(지선2022 = ifelse(민주당 &gt; 국민의힘, \"민주당\", \"국민의힘\")) |&gt; \n  select(구시군명, 지선2022)\n\n구청장_2022 &lt;- krvote::local_sgg_20220601 |&gt; \n  filter(str_detect(시도명, \"서울\")) |&gt; \n  mutate(득표 = parse_number(득표)) |&gt; \n  group_by(구시군명 = 선거구_구시군, 정당) |&gt; \n  summarise(득표 = sum(득표)) |&gt; \n  ungroup() |&gt;\n  pivot_wider(names_from = 정당, values_from = 득표, values_fill = 0) |&gt; \n  mutate(구청장2022 = ifelse(더불어민주당 &gt; 국민의힘, \"민주당\", \"국민의힘\")) |&gt;\n  select(구시군명, 구청장2022)\n\n\n총선_2020 &lt;- krvote::general_2020 |&gt; \n  filter(str_detect(시도, \"서울\")) |&gt; \n  unnest(data) |&gt; \n  mutate(구시군명 = str_remove(선거구, \"[갑|을|병]$\")) |&gt; \n  mutate(정당 = case_when(str_detect(구분, \"더불어민주당\") ~ \"민주당\",\n                          str_detect(구분, \"미래통합당\") ~ \"국민의힘\",\n                          TRUE ~ \"기타\")) |&gt; \n  group_by(구시군명, 정당) |&gt;\n  summarise(사람수 = sum(사람수)) |&gt; \n  ungroup() |&gt; \n  pivot_wider(names_from = 정당, values_from = 사람수, values_fill = 0) |&gt;\n  mutate(총선2020 = ifelse(민주당 &gt; 국민의힘, \"민주당\", \"국민의힘\")) |&gt; \n  select(구시군명, 총선2020)  |&gt; \n  mutate(구시군명 = str_remove(구시군명, \"중구성동구갑_|중구성동구을_\"))\n\n재보궐2021 &lt;- krvote::by_election_2021 |&gt; \n  filter(시도명 == \"서울특별시\") |&gt; \n  group_by(구시군, 후보) |&gt; \n  summarise(득표수 = sum(득표수)) |&gt; \n  ungroup() |&gt; \n  mutate(정당 = case_when(str_detect(후보, \"더불어민주당\") ~ \"민주당\",\n                          str_detect(후보, \"국민의힘\") ~ \"국민의힘\",\n                          TRUE ~ \"기타\")) |&gt; \n  group_by(구시군명=구시군, 정당) |&gt;\n  summarise(득표수 = sum(득표수)) |&gt; \n  ungroup() |&gt; \n  pivot_wider(names_from = 정당, values_from = 득표수, values_fill = 0) |&gt;\n  mutate(재보궐2021 = ifelse(민주당 &gt; 국민의힘, \"민주당\", \"국민의힘\")) |&gt; \n  select(구시군명, 재보궐2021)\n\nhistory_raw &lt;- left_join(총선_2020, 재보궐2021)  |&gt; \n  left_join(대선_2022) |&gt; \n  left_join(지선_2022) |&gt; \n  left_join(구청장_2022)"
  },
  {
    "objectID": "day_05.html",
    "href": "day_05.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "소스코드\n\n\n\n3D digital elevation maps with R\n\n\n\n1 패키지\n\n코드# install rayvista\n# devtools::install_github(\"h-a-graham/rayvista\", dependencies = T)\n# # install elevatr\n# devtools::install_github(\"jhollist/elevatr\")\n# \n# remotes::install_github(\"tylermorganwall/rayshader\")\n# remotes::install_github(\"tylermorganwall/rayrender\")\n# remotes::install_github(\"dmurdoch/rgl\")\n\n# libraries we need\nlibs &lt;- c(\n    \"rayvista\", \"elevatr\",\n    \"rayshader\", \"sf\", \"giscoR\"\n)\n\n# install missing libraries\ninstalled_libs &lt;- libs %in% rownames(installed.packages())\nif (any(installed_libs == F)) {\n    install.packages(libs[!installed_libs])\n}\n\n# load libraries\ninvisible(lapply(libs, library, character.only = T))\n\ncrs_LONGLAT &lt;- \"+proj=longlat +datum=WGS84 +no_defs\"\n\n\n\n2 대한민국\n\n코드# 3. RAYVISTA - COUNTRY\n#----------------------\n\nkorea_sf &lt;- giscoR::gisco_get_countries(country = \"KR\",\n                                        resolution = \"1\") |&gt; \n  sf::st_transform(crs = crs_LONGLAT)\n\n\n\ncountry_elevation &lt;- elevatr::get_elev_raster(\n    locations = korea_sf,\n    z = 7,\n    clip = \"locations\"\n)\n\n\nnames(country_elevation) &lt;- \"elevation\"\n\nrgl::close3d()\n\nkorea_dem &lt;- rayvista::plot_3d_vista(\n    dem = country_elevation$elevation,\n    overlay_detail = 11,\n    zscale = 10,\n    zoom = .8,\n    phi = 85,\n    theta = 0,\n    solid = F,\n    windowsize = c(800, 800)\n)\n\nrayshader::render_camera(phi = 75, zoom = .7, theta = 0)\n\nrayshader::render_highquality(\n    filename = \"images/korea-dem.png\",\n    preview = FALSE,\n    light = T,\n    lightdirection = 225,\n    lightaltitude = 60,\n    lightintensity = 400,\n    parallel = TRUE,\n    width = 4000,\n    height = 4000,\n    interactive = FALSE\n)\n\n\n\n\n\n\n\n3 독도\n\n코드get_area_bbox &lt;- function() {\n    xmin &lt;- 131.860035\n    ymin &lt;- 37.237007\n    xmax &lt;- 131.874372\n    ymax &lt;- 37.245153\n\n    bbox &lt;- sf::st_sfc(\n        sf::st_polygon(\n            list(\n                cbind(\n                    c(xmin, xmax, xmax, xmin, xmin),\n                    c(ymin, ymin, ymax, ymax, ymin)\n                )\n            )\n        ), crs = crs_LONGLAT\n    ) |&gt; sf::st_as_sf()\n\n    return(bbox)\n}\n\ndokdo_bbox &lt;- get_area_bbox()\n\nrgl::close3d()\n\ndokdo_dem &lt;- rayvista::plot_3d_vista(\n    req_area = dokdo_bbox,\n    phi = 80,\n    theta = 0,\n    zscale = 0.1,\n    outlier_filter = .001\n)\n\nrayshader::render_snapshot(\n    filename = \"images/dokdo.png\",\n    clear = T\n)\n\n\n\n4 독도 (위경도)\n\n코드.lat  &lt;- (37.237007 + 37.245153) / 2\n.long &lt;- (131.860035 + 131.874372) / 2\n \ndokdo &lt;- plot_3d_vista(lat = .lat, long = .long,\n    radius =1000,\n    zscale = 5,\n    zoom = .8,\n    solid = TRUE,\n    elevation_detail = 13,\n    overlay_detail = 15,\n    theta = 0,\n    windowsize = 800)\n\nrayshader::render_camera(\n    zoom = .7, theta = 0, phi = 30\n)\n\nrayshader::render_highquality(\n    filename = \"images/dokdo_highqual.png\",\n    preview = T,\n    light = T,\n    lightdirection = 225,\n    lightintensity = 1200,\n    lightaltitude = 60,\n    interactive = F,\n    width = 4000,\n    height = 4000\n)"
  },
  {
    "objectID": "legislators.html",
    "href": "legislators.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "공공데이터포털 중앙선거관리위원회 당선인정보 API 를 통해 당선인 정보를 조회한다. (선거종류, 선거구명, 시도명, 구시군명, 기호, 정당, 성명, 성별, 연령, 경력, 득표수, 득표율 등을 조회)\n\n\n코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(rvest)\n\n# iconv(names(krvote::code_election), from = \"EUC-KR\", to = \"UTF-8\")\n\ncode_election &lt;- krvote::code_election\n\nnames(code_election) &lt;- c(\"선거코드\", \"선거명\", \"선거구분\")\n\nlegislator_code &lt;- code_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\")) |&gt; \n  pull(선거코드) |&gt; \n  unique()\n\nlegislator_code\n#&gt; [1] \"20040415\" \"20080409\" \"20120411\" \"20160413\" \"20180613\" \"20190403\" \"20200415\"\n#&gt; [8] \"20220309\"\n\n\n\n\n\n코드library(httr)\nlibrary(jsonlite)\n\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n                query = list(sgId = \"20220309\",\n                              sgTypecode = \"1\",\n                              sdName = \"전국\",\n                              sggName = \"대한민국\",\n                              pageNo = 1,\n                              numOfRows = 10,\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getWinnerInfoInqire$item\n\nresponse_tbl\n#&gt;   num     sgId sgTypecode    huboid  sggName sdName wiwName giho gihoSangse\n#&gt; 1   1 20220309          1 100138362 대한민국   전국            2           \n#&gt;     jdName   name hanjaName gender birthday age                         addr\n#&gt; 1 국민의힘 윤석열    尹錫悅     남 19601218  61 서울특별시 서초구 서초중앙로\n#&gt;   jobId    job eduId                              edu              career1\n#&gt; 1    75 정치인   221 서울대학교 대학원 졸업(법학석사) (전) 제43대 검찰총장\n#&gt;                          career2    dugsu dugyul\n#&gt; 1 (전) 서울중앙지방검찰청 검사장 16394815  48.56\n\n\n\n\n코드\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n                query = list(sgId = legislator_code[8],\n                              sgTypecode = \"2\",\n                              sdName = \"서울특별시\",\n                              sggName = \"종로구\",\n                              pageNo = 1,\n                              numOfRows = 10,\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getWinnerInfoInqire$item\n\nresponse_tbl\n#&gt;   num     sgId sgTypecode    huboid sggName     sdName wiwName giho gihoSangse\n#&gt; 1   1 20220309          2 100138535  종로구 서울특별시  종로구    2           \n#&gt;     jdName   name hanjaName gender birthday age                            addr\n#&gt; 1 국민의힘 최재형    崔在亨     남 19560902  65 서울특별시 양천구 목동중앙로7길\n#&gt;   jobId    job eduId                    edu      career1          career2 dugsu\n#&gt; 1    75 정당인    68 서울대학교 법학과 졸업 (전)감사원장 (전)사법연수원장 49637\n#&gt;   dugyul\n#&gt; 1  52.09\n\n\n\n선거종류코드(sgTypecode): (0) 대표선거명, (1)대통령,(2)국회의원,(3)시도지사,(4)구시군장,(5)시도의원,(6)구시군의회의원,(7)국회의원비례대표,(8)광역의원비례대표,(9)기초의원비례대표,(10)교육의원,(11)교육감\n\n\n코드\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSggCodeList\",\n                query = list(sgId = legislator_code[7],\n                              sgTypecode = \"2\",\n                              numOfRows =  \"1000\",\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getCommonSggCodeList$item\n\nresponse_tbl\n#&gt;     num     sgId sgTypecode                    sggName         sdName\n#&gt; 1     1 20200415          2                     종로구     서울특별시\n#&gt; 2     2 20200415          2               중구성동구갑     서울특별시\n#&gt; 3     3 20200415          2               중구성동구을     서울특별시\n#&gt; 4     4 20200415          2                     용산구     서울특별시\n#&gt; 5     5 20200415          2                   광진구갑     서울특별시\n#&gt; 6     6 20200415          2                   광진구을     서울특별시\n#&gt; 7     7 20200415          2                 동대문구갑     서울특별시\n#&gt; 8     8 20200415          2                 동대문구을     서울특별시\n#&gt; 9     9 20200415          2                   중랑구갑     서울특별시\n#&gt; 10   10 20200415          2                   중랑구을     서울특별시\n#&gt; 11   11 20200415          2                   성북구갑     서울특별시\n#&gt; 12   12 20200415          2                   성북구을     서울특별시\n#&gt; 13   13 20200415          2                   강북구갑     서울특별시\n#&gt; 14   14 20200415          2                   강북구을     서울특별시\n#&gt; 15   15 20200415          2                   도봉구갑     서울특별시\n#&gt; 16   16 20200415          2                   도봉구을     서울특별시\n#&gt; 17   17 20200415          2                   노원구갑     서울특별시\n#&gt; 18   18 20200415          2                   노원구을     서울특별시\n#&gt; 19   19 20200415          2                   노원구병     서울특별시\n#&gt; 20   20 20200415          2                   은평구갑     서울특별시\n#&gt; 21   21 20200415          2                   은평구을     서울특별시\n#&gt; 22   22 20200415          2                 서대문구갑     서울특별시\n#&gt; 23   23 20200415          2                 서대문구을     서울특별시\n#&gt; 24   24 20200415          2                   마포구갑     서울특별시\n#&gt; 25   25 20200415          2                   마포구을     서울특별시\n#&gt; 26   26 20200415          2                   양천구갑     서울특별시\n#&gt; 27   27 20200415          2                   양천구을     서울특별시\n#&gt; 28   28 20200415          2                   강서구갑     서울특별시\n#&gt; 29   29 20200415          2                   강서구을     서울특별시\n#&gt; 30   30 20200415          2                   강서구병     서울특별시\n#&gt; 31   31 20200415          2                   구로구갑     서울특별시\n#&gt; 32   32 20200415          2                   구로구을     서울특별시\n#&gt; 33   33 20200415          2                     금천구     서울특별시\n#&gt; 34   34 20200415          2                 영등포구갑     서울특별시\n#&gt; 35   35 20200415          2                 영등포구을     서울특별시\n#&gt; 36   36 20200415          2                   동작구갑     서울특별시\n#&gt; 37   37 20200415          2                   동작구을     서울특별시\n#&gt; 38   38 20200415          2                   관악구갑     서울특별시\n#&gt; 39   39 20200415          2                   관악구을     서울특별시\n#&gt; 40   40 20200415          2                   서초구갑     서울특별시\n#&gt; 41   41 20200415          2                   서초구을     서울특별시\n#&gt; 42   42 20200415          2                   강남구갑     서울특별시\n#&gt; 43   43 20200415          2                   강남구을     서울특별시\n#&gt; 44   44 20200415          2                   강남구병     서울특별시\n#&gt; 45   45 20200415          2                   송파구갑     서울특별시\n#&gt; 46   46 20200415          2                   송파구을     서울특별시\n#&gt; 47   47 20200415          2                   송파구병     서울특별시\n#&gt; 48   48 20200415          2                   강동구갑     서울특별시\n#&gt; 49   49 20200415          2                   강동구을     서울특별시\n#&gt; 50   50 20200415          2                 중구영도구     부산광역시\n#&gt; 51   51 20200415          2                   서구동구     부산광역시\n#&gt; 52   52 20200415          2                 부산진구갑     부산광역시\n#&gt; 53   53 20200415          2                 부산진구을     부산광역시\n#&gt; 54   54 20200415          2                     동래구     부산광역시\n#&gt; 55   55 20200415          2                     남구갑     부산광역시\n#&gt; 56   56 20200415          2                     남구을     부산광역시\n#&gt; 57   57 20200415          2               북구강서구갑     부산광역시\n#&gt; 58   58 20200415          2               북구강서구을     부산광역시\n#&gt; 59   59 20200415          2                 해운대구갑     부산광역시\n#&gt; 60   60 20200415          2                 해운대구을     부산광역시\n#&gt; 61   61 20200415          2                   사하구갑     부산광역시\n#&gt; 62   62 20200415          2                   사하구을     부산광역시\n#&gt; 63   63 20200415          2                     금정구     부산광역시\n#&gt; 64   64 20200415          2                     연제구     부산광역시\n#&gt; 65   65 20200415          2                     수영구     부산광역시\n#&gt; 66   66 20200415          2                     사상구     부산광역시\n#&gt; 67   67 20200415          2                     기장군     부산광역시\n#&gt; 68   68 20200415          2                   중구남구     대구광역시\n#&gt; 69   69 20200415          2                     동구갑     대구광역시\n#&gt; 70   70 20200415          2                     동구을     대구광역시\n#&gt; 71   71 20200415          2                       서구     대구광역시\n#&gt; 72   72 20200415          2                     북구갑     대구광역시\n#&gt; 73   73 20200415          2                     북구을     대구광역시\n#&gt; 74   74 20200415          2                   수성구갑     대구광역시\n#&gt; 75   75 20200415          2                   수성구을     대구광역시\n#&gt; 76   76 20200415          2                   달서구갑     대구광역시\n#&gt; 77   77 20200415          2                   달서구을     대구광역시\n#&gt; 78   78 20200415          2                   달서구병     대구광역시\n#&gt; 79   79 20200415          2                     달성군     대구광역시\n#&gt; 80   80 20200415          2           중구강화군옹진군     인천광역시\n#&gt; 81   81 20200415          2             동구미추홀구갑     인천광역시\n#&gt; 82   82 20200415          2             동구미추홀구을     인천광역시\n#&gt; 83   83 20200415          2                   연수구갑     인천광역시\n#&gt; 84   84 20200415          2                   연수구을     인천광역시\n#&gt; 85   85 20200415          2                   남동구갑     인천광역시\n#&gt; 86   86 20200415          2                   남동구을     인천광역시\n#&gt; 87   87 20200415          2                   부평구갑     인천광역시\n#&gt; 88   88 20200415          2                   부평구을     인천광역시\n#&gt; 89   89 20200415          2                   계양구갑     인천광역시\n#&gt; 90   90 20200415          2                   계양구을     인천광역시\n#&gt; 91   91 20200415          2                     서구갑     인천광역시\n#&gt; 92   92 20200415          2                     서구을     인천광역시\n#&gt; 93   93 20200415          2                 동구남구갑     광주광역시\n#&gt; 94   94 20200415          2                 동구남구을     광주광역시\n#&gt; 95   95 20200415          2                     서구갑     광주광역시\n#&gt; 96   96 20200415          2                     서구을     광주광역시\n#&gt; 97   97 20200415          2                     북구갑     광주광역시\n#&gt; 98   98 20200415          2                     북구을     광주광역시\n#&gt; 99   99 20200415          2                   광산구갑     광주광역시\n#&gt; 100 100 20200415          2                   광산구을     광주광역시\n#&gt; 101 101 20200415          2                       동구     대전광역시\n#&gt; 102 102 20200415          2                       중구     대전광역시\n#&gt; 103 103 20200415          2                     서구갑     대전광역시\n#&gt; 104 104 20200415          2                     서구을     대전광역시\n#&gt; 105 105 20200415          2                   유성구갑     대전광역시\n#&gt; 106 106 20200415          2                   유성구을     대전광역시\n#&gt; 107 107 20200415          2                     대덕구     대전광역시\n#&gt; 108 108 20200415          2                       중구     울산광역시\n#&gt; 109 109 20200415          2                     남구갑     울산광역시\n#&gt; 110 110 20200415          2                     남구을     울산광역시\n#&gt; 111 111 20200415          2                       동구     울산광역시\n#&gt; 112 112 20200415          2                       북구     울산광역시\n#&gt; 113 113 20200415          2                     울주군     울산광역시\n#&gt; 114 114 20200415          2           세종특별자치시갑 세종특별자치시\n#&gt; 115 115 20200415          2           세종특별자치시을 세종특별자치시\n#&gt; 116 116 20200415          2                   수원시갑         경기도\n#&gt; 117 117 20200415          2                   수원시을         경기도\n#&gt; 118 118 20200415          2                   수원시병         경기도\n#&gt; 119 119 20200415          2                   수원시정         경기도\n#&gt; 120 120 20200415          2                   수원시무         경기도\n#&gt; 121 121 20200415          2               성남시수정구         경기도\n#&gt; 122 122 20200415          2               성남시중원구         경기도\n#&gt; 123 123 20200415          2             성남시분당구갑         경기도\n#&gt; 124 124 20200415          2             성남시분당구을         경기도\n#&gt; 125 125 20200415          2                 의정부시갑         경기도\n#&gt; 126 126 20200415          2                 의정부시을         경기도\n#&gt; 127 127 20200415          2               안양시만안구         경기도\n#&gt; 128 128 20200415          2             안양시동안구갑         경기도\n#&gt; 129 129 20200415          2             안양시동안구을         경기도\n#&gt; 130 130 20200415          2                   부천시갑         경기도\n#&gt; 131 131 20200415          2                   부천시을         경기도\n#&gt; 132 132 20200415          2                   부천시병         경기도\n#&gt; 133 133 20200415          2                   부천시정         경기도\n#&gt; 134 134 20200415          2                   광명시갑         경기도\n#&gt; 135 135 20200415          2                   광명시을         경기도\n#&gt; 136 136 20200415          2                   평택시갑         경기도\n#&gt; 137 137 20200415          2                   평택시을         경기도\n#&gt; 138 138 20200415          2             동두천시연천군         경기도\n#&gt; 139 139 20200415          2             안산시상록구갑         경기도\n#&gt; 140 140 20200415          2             안산시상록구을         경기도\n#&gt; 141 141 20200415          2             안산시단원구갑         경기도\n#&gt; 142 142 20200415          2             안산시단원구을         경기도\n#&gt; 143 143 20200415          2                   고양시갑         경기도\n#&gt; 144 144 20200415          2                   고양시을         경기도\n#&gt; 145 145 20200415          2                   고양시병         경기도\n#&gt; 146 146 20200415          2                   고양시정         경기도\n#&gt; 147 147 20200415          2               의왕시과천시         경기도\n#&gt; 148 148 20200415          2                     구리시         경기도\n#&gt; 149 149 20200415          2                 남양주시갑         경기도\n#&gt; 150 150 20200415          2                 남양주시을         경기도\n#&gt; 151 151 20200415          2                 남양주시병         경기도\n#&gt; 152 152 20200415          2                     오산시         경기도\n#&gt; 153 153 20200415          2                   시흥시갑         경기도\n#&gt; 154 154 20200415          2                   시흥시을         경기도\n#&gt; 155 155 20200415          2                     군포시         경기도\n#&gt; 156 156 20200415          2                     하남시         경기도\n#&gt; 157 157 20200415          2                   용인시갑         경기도\n#&gt; 158 158 20200415          2                   용인시을         경기도\n#&gt; 159 159 20200415          2                   용인시병         경기도\n#&gt; 160 160 20200415          2                   용인시정         경기도\n#&gt; 161 161 20200415          2                   파주시갑         경기도\n#&gt; 162 162 20200415          2                   파주시을         경기도\n#&gt; 163 163 20200415          2                     이천시         경기도\n#&gt; 164 164 20200415          2                     안성시         경기도\n#&gt; 165 165 20200415          2                   김포시갑         경기도\n#&gt; 166 166 20200415          2                   김포시을         경기도\n#&gt; 167 167 20200415          2                   화성시갑         경기도\n#&gt; 168 168 20200415          2                   화성시을         경기도\n#&gt; 169 169 20200415          2                   화성시병         경기도\n#&gt; 170 170 20200415          2                   광주시갑         경기도\n#&gt; 171 171 20200415          2                   광주시을         경기도\n#&gt; 172 172 20200415          2                     양주시         경기도\n#&gt; 173 173 20200415          2               포천시가평군         경기도\n#&gt; 174 174 20200415          2               여주시양평군         경기도\n#&gt; 175 175 20200415          2 춘천시철원군화천군양구군갑         강원도\n#&gt; 176 176 20200415          2 춘천시철원군화천군양구군을         강원도\n#&gt; 177 177 20200415          2                   원주시갑         강원도\n#&gt; 178 178 20200415          2                   원주시을         강원도\n#&gt; 179 179 20200415          2                     강릉시         강원도\n#&gt; 180 180 20200415          2   동해시태백시삼척시정선군         강원도\n#&gt; 181 181 20200415          2   속초시인제군고성군양양군         강원도\n#&gt; 182 182 20200415          2   홍천군횡성군영월군평창군         강원도\n#&gt; 183 183 20200415          2               청주시상당구       충청북도\n#&gt; 184 184 20200415          2               청주시서원구       충청북도\n#&gt; 185 185 20200415          2               청주시흥덕구       충청북도\n#&gt; 186 186 20200415          2               청주시청원구       충청북도\n#&gt; 187 187 20200415          2                     충주시       충청북도\n#&gt; 188 188 20200415          2               제천시단양군       충청북도\n#&gt; 189 189 20200415          2   보은군옥천군영동군괴산군       충청북도\n#&gt; 190 190 20200415          2         증평군진천군음성군       충청북도\n#&gt; 191 191 20200415          2                   천안시갑       충청남도\n#&gt; 192 192 20200415          2                   천안시을       충청남도\n#&gt; 193 193 20200415          2                   천안시병       충청남도\n#&gt; 194 194 20200415          2         공주시부여군청양군       충청남도\n#&gt; 195 195 20200415          2               보령시서천군       충청남도\n#&gt; 196 196 20200415          2                   아산시갑       충청남도\n#&gt; 197 197 20200415          2                   아산시을       충청남도\n#&gt; 198 198 20200415          2               서산시태안군       충청남도\n#&gt; 199 199 20200415          2         논산시계룡시금산군       충청남도\n#&gt; 200 200 20200415          2                     당진시       충청남도\n#&gt; 201 201 20200415          2               홍성군예산군       충청남도\n#&gt; 202 202 20200415          2                   전주시갑       전라북도\n#&gt; 203 203 20200415          2                   전주시을       전라북도\n#&gt; 204 204 20200415          2                   전주시병       전라북도\n#&gt; 205 205 20200415          2                     군산시       전라북도\n#&gt; 206 206 20200415          2                   익산시갑       전라북도\n#&gt; 207 207 20200415          2                   익산시을       전라북도\n#&gt; 208 208 20200415          2               정읍시고창군       전라북도\n#&gt; 209 209 20200415          2         남원시임실군순창군       전라북도\n#&gt; 210 210 20200415          2               김제시부안군       전라북도\n#&gt; 211 211 20200415          2   완주군진안군무주군장수군       전라북도\n#&gt; 212 212 20200415          2                     목포시       전라남도\n#&gt; 213 213 20200415          2                   여수시갑       전라남도\n#&gt; 214 214 20200415          2                   여수시을       전라남도\n#&gt; 215 215 20200415          2 순천시광양시곡성군구례군갑       전라남도\n#&gt; 216 216 20200415          2 순천시광양시곡성군구례군을       전라남도\n#&gt; 217 217 20200415          2               나주시화순군       전라남도\n#&gt; 218 218 20200415          2   담양군함평군영광군장성군       전라남도\n#&gt; 219 219 20200415          2   고흥군보성군장흥군강진군       전라남도\n#&gt; 220 220 20200415          2         해남군완도군진도군       전라남도\n#&gt; 221 221 20200415          2         영암군무안군신안군       전라남도\n#&gt; 222 222 20200415          2                 포항시북구       경상북도\n#&gt; 223 223 20200415          2           포항시남구울릉군       경상북도\n#&gt; 224 224 20200415          2                     경주시       경상북도\n#&gt; 225 225 20200415          2                     김천시       경상북도\n#&gt; 226 226 20200415          2               안동시예천군       경상북도\n#&gt; 227 227 20200415          2                   구미시갑       경상북도\n#&gt; 228 228 20200415          2                   구미시을       경상북도\n#&gt; 229 229 20200415          2   영주시영양군봉화군울진군       경상북도\n#&gt; 230 230 20200415          2               영천시청도군       경상북도\n#&gt; 231 231 20200415          2               상주시문경시       경상북도\n#&gt; 232 232 20200415          2                     경산시       경상북도\n#&gt; 233 233 20200415          2   군위군의성군청송군영덕군       경상북도\n#&gt; 234 234 20200415          2         고령군성주군칠곡군       경상북도\n#&gt; 235 235 20200415          2               창원시의창구       경상남도\n#&gt; 236 236 20200415          2               창원시성산구       경상남도\n#&gt; 237 237 20200415          2           창원시마산합포구       경상남도\n#&gt; 238 238 20200415          2           창원시마산회원구       경상남도\n#&gt; 239 239 20200415          2               창원시진해구       경상남도\n#&gt; 240 240 20200415          2                   진주시갑       경상남도\n#&gt; 241 241 20200415          2                   진주시을       경상남도\n#&gt; 242 242 20200415          2               통영시고성군       경상남도\n#&gt; 243 243 20200415          2         사천시남해군하동군       경상남도\n#&gt; 244 244 20200415          2                   김해시갑       경상남도\n#&gt; 245 245 20200415          2                   김해시을       경상남도\n#&gt; 246 246 20200415          2   밀양시의령군함안군창녕군       경상남도\n#&gt; 247 247 20200415          2                     거제시       경상남도\n#&gt; 248 248 20200415          2                   양산시갑       경상남도\n#&gt; 249 249 20200415          2                   양산시을       경상남도\n#&gt; 250 250 20200415          2   산청군함양군거창군합천군       경상남도\n#&gt; 251 251 20200415          2                   제주시갑 제주특별자치도\n#&gt; 252 252 20200415          2                   제주시을 제주특별자치도\n#&gt; 253 253 20200415          2                   서귀포시 제주특별자치도\n#&gt;              wiwName sggJungsu sOrder\n#&gt; 1             종로구         1      1\n#&gt; 2             성동구         1      2\n#&gt; 3               중구         1      3\n#&gt; 4             용산구         1      4\n#&gt; 5             광진구         1      5\n#&gt; 6             광진구         1      6\n#&gt; 7           동대문구         1      7\n#&gt; 8           동대문구         1      8\n#&gt; 9             중랑구         1      9\n#&gt; 10            중랑구         1     10\n#&gt; 11            성북구         1     11\n#&gt; 12            성북구         1     12\n#&gt; 13            강북구         1     13\n#&gt; 14            강북구         1     14\n#&gt; 15            도봉구         1     15\n#&gt; 16            도봉구         1     16\n#&gt; 17            노원구         1     17\n#&gt; 18            노원구         1     18\n#&gt; 19            노원구         1     19\n#&gt; 20            은평구         1     20\n#&gt; 21            은평구         1     21\n#&gt; 22          서대문구         1     22\n#&gt; 23          서대문구         1     23\n#&gt; 24            마포구         1     24\n#&gt; 25            마포구         1     25\n#&gt; 26            양천구         1     26\n#&gt; 27            양천구         1     27\n#&gt; 28            강서구         1     28\n#&gt; 29            강서구         1     29\n#&gt; 30            강서구         1     30\n#&gt; 31            구로구         1     31\n#&gt; 32            구로구         1     32\n#&gt; 33            금천구         1     33\n#&gt; 34          영등포구         1     34\n#&gt; 35          영등포구         1     35\n#&gt; 36            동작구         1     36\n#&gt; 37            동작구         1     37\n#&gt; 38            관악구         1     38\n#&gt; 39            관악구         1     39\n#&gt; 40            서초구         1     40\n#&gt; 41            서초구         1     41\n#&gt; 42            강남구         1     42\n#&gt; 43            강남구         1     43\n#&gt; 44            강남구         1     44\n#&gt; 45            송파구         1     45\n#&gt; 46            송파구         1     46\n#&gt; 47            송파구         1     47\n#&gt; 48            강동구         1     48\n#&gt; 49            강동구         1     49\n#&gt; 50            영도구         1     50\n#&gt; 51              서구         1     51\n#&gt; 52          부산진구         1     52\n#&gt; 53          부산진구         1     53\n#&gt; 54            동래구         1     54\n#&gt; 55              남구         1     55\n#&gt; 56              남구         1     56\n#&gt; 57              북구         1     57\n#&gt; 58            강서구         1     58\n#&gt; 59          해운대구         1     59\n#&gt; 60          해운대구         1     60\n#&gt; 61            사하구         1     61\n#&gt; 62            사하구         1     62\n#&gt; 63            금정구         1     63\n#&gt; 64            연제구         1     64\n#&gt; 65            수영구         1     65\n#&gt; 66            사상구         1     66\n#&gt; 67            기장군         1     67\n#&gt; 68              남구         1     68\n#&gt; 69              동구         1     69\n#&gt; 70              동구         1     70\n#&gt; 71              서구         1     71\n#&gt; 72              북구         1     72\n#&gt; 73              북구         1     73\n#&gt; 74            수성구         1     74\n#&gt; 75            수성구         1     75\n#&gt; 76            달서구         1     76\n#&gt; 77            달서구         1     77\n#&gt; 78            달서구         1     78\n#&gt; 79            달성군         1     79\n#&gt; 80              중구         1     80\n#&gt; 81          미추홀구         1     81\n#&gt; 82          미추홀구         1     82\n#&gt; 83            연수구         1     83\n#&gt; 84            연수구         1     84\n#&gt; 85            남동구         1     85\n#&gt; 86            남동구         1     86\n#&gt; 87            부평구         1     87\n#&gt; 88            부평구         1     88\n#&gt; 89            계양구         1     89\n#&gt; 90            계양구         1     90\n#&gt; 91              서구         1     91\n#&gt; 92              서구         1     92\n#&gt; 93              남구         1     93\n#&gt; 94              동구         1     94\n#&gt; 95              서구         1     95\n#&gt; 96              서구         1     96\n#&gt; 97              북구         1     97\n#&gt; 98              북구         1     98\n#&gt; 99            광산구         1     99\n#&gt; 100           광산구         1    100\n#&gt; 101             동구         1    101\n#&gt; 102             중구         1    102\n#&gt; 103             서구         1    103\n#&gt; 104             서구         1    104\n#&gt; 105           유성구         1    105\n#&gt; 106           유성구         1    106\n#&gt; 107           대덕구         1    107\n#&gt; 108             중구         1    108\n#&gt; 109             남구         1    109\n#&gt; 110             남구         1    110\n#&gt; 111             동구         1    111\n#&gt; 112             북구         1    112\n#&gt; 113           울주군         1    113\n#&gt; 114   세종특별자치시         1    114\n#&gt; 115   세종특별자치시         1    115\n#&gt; 116     수원시장안구         1    116\n#&gt; 117     수원시권선구         1    117\n#&gt; 118     수원시팔달구         1    118\n#&gt; 119     수원시영통구         1    119\n#&gt; 120     수원시권선구         1    120\n#&gt; 121     성남시수정구         1    121\n#&gt; 122     성남시중원구         1    122\n#&gt; 123     성남시분당구         1    123\n#&gt; 124     성남시분당구         1    124\n#&gt; 125         의정부시         1    125\n#&gt; 126         의정부시         1    126\n#&gt; 127     안양시만안구         1    127\n#&gt; 128     안양시동안구         1    128\n#&gt; 129     안양시동안구         1    129\n#&gt; 130           부천시         1    130\n#&gt; 131           부천시         1    131\n#&gt; 132           부천시         1    132\n#&gt; 133           부천시         1    133\n#&gt; 134           광명시         1    134\n#&gt; 135           광명시         1    135\n#&gt; 136           평택시         1    136\n#&gt; 137           평택시         1    137\n#&gt; 138         동두천시         1    138\n#&gt; 139     안산시상록구         1    139\n#&gt; 140     안산시상록구         1    140\n#&gt; 141     안산시단원구         1    141\n#&gt; 142     안산시단원구         1    142\n#&gt; 143     고양시덕양구         1    143\n#&gt; 144     고양시덕양구         1    144\n#&gt; 145   고양시일산동구         1    145\n#&gt; 146   고양시일산서구         1    146\n#&gt; 147           의왕시         1    147\n#&gt; 148           구리시         1    148\n#&gt; 149         남양주시         1    149\n#&gt; 150         남양주시         1    150\n#&gt; 151         남양주시         1    151\n#&gt; 152           오산시         1    152\n#&gt; 153           시흥시         1    153\n#&gt; 154           시흥시         1    154\n#&gt; 155           군포시         1    155\n#&gt; 156           하남시         1    156\n#&gt; 157     용인시처인구         1    157\n#&gt; 158     용인시기흥구         1    158\n#&gt; 159     용인시수지구         1    159\n#&gt; 160     용인시기흥구         1    160\n#&gt; 161           파주시         1    161\n#&gt; 162           파주시         1    162\n#&gt; 163           이천시         1    163\n#&gt; 164           안성시         1    164\n#&gt; 165           김포시         1    165\n#&gt; 166           김포시         1    166\n#&gt; 167           화성시         1    167\n#&gt; 168           화성시         1    168\n#&gt; 169           화성시         1    169\n#&gt; 170           광주시         1    170\n#&gt; 171           광주시         1    171\n#&gt; 172           양주시         1    172\n#&gt; 173           포천시         1    173\n#&gt; 174           여주시         1    174\n#&gt; 175           춘천시         1    175\n#&gt; 176           춘천시         1    176\n#&gt; 177           원주시         1    177\n#&gt; 178           원주시         1    178\n#&gt; 179           강릉시         1    179\n#&gt; 180           동해시         1    180\n#&gt; 181           속초시         1    181\n#&gt; 182           영월군         1    182\n#&gt; 183     청주시상당구         1    183\n#&gt; 184     청주시서원구         1    184\n#&gt; 185     청주시흥덕구         1    185\n#&gt; 186     청주시청원구         1    186\n#&gt; 187           충주시         1    187\n#&gt; 188           제천시         1    188\n#&gt; 189           영동군         1    189\n#&gt; 190           음성군         1    190\n#&gt; 191     천안시동남구         1    191\n#&gt; 192     천안시서북구         1    192\n#&gt; 193     천안시동남구         1    193\n#&gt; 194           공주시         1    194\n#&gt; 195           보령시         1    195\n#&gt; 196           아산시         1    196\n#&gt; 197           아산시         1    197\n#&gt; 198           서산시         1    198\n#&gt; 199           논산시         1    199\n#&gt; 200           당진시         1    200\n#&gt; 201           홍성군         1    201\n#&gt; 202     전주시완산구         1    202\n#&gt; 203     전주시완산구         1    203\n#&gt; 204     전주시덕진구         1    204\n#&gt; 205           군산시         1    205\n#&gt; 206           익산시         1    206\n#&gt; 207           익산시         1    207\n#&gt; 208           정읍시         1    208\n#&gt; 209           남원시         1    209\n#&gt; 210           김제시         1    210\n#&gt; 211           완주군         1    211\n#&gt; 212           목포시         1    212\n#&gt; 213           여수시         1    213\n#&gt; 214           여수시         1    214\n#&gt; 215           순천시         1    215\n#&gt; 216           광양시         1    216\n#&gt; 217           나주시         1    217\n#&gt; 218           영광군         1    218\n#&gt; 219           장흥군         1    219\n#&gt; 220           해남군         1    220\n#&gt; 221           무안군         1    221\n#&gt; 222       포항시북구         1    222\n#&gt; 223       포항시남구         1    223\n#&gt; 224           경주시         1    224\n#&gt; 225           김천시         1    225\n#&gt; 226           안동시         1    226\n#&gt; 227           구미시         1    227\n#&gt; 228           구미시         1    228\n#&gt; 229           영주시         1    229\n#&gt; 230           영천시         1    230\n#&gt; 231           상주시         1    231\n#&gt; 232           경산시         1    232\n#&gt; 233           의성군         1    233\n#&gt; 234           칠곡군         1    234\n#&gt; 235     창원시의창구         1    235\n#&gt; 236     창원시성산구         1    236\n#&gt; 237 창원시마산합포구         1    237\n#&gt; 238 창원시마산회원구         1    238\n#&gt; 239     창원시진해구         1    239\n#&gt; 240           진주시         1    240\n#&gt; 241           진주시         1    241\n#&gt; 242           통영시         1    242\n#&gt; 243           사천시         1    243\n#&gt; 244           김해시         1    244\n#&gt; 245           김해시         1    245\n#&gt; 246           밀양시         1    246\n#&gt; 247           거제시         1    247\n#&gt; 248           양산시         1    248\n#&gt; 249           양산시         1    249\n#&gt; 250           거창군         1    250\n#&gt; 251           제주시         1    251\n#&gt; 252           제주시         1    252\n#&gt; 253         서귀포시         1    253\n\n\n\n\n코드\nlegislator_raw &lt;- code_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\"),\n         선거구분 != \"0\") \n\nget_precinct &lt;- function(legislator_cd = \"20200415\", \n                         sgTypecode = \"2\") {\n  # httr의 GET 함수로 데이터를 추출한다\n  response &lt;- GET(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSggCodeList\",\n                  query = list(sgId = legislator_cd,\n                                sgTypecode = sgTypecode,\n                                numOfRows =  \"1000\",\n                                resultType = \"json\",\n                                serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n  \n  # 응답 상태와 내용을 확인한다\n  print(status_code(response))\n  \n  response_list &lt;- content(response, \"text\") |&gt; \n    fromJSON()\n  \n  response_tbl &lt;- response_list$getCommonSggCodeList$item\n  \n  return(response_tbl |&gt; as_tibble())\n}\n\nget_precinct(\"20220309\")\n#&gt; [1] 200\n#&gt; # A tibble: 5 × 8\n#&gt;   num   sgId     sgTypecode sggName      sdName     wiwName     sggJungsu sOrder\n#&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt; \n#&gt; 1 1     20220309 2          종로구       서울특별시 종로구      1         1     \n#&gt; 2 2     20220309 2          서초구갑     서울특별시 서초구      1         40    \n#&gt; 3 3     20220309 2          중구남구     대구광역시 남구        1         68    \n#&gt; 4 4     20220309 2          안성시       경기도     안성시      1         164   \n#&gt; 5 5     20220309 2          청주시상당구 충청북도   청주시상당… 1         183\n\n\n\n\n코드\n# 재보궐 제외\n# legislator_tbl &lt;- legislator_raw |&gt; \n#   dplyr::filter(선거코드 %in% c(\"20040415\", \"20080409\", \"20120411\", \n#                       \"20160413\", \"20200415\")) \n\nlegislator_tbl &lt;- legislator_raw |&gt; \n  mutate(data = map2(선거코드, 선거구분, get_precinct))\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n\nprecinct_tbl &lt;- legislator_tbl |&gt; \n  unnest(data)\n\nprecinct_tbl\n#&gt; # A tibble: 1,264 × 11\n#&gt;    선거코드 선거명       선거구분 num   sgId   sgTypecode sggName sdName wiwName\n#&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  \n#&gt;  1 20040415 국회의원선거 2        1     20040… 2          종로구  서울…  종로구 \n#&gt;  2 20040415 국회의원선거 2        2     20040… 2          중구    서울…  중구(… \n#&gt;  3 20040415 국회의원선거 2        3     20040… 2          용산구  서울…  용산구 \n#&gt;  4 20040415 국회의원선거 2        4     20040… 2          성동구… 서울…  성동구 \n#&gt;  5 20040415 국회의원선거 2        5     20040… 2          성동구… 서울…  성동구 \n#&gt;  6 20040415 국회의원선거 2        6     20040… 2          광진구… 서울…  광진구 \n#&gt;  7 20040415 국회의원선거 2        7     20040… 2          광진구… 서울…  광진구 \n#&gt;  8 20040415 국회의원선거 2        8     20040… 2          동대문… 서울…  동대문…\n#&gt;  9 20040415 국회의원선거 2        9     20040… 2          동대문… 서울…  동대문…\n#&gt; 10 20040415 국회의원선거 2        10    20040… 2          중랑구… 서울…  중랑구 \n#&gt; # ℹ 1,254 more rows\n#&gt; # ℹ 2 more variables: sggJungsu &lt;chr&gt;, sOrder &lt;chr&gt;\n\n\n\n\n\n코드\nget_elected &lt;- function(sgId = \"20200415\", sgTypecode = \"2\",\n                        sdName = \"서울특별시\",sggName = \"종로구\") {\n  response &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n              query = list(sgId = sgId,\n                           sgTypecode = sgTypecode,\n                           sdName = sdName,\n                           sggName = sggName,\n                           numOfRows = 100,\n                           resultType = \"json\",\n                           serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n  # 응답 상태와 내용을 확인한다\n  cat(status_code(response), \": \", sgId, sgTypecode, sdName, sggName, \"\\n\")\n  \n  response_list &lt;- content(response, \"text\") |&gt; \n    fromJSON()\n  \n  response_tbl &lt;- response_list$getWinnerInfoInqire$item\n  \n  Sys.sleep(runif(1, 0,0.5))\n  \n  return(response_tbl |&gt; as_tibble())\n}\n\nget_elected()\n#&gt; 200 :  20200415 2 서울특별시 종로구\n#&gt; # A tibble: 1 × 24\n#&gt;   num   sgId    sgTypecode huboid sggName sdName wiwName giho  gihoSangse jdName\n#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt; \n#&gt; 1 1     202004… 2          10013… 종로구  서울…  종로구  1     \"\"         더불… \n#&gt; # ℹ 14 more variables: name &lt;chr&gt;, hanjaName &lt;chr&gt;, gender &lt;chr&gt;,\n#&gt; #   birthday &lt;chr&gt;, age &lt;chr&gt;, addr &lt;chr&gt;, jobId &lt;chr&gt;, job &lt;chr&gt;, eduId &lt;chr&gt;,\n#&gt; #   edu &lt;chr&gt;, career1 &lt;chr&gt;, career2 &lt;chr&gt;, dugsu &lt;chr&gt;, dugyul &lt;chr&gt;\n\n\n\n\n코드# sido_code &lt;- tribble(\n# ~\"시도코드\", ~\"시도명\",\n# \"1100\", \"서울특별시\",\n# \"2600\", \"부산광역시\",\n# \"2700\", \"대구광역시\",\n# \"2800\", \"인천광역시\",\n# \"2900\", \"광주광역시\",\n# \"3000\", \"대전광역시\",\n# \"3100\", \"울산광역시\",\n# \"5100\", \"세종특별자치시\",\n# \"4100\", \"경기도\",\n# \"4200\", \"강원도\",\n# \"4300\", \"충청북도\",\n# \"4400\", \"충청남도\",\n# \"4500\", \"전라북도\",\n# \"4600\", \"전라남도\",\n# \"4700\", \"경상북도\",\n# \"4800\", \"경상남도\",\n# \"4900\", \"제주특별자치도\")\n\nelected_raw &lt;- legislator_tbl |&gt; \n  dplyr::filter(선거코드 == \"20200415\",\n         선거구분 == \"2\") |&gt; \n  unnest(data)  |&gt; \n  select(sgId, sgTypecode, sdName, sggName, wiwName) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected))\n\nelected_tbl &lt;- elected_raw |&gt; \n  select(data) |&gt; \n  unnest(data)\n\n\n\n\n코드get_elected_safely &lt;- safely(get_elected, otherwise = \"error\")\n\ntotal_elected_raw &lt;- legislator_tbl |&gt; \n  unnest(data)  |&gt; \n  select(sgId, sgTypecode, sdName, sggName, wiwName) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected_safely))\n\ntotal_elected_tbl &lt;- total_elected_raw |&gt; \n  mutate(result = map(data, pluck, \"result\")) |&gt;\n  select(sgId, sgTypecode, sdName, sggName, wiwName, result)\n\ntotal_elected_tbl |&gt; \n  write_rds(\"data/total_elected_tbl.rds\")\n\n\n\n\n코드total_elected_tbl &lt;- \n  read_rds(\"data/total_elected_tbl.rds\")\n\ntotal_elected_true &lt;- total_elected_tbl |&gt; \n  mutate(tibble = map_lgl(result, is_tibble)) |&gt; \n  dplyr::filter(tibble) |&gt; \n  select(-tibble)\n\ntotal_elected_false &lt;- total_elected_raw |&gt; \n  dplyr::filter(sgId == \"20120411\",\n         sdName == \"인천광역시\",\n         sggName %in% c(\"남동구을\", \"부평구갑\", \"서구강화군갑\")) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected_safely)) |&gt; \n  mutate(result = map(data, pluck, \"result\")) |&gt;\n  select(sgId, sgTypecode, sdName, sggName, wiwName, result)\n\n\ntotal_elected_all &lt;- bind_rows(total_elected_true, total_elected_false)\n\ntotal_elected_all |&gt; \n  write_rds(\"data/total_elected_all.rds\")"
  },
  {
    "objectID": "legislators.html#국회의원-선거-코드",
    "href": "legislators.html#국회의원-선거-코드",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(rvest)\n\n# iconv(names(krvote::code_election), from = \"EUC-KR\", to = \"UTF-8\")\n\ncode_election &lt;- krvote::code_election\n\nnames(code_election) &lt;- c(\"선거코드\", \"선거명\", \"선거구분\")\n\nlegislator_code &lt;- code_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\")) |&gt; \n  pull(선거코드) |&gt; \n  unique()\n\nlegislator_code\n#&gt; [1] \"20040415\" \"20080409\" \"20120411\" \"20160413\" \"20180613\" \"20190403\" \"20200415\"\n#&gt; [8] \"20220309\""
  },
  {
    "objectID": "legislators.html#당선인",
    "href": "legislators.html#당선인",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(httr)\nlibrary(jsonlite)\n\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n                query = list(sgId = \"20220309\",\n                              sgTypecode = \"1\",\n                              sdName = \"전국\",\n                              sggName = \"대한민국\",\n                              pageNo = 1,\n                              numOfRows = 10,\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getWinnerInfoInqire$item\n\nresponse_tbl\n#&gt;   num     sgId sgTypecode    huboid  sggName sdName wiwName giho gihoSangse\n#&gt; 1   1 20220309          1 100138362 대한민국   전국            2           \n#&gt;     jdName   name hanjaName gender birthday age                         addr\n#&gt; 1 국민의힘 윤석열    尹錫悅     남 19601218  61 서울특별시 서초구 서초중앙로\n#&gt;   jobId    job eduId                              edu              career1\n#&gt; 1    75 정치인   221 서울대학교 대학원 졸업(법학석사) (전) 제43대 검찰총장\n#&gt;                          career2    dugsu dugyul\n#&gt; 1 (전) 서울중앙지방검찰청 검사장 16394815  48.56"
  },
  {
    "objectID": "legislators.html#국회의원",
    "href": "legislators.html#국회의원",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n                query = list(sgId = legislator_code[8],\n                              sgTypecode = \"2\",\n                              sdName = \"서울특별시\",\n                              sggName = \"종로구\",\n                              pageNo = 1,\n                              numOfRows = 10,\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getWinnerInfoInqire$item\n\nresponse_tbl\n#&gt;   num     sgId sgTypecode    huboid sggName     sdName wiwName giho gihoSangse\n#&gt; 1   1 20220309          2 100138535  종로구 서울특별시  종로구    2           \n#&gt;     jdName   name hanjaName gender birthday age                            addr\n#&gt; 1 국민의힘 최재형    崔在亨     남 19560902  65 서울특별시 양천구 목동중앙로7길\n#&gt;   jobId    job eduId                    edu      career1          career2 dugsu\n#&gt; 1    75 정당인    68 서울대학교 법학과 졸업 (전)감사원장 (전)사법연수원장 49637\n#&gt;   dugyul\n#&gt; 1  52.09"
  },
  {
    "objectID": "legislators.html#선거구",
    "href": "legislators.html#선거구",
    "title": "지도제작 대회",
    "section": "",
    "text": "선거종류코드(sgTypecode): (0) 대표선거명, (1)대통령,(2)국회의원,(3)시도지사,(4)구시군장,(5)시도의원,(6)구시군의회의원,(7)국회의원비례대표,(8)광역의원비례대표,(9)기초의원비례대표,(10)교육의원,(11)교육감\n\n\n코드\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSggCodeList\",\n                query = list(sgId = legislator_code[7],\n                              sgTypecode = \"2\",\n                              numOfRows =  \"1000\",\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getCommonSggCodeList$item\n\nresponse_tbl\n#&gt;     num     sgId sgTypecode                    sggName         sdName\n#&gt; 1     1 20200415          2                     종로구     서울특별시\n#&gt; 2     2 20200415          2               중구성동구갑     서울특별시\n#&gt; 3     3 20200415          2               중구성동구을     서울특별시\n#&gt; 4     4 20200415          2                     용산구     서울특별시\n#&gt; 5     5 20200415          2                   광진구갑     서울특별시\n#&gt; 6     6 20200415          2                   광진구을     서울특별시\n#&gt; 7     7 20200415          2                 동대문구갑     서울특별시\n#&gt; 8     8 20200415          2                 동대문구을     서울특별시\n#&gt; 9     9 20200415          2                   중랑구갑     서울특별시\n#&gt; 10   10 20200415          2                   중랑구을     서울특별시\n#&gt; 11   11 20200415          2                   성북구갑     서울특별시\n#&gt; 12   12 20200415          2                   성북구을     서울특별시\n#&gt; 13   13 20200415          2                   강북구갑     서울특별시\n#&gt; 14   14 20200415          2                   강북구을     서울특별시\n#&gt; 15   15 20200415          2                   도봉구갑     서울특별시\n#&gt; 16   16 20200415          2                   도봉구을     서울특별시\n#&gt; 17   17 20200415          2                   노원구갑     서울특별시\n#&gt; 18   18 20200415          2                   노원구을     서울특별시\n#&gt; 19   19 20200415          2                   노원구병     서울특별시\n#&gt; 20   20 20200415          2                   은평구갑     서울특별시\n#&gt; 21   21 20200415          2                   은평구을     서울특별시\n#&gt; 22   22 20200415          2                 서대문구갑     서울특별시\n#&gt; 23   23 20200415          2                 서대문구을     서울특별시\n#&gt; 24   24 20200415          2                   마포구갑     서울특별시\n#&gt; 25   25 20200415          2                   마포구을     서울특별시\n#&gt; 26   26 20200415          2                   양천구갑     서울특별시\n#&gt; 27   27 20200415          2                   양천구을     서울특별시\n#&gt; 28   28 20200415          2                   강서구갑     서울특별시\n#&gt; 29   29 20200415          2                   강서구을     서울특별시\n#&gt; 30   30 20200415          2                   강서구병     서울특별시\n#&gt; 31   31 20200415          2                   구로구갑     서울특별시\n#&gt; 32   32 20200415          2                   구로구을     서울특별시\n#&gt; 33   33 20200415          2                     금천구     서울특별시\n#&gt; 34   34 20200415          2                 영등포구갑     서울특별시\n#&gt; 35   35 20200415          2                 영등포구을     서울특별시\n#&gt; 36   36 20200415          2                   동작구갑     서울특별시\n#&gt; 37   37 20200415          2                   동작구을     서울특별시\n#&gt; 38   38 20200415          2                   관악구갑     서울특별시\n#&gt; 39   39 20200415          2                   관악구을     서울특별시\n#&gt; 40   40 20200415          2                   서초구갑     서울특별시\n#&gt; 41   41 20200415          2                   서초구을     서울특별시\n#&gt; 42   42 20200415          2                   강남구갑     서울특별시\n#&gt; 43   43 20200415          2                   강남구을     서울특별시\n#&gt; 44   44 20200415          2                   강남구병     서울특별시\n#&gt; 45   45 20200415          2                   송파구갑     서울특별시\n#&gt; 46   46 20200415          2                   송파구을     서울특별시\n#&gt; 47   47 20200415          2                   송파구병     서울특별시\n#&gt; 48   48 20200415          2                   강동구갑     서울특별시\n#&gt; 49   49 20200415          2                   강동구을     서울특별시\n#&gt; 50   50 20200415          2                 중구영도구     부산광역시\n#&gt; 51   51 20200415          2                   서구동구     부산광역시\n#&gt; 52   52 20200415          2                 부산진구갑     부산광역시\n#&gt; 53   53 20200415          2                 부산진구을     부산광역시\n#&gt; 54   54 20200415          2                     동래구     부산광역시\n#&gt; 55   55 20200415          2                     남구갑     부산광역시\n#&gt; 56   56 20200415          2                     남구을     부산광역시\n#&gt; 57   57 20200415          2               북구강서구갑     부산광역시\n#&gt; 58   58 20200415          2               북구강서구을     부산광역시\n#&gt; 59   59 20200415          2                 해운대구갑     부산광역시\n#&gt; 60   60 20200415          2                 해운대구을     부산광역시\n#&gt; 61   61 20200415          2                   사하구갑     부산광역시\n#&gt; 62   62 20200415          2                   사하구을     부산광역시\n#&gt; 63   63 20200415          2                     금정구     부산광역시\n#&gt; 64   64 20200415          2                     연제구     부산광역시\n#&gt; 65   65 20200415          2                     수영구     부산광역시\n#&gt; 66   66 20200415          2                     사상구     부산광역시\n#&gt; 67   67 20200415          2                     기장군     부산광역시\n#&gt; 68   68 20200415          2                   중구남구     대구광역시\n#&gt; 69   69 20200415          2                     동구갑     대구광역시\n#&gt; 70   70 20200415          2                     동구을     대구광역시\n#&gt; 71   71 20200415          2                       서구     대구광역시\n#&gt; 72   72 20200415          2                     북구갑     대구광역시\n#&gt; 73   73 20200415          2                     북구을     대구광역시\n#&gt; 74   74 20200415          2                   수성구갑     대구광역시\n#&gt; 75   75 20200415          2                   수성구을     대구광역시\n#&gt; 76   76 20200415          2                   달서구갑     대구광역시\n#&gt; 77   77 20200415          2                   달서구을     대구광역시\n#&gt; 78   78 20200415          2                   달서구병     대구광역시\n#&gt; 79   79 20200415          2                     달성군     대구광역시\n#&gt; 80   80 20200415          2           중구강화군옹진군     인천광역시\n#&gt; 81   81 20200415          2             동구미추홀구갑     인천광역시\n#&gt; 82   82 20200415          2             동구미추홀구을     인천광역시\n#&gt; 83   83 20200415          2                   연수구갑     인천광역시\n#&gt; 84   84 20200415          2                   연수구을     인천광역시\n#&gt; 85   85 20200415          2                   남동구갑     인천광역시\n#&gt; 86   86 20200415          2                   남동구을     인천광역시\n#&gt; 87   87 20200415          2                   부평구갑     인천광역시\n#&gt; 88   88 20200415          2                   부평구을     인천광역시\n#&gt; 89   89 20200415          2                   계양구갑     인천광역시\n#&gt; 90   90 20200415          2                   계양구을     인천광역시\n#&gt; 91   91 20200415          2                     서구갑     인천광역시\n#&gt; 92   92 20200415          2                     서구을     인천광역시\n#&gt; 93   93 20200415          2                 동구남구갑     광주광역시\n#&gt; 94   94 20200415          2                 동구남구을     광주광역시\n#&gt; 95   95 20200415          2                     서구갑     광주광역시\n#&gt; 96   96 20200415          2                     서구을     광주광역시\n#&gt; 97   97 20200415          2                     북구갑     광주광역시\n#&gt; 98   98 20200415          2                     북구을     광주광역시\n#&gt; 99   99 20200415          2                   광산구갑     광주광역시\n#&gt; 100 100 20200415          2                   광산구을     광주광역시\n#&gt; 101 101 20200415          2                       동구     대전광역시\n#&gt; 102 102 20200415          2                       중구     대전광역시\n#&gt; 103 103 20200415          2                     서구갑     대전광역시\n#&gt; 104 104 20200415          2                     서구을     대전광역시\n#&gt; 105 105 20200415          2                   유성구갑     대전광역시\n#&gt; 106 106 20200415          2                   유성구을     대전광역시\n#&gt; 107 107 20200415          2                     대덕구     대전광역시\n#&gt; 108 108 20200415          2                       중구     울산광역시\n#&gt; 109 109 20200415          2                     남구갑     울산광역시\n#&gt; 110 110 20200415          2                     남구을     울산광역시\n#&gt; 111 111 20200415          2                       동구     울산광역시\n#&gt; 112 112 20200415          2                       북구     울산광역시\n#&gt; 113 113 20200415          2                     울주군     울산광역시\n#&gt; 114 114 20200415          2           세종특별자치시갑 세종특별자치시\n#&gt; 115 115 20200415          2           세종특별자치시을 세종특별자치시\n#&gt; 116 116 20200415          2                   수원시갑         경기도\n#&gt; 117 117 20200415          2                   수원시을         경기도\n#&gt; 118 118 20200415          2                   수원시병         경기도\n#&gt; 119 119 20200415          2                   수원시정         경기도\n#&gt; 120 120 20200415          2                   수원시무         경기도\n#&gt; 121 121 20200415          2               성남시수정구         경기도\n#&gt; 122 122 20200415          2               성남시중원구         경기도\n#&gt; 123 123 20200415          2             성남시분당구갑         경기도\n#&gt; 124 124 20200415          2             성남시분당구을         경기도\n#&gt; 125 125 20200415          2                 의정부시갑         경기도\n#&gt; 126 126 20200415          2                 의정부시을         경기도\n#&gt; 127 127 20200415          2               안양시만안구         경기도\n#&gt; 128 128 20200415          2             안양시동안구갑         경기도\n#&gt; 129 129 20200415          2             안양시동안구을         경기도\n#&gt; 130 130 20200415          2                   부천시갑         경기도\n#&gt; 131 131 20200415          2                   부천시을         경기도\n#&gt; 132 132 20200415          2                   부천시병         경기도\n#&gt; 133 133 20200415          2                   부천시정         경기도\n#&gt; 134 134 20200415          2                   광명시갑         경기도\n#&gt; 135 135 20200415          2                   광명시을         경기도\n#&gt; 136 136 20200415          2                   평택시갑         경기도\n#&gt; 137 137 20200415          2                   평택시을         경기도\n#&gt; 138 138 20200415          2             동두천시연천군         경기도\n#&gt; 139 139 20200415          2             안산시상록구갑         경기도\n#&gt; 140 140 20200415          2             안산시상록구을         경기도\n#&gt; 141 141 20200415          2             안산시단원구갑         경기도\n#&gt; 142 142 20200415          2             안산시단원구을         경기도\n#&gt; 143 143 20200415          2                   고양시갑         경기도\n#&gt; 144 144 20200415          2                   고양시을         경기도\n#&gt; 145 145 20200415          2                   고양시병         경기도\n#&gt; 146 146 20200415          2                   고양시정         경기도\n#&gt; 147 147 20200415          2               의왕시과천시         경기도\n#&gt; 148 148 20200415          2                     구리시         경기도\n#&gt; 149 149 20200415          2                 남양주시갑         경기도\n#&gt; 150 150 20200415          2                 남양주시을         경기도\n#&gt; 151 151 20200415          2                 남양주시병         경기도\n#&gt; 152 152 20200415          2                     오산시         경기도\n#&gt; 153 153 20200415          2                   시흥시갑         경기도\n#&gt; 154 154 20200415          2                   시흥시을         경기도\n#&gt; 155 155 20200415          2                     군포시         경기도\n#&gt; 156 156 20200415          2                     하남시         경기도\n#&gt; 157 157 20200415          2                   용인시갑         경기도\n#&gt; 158 158 20200415          2                   용인시을         경기도\n#&gt; 159 159 20200415          2                   용인시병         경기도\n#&gt; 160 160 20200415          2                   용인시정         경기도\n#&gt; 161 161 20200415          2                   파주시갑         경기도\n#&gt; 162 162 20200415          2                   파주시을         경기도\n#&gt; 163 163 20200415          2                     이천시         경기도\n#&gt; 164 164 20200415          2                     안성시         경기도\n#&gt; 165 165 20200415          2                   김포시갑         경기도\n#&gt; 166 166 20200415          2                   김포시을         경기도\n#&gt; 167 167 20200415          2                   화성시갑         경기도\n#&gt; 168 168 20200415          2                   화성시을         경기도\n#&gt; 169 169 20200415          2                   화성시병         경기도\n#&gt; 170 170 20200415          2                   광주시갑         경기도\n#&gt; 171 171 20200415          2                   광주시을         경기도\n#&gt; 172 172 20200415          2                     양주시         경기도\n#&gt; 173 173 20200415          2               포천시가평군         경기도\n#&gt; 174 174 20200415          2               여주시양평군         경기도\n#&gt; 175 175 20200415          2 춘천시철원군화천군양구군갑         강원도\n#&gt; 176 176 20200415          2 춘천시철원군화천군양구군을         강원도\n#&gt; 177 177 20200415          2                   원주시갑         강원도\n#&gt; 178 178 20200415          2                   원주시을         강원도\n#&gt; 179 179 20200415          2                     강릉시         강원도\n#&gt; 180 180 20200415          2   동해시태백시삼척시정선군         강원도\n#&gt; 181 181 20200415          2   속초시인제군고성군양양군         강원도\n#&gt; 182 182 20200415          2   홍천군횡성군영월군평창군         강원도\n#&gt; 183 183 20200415          2               청주시상당구       충청북도\n#&gt; 184 184 20200415          2               청주시서원구       충청북도\n#&gt; 185 185 20200415          2               청주시흥덕구       충청북도\n#&gt; 186 186 20200415          2               청주시청원구       충청북도\n#&gt; 187 187 20200415          2                     충주시       충청북도\n#&gt; 188 188 20200415          2               제천시단양군       충청북도\n#&gt; 189 189 20200415          2   보은군옥천군영동군괴산군       충청북도\n#&gt; 190 190 20200415          2         증평군진천군음성군       충청북도\n#&gt; 191 191 20200415          2                   천안시갑       충청남도\n#&gt; 192 192 20200415          2                   천안시을       충청남도\n#&gt; 193 193 20200415          2                   천안시병       충청남도\n#&gt; 194 194 20200415          2         공주시부여군청양군       충청남도\n#&gt; 195 195 20200415          2               보령시서천군       충청남도\n#&gt; 196 196 20200415          2                   아산시갑       충청남도\n#&gt; 197 197 20200415          2                   아산시을       충청남도\n#&gt; 198 198 20200415          2               서산시태안군       충청남도\n#&gt; 199 199 20200415          2         논산시계룡시금산군       충청남도\n#&gt; 200 200 20200415          2                     당진시       충청남도\n#&gt; 201 201 20200415          2               홍성군예산군       충청남도\n#&gt; 202 202 20200415          2                   전주시갑       전라북도\n#&gt; 203 203 20200415          2                   전주시을       전라북도\n#&gt; 204 204 20200415          2                   전주시병       전라북도\n#&gt; 205 205 20200415          2                     군산시       전라북도\n#&gt; 206 206 20200415          2                   익산시갑       전라북도\n#&gt; 207 207 20200415          2                   익산시을       전라북도\n#&gt; 208 208 20200415          2               정읍시고창군       전라북도\n#&gt; 209 209 20200415          2         남원시임실군순창군       전라북도\n#&gt; 210 210 20200415          2               김제시부안군       전라북도\n#&gt; 211 211 20200415          2   완주군진안군무주군장수군       전라북도\n#&gt; 212 212 20200415          2                     목포시       전라남도\n#&gt; 213 213 20200415          2                   여수시갑       전라남도\n#&gt; 214 214 20200415          2                   여수시을       전라남도\n#&gt; 215 215 20200415          2 순천시광양시곡성군구례군갑       전라남도\n#&gt; 216 216 20200415          2 순천시광양시곡성군구례군을       전라남도\n#&gt; 217 217 20200415          2               나주시화순군       전라남도\n#&gt; 218 218 20200415          2   담양군함평군영광군장성군       전라남도\n#&gt; 219 219 20200415          2   고흥군보성군장흥군강진군       전라남도\n#&gt; 220 220 20200415          2         해남군완도군진도군       전라남도\n#&gt; 221 221 20200415          2         영암군무안군신안군       전라남도\n#&gt; 222 222 20200415          2                 포항시북구       경상북도\n#&gt; 223 223 20200415          2           포항시남구울릉군       경상북도\n#&gt; 224 224 20200415          2                     경주시       경상북도\n#&gt; 225 225 20200415          2                     김천시       경상북도\n#&gt; 226 226 20200415          2               안동시예천군       경상북도\n#&gt; 227 227 20200415          2                   구미시갑       경상북도\n#&gt; 228 228 20200415          2                   구미시을       경상북도\n#&gt; 229 229 20200415          2   영주시영양군봉화군울진군       경상북도\n#&gt; 230 230 20200415          2               영천시청도군       경상북도\n#&gt; 231 231 20200415          2               상주시문경시       경상북도\n#&gt; 232 232 20200415          2                     경산시       경상북도\n#&gt; 233 233 20200415          2   군위군의성군청송군영덕군       경상북도\n#&gt; 234 234 20200415          2         고령군성주군칠곡군       경상북도\n#&gt; 235 235 20200415          2               창원시의창구       경상남도\n#&gt; 236 236 20200415          2               창원시성산구       경상남도\n#&gt; 237 237 20200415          2           창원시마산합포구       경상남도\n#&gt; 238 238 20200415          2           창원시마산회원구       경상남도\n#&gt; 239 239 20200415          2               창원시진해구       경상남도\n#&gt; 240 240 20200415          2                   진주시갑       경상남도\n#&gt; 241 241 20200415          2                   진주시을       경상남도\n#&gt; 242 242 20200415          2               통영시고성군       경상남도\n#&gt; 243 243 20200415          2         사천시남해군하동군       경상남도\n#&gt; 244 244 20200415          2                   김해시갑       경상남도\n#&gt; 245 245 20200415          2                   김해시을       경상남도\n#&gt; 246 246 20200415          2   밀양시의령군함안군창녕군       경상남도\n#&gt; 247 247 20200415          2                     거제시       경상남도\n#&gt; 248 248 20200415          2                   양산시갑       경상남도\n#&gt; 249 249 20200415          2                   양산시을       경상남도\n#&gt; 250 250 20200415          2   산청군함양군거창군합천군       경상남도\n#&gt; 251 251 20200415          2                   제주시갑 제주특별자치도\n#&gt; 252 252 20200415          2                   제주시을 제주특별자치도\n#&gt; 253 253 20200415          2                   서귀포시 제주특별자치도\n#&gt;              wiwName sggJungsu sOrder\n#&gt; 1             종로구         1      1\n#&gt; 2             성동구         1      2\n#&gt; 3               중구         1      3\n#&gt; 4             용산구         1      4\n#&gt; 5             광진구         1      5\n#&gt; 6             광진구         1      6\n#&gt; 7           동대문구         1      7\n#&gt; 8           동대문구         1      8\n#&gt; 9             중랑구         1      9\n#&gt; 10            중랑구         1     10\n#&gt; 11            성북구         1     11\n#&gt; 12            성북구         1     12\n#&gt; 13            강북구         1     13\n#&gt; 14            강북구         1     14\n#&gt; 15            도봉구         1     15\n#&gt; 16            도봉구         1     16\n#&gt; 17            노원구         1     17\n#&gt; 18            노원구         1     18\n#&gt; 19            노원구         1     19\n#&gt; 20            은평구         1     20\n#&gt; 21            은평구         1     21\n#&gt; 22          서대문구         1     22\n#&gt; 23          서대문구         1     23\n#&gt; 24            마포구         1     24\n#&gt; 25            마포구         1     25\n#&gt; 26            양천구         1     26\n#&gt; 27            양천구         1     27\n#&gt; 28            강서구         1     28\n#&gt; 29            강서구         1     29\n#&gt; 30            강서구         1     30\n#&gt; 31            구로구         1     31\n#&gt; 32            구로구         1     32\n#&gt; 33            금천구         1     33\n#&gt; 34          영등포구         1     34\n#&gt; 35          영등포구         1     35\n#&gt; 36            동작구         1     36\n#&gt; 37            동작구         1     37\n#&gt; 38            관악구         1     38\n#&gt; 39            관악구         1     39\n#&gt; 40            서초구         1     40\n#&gt; 41            서초구         1     41\n#&gt; 42            강남구         1     42\n#&gt; 43            강남구         1     43\n#&gt; 44            강남구         1     44\n#&gt; 45            송파구         1     45\n#&gt; 46            송파구         1     46\n#&gt; 47            송파구         1     47\n#&gt; 48            강동구         1     48\n#&gt; 49            강동구         1     49\n#&gt; 50            영도구         1     50\n#&gt; 51              서구         1     51\n#&gt; 52          부산진구         1     52\n#&gt; 53          부산진구         1     53\n#&gt; 54            동래구         1     54\n#&gt; 55              남구         1     55\n#&gt; 56              남구         1     56\n#&gt; 57              북구         1     57\n#&gt; 58            강서구         1     58\n#&gt; 59          해운대구         1     59\n#&gt; 60          해운대구         1     60\n#&gt; 61            사하구         1     61\n#&gt; 62            사하구         1     62\n#&gt; 63            금정구         1     63\n#&gt; 64            연제구         1     64\n#&gt; 65            수영구         1     65\n#&gt; 66            사상구         1     66\n#&gt; 67            기장군         1     67\n#&gt; 68              남구         1     68\n#&gt; 69              동구         1     69\n#&gt; 70              동구         1     70\n#&gt; 71              서구         1     71\n#&gt; 72              북구         1     72\n#&gt; 73              북구         1     73\n#&gt; 74            수성구         1     74\n#&gt; 75            수성구         1     75\n#&gt; 76            달서구         1     76\n#&gt; 77            달서구         1     77\n#&gt; 78            달서구         1     78\n#&gt; 79            달성군         1     79\n#&gt; 80              중구         1     80\n#&gt; 81          미추홀구         1     81\n#&gt; 82          미추홀구         1     82\n#&gt; 83            연수구         1     83\n#&gt; 84            연수구         1     84\n#&gt; 85            남동구         1     85\n#&gt; 86            남동구         1     86\n#&gt; 87            부평구         1     87\n#&gt; 88            부평구         1     88\n#&gt; 89            계양구         1     89\n#&gt; 90            계양구         1     90\n#&gt; 91              서구         1     91\n#&gt; 92              서구         1     92\n#&gt; 93              남구         1     93\n#&gt; 94              동구         1     94\n#&gt; 95              서구         1     95\n#&gt; 96              서구         1     96\n#&gt; 97              북구         1     97\n#&gt; 98              북구         1     98\n#&gt; 99            광산구         1     99\n#&gt; 100           광산구         1    100\n#&gt; 101             동구         1    101\n#&gt; 102             중구         1    102\n#&gt; 103             서구         1    103\n#&gt; 104             서구         1    104\n#&gt; 105           유성구         1    105\n#&gt; 106           유성구         1    106\n#&gt; 107           대덕구         1    107\n#&gt; 108             중구         1    108\n#&gt; 109             남구         1    109\n#&gt; 110             남구         1    110\n#&gt; 111             동구         1    111\n#&gt; 112             북구         1    112\n#&gt; 113           울주군         1    113\n#&gt; 114   세종특별자치시         1    114\n#&gt; 115   세종특별자치시         1    115\n#&gt; 116     수원시장안구         1    116\n#&gt; 117     수원시권선구         1    117\n#&gt; 118     수원시팔달구         1    118\n#&gt; 119     수원시영통구         1    119\n#&gt; 120     수원시권선구         1    120\n#&gt; 121     성남시수정구         1    121\n#&gt; 122     성남시중원구         1    122\n#&gt; 123     성남시분당구         1    123\n#&gt; 124     성남시분당구         1    124\n#&gt; 125         의정부시         1    125\n#&gt; 126         의정부시         1    126\n#&gt; 127     안양시만안구         1    127\n#&gt; 128     안양시동안구         1    128\n#&gt; 129     안양시동안구         1    129\n#&gt; 130           부천시         1    130\n#&gt; 131           부천시         1    131\n#&gt; 132           부천시         1    132\n#&gt; 133           부천시         1    133\n#&gt; 134           광명시         1    134\n#&gt; 135           광명시         1    135\n#&gt; 136           평택시         1    136\n#&gt; 137           평택시         1    137\n#&gt; 138         동두천시         1    138\n#&gt; 139     안산시상록구         1    139\n#&gt; 140     안산시상록구         1    140\n#&gt; 141     안산시단원구         1    141\n#&gt; 142     안산시단원구         1    142\n#&gt; 143     고양시덕양구         1    143\n#&gt; 144     고양시덕양구         1    144\n#&gt; 145   고양시일산동구         1    145\n#&gt; 146   고양시일산서구         1    146\n#&gt; 147           의왕시         1    147\n#&gt; 148           구리시         1    148\n#&gt; 149         남양주시         1    149\n#&gt; 150         남양주시         1    150\n#&gt; 151         남양주시         1    151\n#&gt; 152           오산시         1    152\n#&gt; 153           시흥시         1    153\n#&gt; 154           시흥시         1    154\n#&gt; 155           군포시         1    155\n#&gt; 156           하남시         1    156\n#&gt; 157     용인시처인구         1    157\n#&gt; 158     용인시기흥구         1    158\n#&gt; 159     용인시수지구         1    159\n#&gt; 160     용인시기흥구         1    160\n#&gt; 161           파주시         1    161\n#&gt; 162           파주시         1    162\n#&gt; 163           이천시         1    163\n#&gt; 164           안성시         1    164\n#&gt; 165           김포시         1    165\n#&gt; 166           김포시         1    166\n#&gt; 167           화성시         1    167\n#&gt; 168           화성시         1    168\n#&gt; 169           화성시         1    169\n#&gt; 170           광주시         1    170\n#&gt; 171           광주시         1    171\n#&gt; 172           양주시         1    172\n#&gt; 173           포천시         1    173\n#&gt; 174           여주시         1    174\n#&gt; 175           춘천시         1    175\n#&gt; 176           춘천시         1    176\n#&gt; 177           원주시         1    177\n#&gt; 178           원주시         1    178\n#&gt; 179           강릉시         1    179\n#&gt; 180           동해시         1    180\n#&gt; 181           속초시         1    181\n#&gt; 182           영월군         1    182\n#&gt; 183     청주시상당구         1    183\n#&gt; 184     청주시서원구         1    184\n#&gt; 185     청주시흥덕구         1    185\n#&gt; 186     청주시청원구         1    186\n#&gt; 187           충주시         1    187\n#&gt; 188           제천시         1    188\n#&gt; 189           영동군         1    189\n#&gt; 190           음성군         1    190\n#&gt; 191     천안시동남구         1    191\n#&gt; 192     천안시서북구         1    192\n#&gt; 193     천안시동남구         1    193\n#&gt; 194           공주시         1    194\n#&gt; 195           보령시         1    195\n#&gt; 196           아산시         1    196\n#&gt; 197           아산시         1    197\n#&gt; 198           서산시         1    198\n#&gt; 199           논산시         1    199\n#&gt; 200           당진시         1    200\n#&gt; 201           홍성군         1    201\n#&gt; 202     전주시완산구         1    202\n#&gt; 203     전주시완산구         1    203\n#&gt; 204     전주시덕진구         1    204\n#&gt; 205           군산시         1    205\n#&gt; 206           익산시         1    206\n#&gt; 207           익산시         1    207\n#&gt; 208           정읍시         1    208\n#&gt; 209           남원시         1    209\n#&gt; 210           김제시         1    210\n#&gt; 211           완주군         1    211\n#&gt; 212           목포시         1    212\n#&gt; 213           여수시         1    213\n#&gt; 214           여수시         1    214\n#&gt; 215           순천시         1    215\n#&gt; 216           광양시         1    216\n#&gt; 217           나주시         1    217\n#&gt; 218           영광군         1    218\n#&gt; 219           장흥군         1    219\n#&gt; 220           해남군         1    220\n#&gt; 221           무안군         1    221\n#&gt; 222       포항시북구         1    222\n#&gt; 223       포항시남구         1    223\n#&gt; 224           경주시         1    224\n#&gt; 225           김천시         1    225\n#&gt; 226           안동시         1    226\n#&gt; 227           구미시         1    227\n#&gt; 228           구미시         1    228\n#&gt; 229           영주시         1    229\n#&gt; 230           영천시         1    230\n#&gt; 231           상주시         1    231\n#&gt; 232           경산시         1    232\n#&gt; 233           의성군         1    233\n#&gt; 234           칠곡군         1    234\n#&gt; 235     창원시의창구         1    235\n#&gt; 236     창원시성산구         1    236\n#&gt; 237 창원시마산합포구         1    237\n#&gt; 238 창원시마산회원구         1    238\n#&gt; 239     창원시진해구         1    239\n#&gt; 240           진주시         1    240\n#&gt; 241           진주시         1    241\n#&gt; 242           통영시         1    242\n#&gt; 243           사천시         1    243\n#&gt; 244           김해시         1    244\n#&gt; 245           김해시         1    245\n#&gt; 246           밀양시         1    246\n#&gt; 247           거제시         1    247\n#&gt; 248           양산시         1    248\n#&gt; 249           양산시         1    249\n#&gt; 250           거창군         1    250\n#&gt; 251           제주시         1    251\n#&gt; 252           제주시         1    252\n#&gt; 253         서귀포시         1    253\n\n\n\n\n코드\nlegislator_raw &lt;- code_election |&gt; \n  filter(str_detect(선거명, \"국회의원\"),\n         선거구분 != \"0\") \n\nget_precinct &lt;- function(legislator_cd = \"20200415\", \n                         sgTypecode = \"2\") {\n  # httr의 GET 함수로 데이터를 추출한다\n  response &lt;- GET(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSggCodeList\",\n                  query = list(sgId = legislator_cd,\n                                sgTypecode = sgTypecode,\n                                numOfRows =  \"1000\",\n                                resultType = \"json\",\n                                serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n  \n  # 응답 상태와 내용을 확인한다\n  print(status_code(response))\n  \n  response_list &lt;- content(response, \"text\") |&gt; \n    fromJSON()\n  \n  response_tbl &lt;- response_list$getCommonSggCodeList$item\n  \n  return(response_tbl |&gt; as_tibble())\n}\n\nget_precinct(\"20220309\")\n#&gt; [1] 200\n#&gt; # A tibble: 5 × 8\n#&gt;   num   sgId     sgTypecode sggName      sdName     wiwName     sggJungsu sOrder\n#&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt; \n#&gt; 1 1     20220309 2          종로구       서울특별시 종로구      1         1     \n#&gt; 2 2     20220309 2          서초구갑     서울특별시 서초구      1         40    \n#&gt; 3 3     20220309 2          중구남구     대구광역시 남구        1         68    \n#&gt; 4 4     20220309 2          안성시       경기도     안성시      1         164   \n#&gt; 5 5     20220309 2          청주시상당구 충청북도   청주시상당… 1         183\n\n\n\n\n코드\n# 재보궐 제외\n# legislator_tbl &lt;- legislator_raw |&gt; \n#   filter(선거코드 %in% c(\"20040415\", \"20080409\", \"20120411\", \n#                       \"20160413\", \"20200415\")) \n\nlegislator_tbl &lt;- legislator_raw |&gt; \n  mutate(data = map2(선거코드, 선거구분, get_precinct))\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n\nprecinct_tbl &lt;- legislator_tbl |&gt; \n  unnest(data)\n\nprecinct_tbl\n#&gt; # A tibble: 1,264 × 11\n#&gt;    선거코드 선거명       선거구분 num   sgId   sgTypecode sggName sdName wiwName\n#&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  \n#&gt;  1 20040415 국회의원선거 2        1     20040… 2          종로구  서울…  종로구 \n#&gt;  2 20040415 국회의원선거 2        2     20040… 2          중구    서울…  중구(… \n#&gt;  3 20040415 국회의원선거 2        3     20040… 2          용산구  서울…  용산구 \n#&gt;  4 20040415 국회의원선거 2        4     20040… 2          성동구… 서울…  성동구 \n#&gt;  5 20040415 국회의원선거 2        5     20040… 2          성동구… 서울…  성동구 \n#&gt;  6 20040415 국회의원선거 2        6     20040… 2          광진구… 서울…  광진구 \n#&gt;  7 20040415 국회의원선거 2        7     20040… 2          광진구… 서울…  광진구 \n#&gt;  8 20040415 국회의원선거 2        8     20040… 2          동대문… 서울…  동대문…\n#&gt;  9 20040415 국회의원선거 2        9     20040… 2          동대문… 서울…  동대문…\n#&gt; 10 20040415 국회의원선거 2        10    20040… 2          중랑구… 서울…  중랑구 \n#&gt; # ℹ 1,254 more rows\n#&gt; # ℹ 2 more variables: sggJungsu &lt;chr&gt;, sOrder &lt;chr&gt;"
  },
  {
    "objectID": "legislators.html#국회의원-당선인",
    "href": "legislators.html#국회의원-당선인",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\nget_elected &lt;- function(sgId = \"20200415\", sgTypecode = \"2\",\n                        sdName = \"서울특별시\",sggName = \"종로구\") {\n  response &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n              query = list(sgId = sgId,\n                           sgTypecode = sgTypecode,\n                           sdName = sdName,\n                           sggName = sggName,\n                           numOfRows = 100,\n                           resultType = \"json\",\n                           serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n  # 응답 상태와 내용을 확인한다\n  cat(status_code(response), \": \", sgId, sgTypecode, sdName, sggName, \"\\n\")\n  \n  response_list &lt;- content(response, \"text\") |&gt; \n    fromJSON()\n  \n  response_tbl &lt;- response_list$getWinnerInfoInqire$item\n  \n  Sys.sleep(runif(1, 0,0.5))\n  \n  return(response_tbl |&gt; as_tibble())\n}\n\nget_elected()\n#&gt; 200 :  20200415 2 서울특별시 종로구\n#&gt; # A tibble: 1 × 24\n#&gt;   num   sgId    sgTypecode huboid sggName sdName wiwName giho  gihoSangse jdName\n#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt; \n#&gt; 1 1     202004… 2          10013… 종로구  서울…  종로구  1     \"\"         더불… \n#&gt; # ℹ 14 more variables: name &lt;chr&gt;, hanjaName &lt;chr&gt;, gender &lt;chr&gt;,\n#&gt; #   birthday &lt;chr&gt;, age &lt;chr&gt;, addr &lt;chr&gt;, jobId &lt;chr&gt;, job &lt;chr&gt;, eduId &lt;chr&gt;,\n#&gt; #   edu &lt;chr&gt;, career1 &lt;chr&gt;, career2 &lt;chr&gt;, dugsu &lt;chr&gt;, dugyul &lt;chr&gt;\n\n\n\n\n코드# sido_code &lt;- tribble(\n# ~\"시도코드\", ~\"시도명\",\n# \"1100\", \"서울특별시\",\n# \"2600\", \"부산광역시\",\n# \"2700\", \"대구광역시\",\n# \"2800\", \"인천광역시\",\n# \"2900\", \"광주광역시\",\n# \"3000\", \"대전광역시\",\n# \"3100\", \"울산광역시\",\n# \"5100\", \"세종특별자치시\",\n# \"4100\", \"경기도\",\n# \"4200\", \"강원도\",\n# \"4300\", \"충청북도\",\n# \"4400\", \"충청남도\",\n# \"4500\", \"전라북도\",\n# \"4600\", \"전라남도\",\n# \"4700\", \"경상북도\",\n# \"4800\", \"경상남도\",\n# \"4900\", \"제주특별자치도\")\n\nelected_raw &lt;- legislator_tbl |&gt; \n  filter(선거코드 == \"20200415\",\n         선거구분 == \"2\") |&gt; \n  unnest(data)  |&gt; \n  select(sgId, sgTypecode, sdName, sggName, wiwName) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected))\n\nelected_tbl &lt;- elected_raw |&gt; \n  select(data) |&gt; \n  unnest(data)\n\n\n\n\n코드get_elected_safely &lt;- safely(get_elected, otherwise = \"error\")\n\ntotal_elected_raw &lt;- legislator_tbl |&gt; \n  unnest(data)  |&gt; \n  select(sgId, sgTypecode, sdName, sggName, wiwName) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected_safely))\n\ntotal_elected_tbl &lt;- total_elected_raw |&gt; \n  mutate(result = map(data, pluck, \"result\")) |&gt;\n  select(sgId, sgTypecode, sdName, sggName, wiwName, result)\n\ntotal_elected_tbl |&gt; \n  write_rds(\"data/total_elected_tbl.rds\")\n\n\n\n\n코드total_elected_tbl &lt;- \n  read_rds(\"data/total_elected_tbl.rds\")\n\ntotal_elected_true &lt;- total_elected_tbl |&gt; \n  mutate(tibble = map_lgl(result, is_tibble)) |&gt; \n  filter(tibble) |&gt; \n  select(-tibble)\n\ntotal_elected_false &lt;- total_elected_raw |&gt; \n  filter(sgId == \"20120411\",\n         sdName == \"인천광역시\",\n         sggName %in% c(\"남동구을\", \"부평구갑\", \"서구강화군갑\")) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected_safely)) |&gt; \n  mutate(result = map(data, pluck, \"result\")) |&gt;\n  select(sgId, sgTypecode, sdName, sggName, wiwName, result)\n\n\ntotal_elected_all &lt;- bind_rows(total_elected_true, total_elected_false)\n\ntotal_elected_all |&gt; \n  write_rds(\"data/total_elected_all.rds\")"
  },
  {
    "objectID": "legislators.html#국회의원-정수",
    "href": "legislators.html#국회의원-정수",
    "title": "지도제작 대회",
    "section": "\n2.1 국회의원 정수",
    "text": "2.1 국회의원 정수\n\n코드library(tidyverse)\nlibrary(gt)\n\ncode_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\"),\n         선거구분 == \"0\") |&gt; \n  add_column(의원수 = c(299, 299, 300, 300, 300)) |&gt; \n  gt() |&gt; \n  gtExtras::gt_theme_538() |&gt; \n  cols_align(\"center\")\n\n\n\n\n\n선거코드\n      선거명\n      선거구분\n      의원수\n    \n\n\n20040415\n제17대 국회의원선거\n0\n299\n\n\n20080409\n제18대 국회의원선거\n0\n299\n\n\n20120411\n제19대 국회의원선거\n0\n300\n\n\n20160413\n제20대 국회의원선거\n0\n300\n\n\n20200415\n제21대 국회의원선거\n0\n300"
  },
  {
    "objectID": "legislators.html#제21대-총선",
    "href": "legislators.html#제21대-총선",
    "title": "지도제작 대회",
    "section": "\n2.2 제21대 총선",
    "text": "2.2 제21대 총선\n\n코드total_elected_all &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\nelected_tbl &lt;- total_elected_all |&gt; \n  select(result) |&gt; \n  unnest(result)\n\nelected_tbl |&gt; \n  count(name, birthday, sort=TRUE) |&gt; \n  count(n) |&gt; \n  mutate(비율 = nn/sum(nn))\n#&gt; # A tibble: 5 × 3\n#&gt;       n    nn    비율\n#&gt;   &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;\n#&gt; 1     1   602 0.632  \n#&gt; 2     2   196 0.206  \n#&gt; 3     3   105 0.110  \n#&gt; 4     4    42 0.0441 \n#&gt; 5     5     8 0.00839\n\n\n\n코드elected_tbl |&gt; \n  filter(sgId %in% c(\"20040415\", \"20080409\", \"20120411\", \"20160413\", \"20200415\")) |&gt; \n  count(sdName, sgId, sort = TRUE) |&gt; \n  pivot_wider(names_from = sgId, values_from = n) \n#&gt; # A tibble: 19 × 6\n#&gt;    sdName         `20160413` `20200415` `20040415` `20080409` `20120411`\n#&gt;    &lt;chr&gt;               &lt;int&gt;      &lt;int&gt;      &lt;int&gt;      &lt;int&gt;      &lt;int&gt;\n#&gt;  1 경기도                 60         59         49         51         52\n#&gt;  2 전국                   47         47         56         54         54\n#&gt;  3 서울특별시             49         49         48         48         48\n#&gt;  4 부산광역시             18         18         18         18         18\n#&gt;  5 경상남도               16         16         17         17         16\n#&gt;  6 경상북도               13         13         15         15         15\n#&gt;  7 인천광역시             13         13         12         12         12\n#&gt;  8 전라남도               10         10         13         12         11\n#&gt;  9 대구광역시             12         12         12         12         12\n#&gt; 10 전라북도               10         10         11         11         11\n#&gt; 11 충청남도               11         11         10         10         10\n#&gt; 12 강원도                  8          8          8          8          9\n#&gt; 13 광주광역시              8          8          7          8          8\n#&gt; 14 충청북도                8          8          8          8          8\n#&gt; 15 대전광역시              7          7          6          6          6\n#&gt; 16 울산광역시              6          6          6          6          6\n#&gt; 17 제주도                 NA         NA          3         NA         NA\n#&gt; 18 제주특별자치도          3          3         NA          3          3\n#&gt; 19 세종특별자치시          1          2         NA         NA          1"
  },
  {
    "objectID": "legislators.html#당선인-api",
    "href": "legislators.html#당선인-api",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(httr)\nlibrary(jsonlite)\n\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n                query = list(sgId = \"20220309\",\n                              sgTypecode = \"1\",\n                              sdName = \"전국\",\n                              sggName = \"대한민국\",\n                              pageNo = 1,\n                              numOfRows = 10,\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getWinnerInfoInqire$item\n\nresponse_tbl\n#&gt;   num     sgId sgTypecode    huboid  sggName sdName wiwName giho gihoSangse\n#&gt; 1   1 20220309          1 100138362 대한민국   전국            2           \n#&gt;     jdName   name hanjaName gender birthday age                         addr\n#&gt; 1 국민의힘 윤석열    尹錫悅     남 19601218  61 서울특별시 서초구 서초중앙로\n#&gt;   jobId    job eduId                              edu              career1\n#&gt; 1    75 정치인   221 서울대학교 대학원 졸업(법학석사) (전) 제43대 검찰총장\n#&gt;                          career2    dugsu dugyul\n#&gt; 1 (전) 서울중앙지방검찰청 검사장 16394815  48.56\n\n\n\n\n코드\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n                query = list(sgId = legislator_code[8],\n                              sgTypecode = \"2\",\n                              sdName = \"서울특별시\",\n                              sggName = \"종로구\",\n                              pageNo = 1,\n                              numOfRows = 10,\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getWinnerInfoInqire$item\n\nresponse_tbl\n#&gt;   num     sgId sgTypecode    huboid sggName     sdName wiwName giho gihoSangse\n#&gt; 1   1 20220309          2 100138535  종로구 서울특별시  종로구    2           \n#&gt;     jdName   name hanjaName gender birthday age                            addr\n#&gt; 1 국민의힘 최재형    崔在亨     남 19560902  65 서울특별시 양천구 목동중앙로7길\n#&gt;   jobId    job eduId                    edu      career1          career2 dugsu\n#&gt; 1    75 정당인    68 서울대학교 법학과 졸업 (전)감사원장 (전)사법연수원장 49637\n#&gt;   dugyul\n#&gt; 1  52.09"
  },
  {
    "objectID": "legislators.html#국회의원-선거구",
    "href": "legislators.html#국회의원-선거구",
    "title": "지도제작 대회",
    "section": "",
    "text": "선거종류코드(sgTypecode): (0) 대표선거명, (1)대통령,(2)국회의원,(3)시도지사,(4)구시군장,(5)시도의원,(6)구시군의회의원,(7)국회의원비례대표,(8)광역의원비례대표,(9)기초의원비례대표,(10)교육의원,(11)교육감\n\n\n코드\n# httr의 GET 함수로 데이터를 추출한다\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSggCodeList\",\n                query = list(sgId = legislator_code[7],\n                              sgTypecode = \"2\",\n                              numOfRows =  \"1000\",\n                              resultType = \"json\",\n                              serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n#&gt; [1] 200\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getCommonSggCodeList$item\n\nresponse_tbl\n#&gt;     num     sgId sgTypecode                    sggName         sdName\n#&gt; 1     1 20200415          2                     종로구     서울특별시\n#&gt; 2     2 20200415          2               중구성동구갑     서울특별시\n#&gt; 3     3 20200415          2               중구성동구을     서울특별시\n#&gt; 4     4 20200415          2                     용산구     서울특별시\n#&gt; 5     5 20200415          2                   광진구갑     서울특별시\n#&gt; 6     6 20200415          2                   광진구을     서울특별시\n#&gt; 7     7 20200415          2                 동대문구갑     서울특별시\n#&gt; 8     8 20200415          2                 동대문구을     서울특별시\n#&gt; 9     9 20200415          2                   중랑구갑     서울특별시\n#&gt; 10   10 20200415          2                   중랑구을     서울특별시\n#&gt; 11   11 20200415          2                   성북구갑     서울특별시\n#&gt; 12   12 20200415          2                   성북구을     서울특별시\n#&gt; 13   13 20200415          2                   강북구갑     서울특별시\n#&gt; 14   14 20200415          2                   강북구을     서울특별시\n#&gt; 15   15 20200415          2                   도봉구갑     서울특별시\n#&gt; 16   16 20200415          2                   도봉구을     서울특별시\n#&gt; 17   17 20200415          2                   노원구갑     서울특별시\n#&gt; 18   18 20200415          2                   노원구을     서울특별시\n#&gt; 19   19 20200415          2                   노원구병     서울특별시\n#&gt; 20   20 20200415          2                   은평구갑     서울특별시\n#&gt; 21   21 20200415          2                   은평구을     서울특별시\n#&gt; 22   22 20200415          2                 서대문구갑     서울특별시\n#&gt; 23   23 20200415          2                 서대문구을     서울특별시\n#&gt; 24   24 20200415          2                   마포구갑     서울특별시\n#&gt; 25   25 20200415          2                   마포구을     서울특별시\n#&gt; 26   26 20200415          2                   양천구갑     서울특별시\n#&gt; 27   27 20200415          2                   양천구을     서울특별시\n#&gt; 28   28 20200415          2                   강서구갑     서울특별시\n#&gt; 29   29 20200415          2                   강서구을     서울특별시\n#&gt; 30   30 20200415          2                   강서구병     서울특별시\n#&gt; 31   31 20200415          2                   구로구갑     서울특별시\n#&gt; 32   32 20200415          2                   구로구을     서울특별시\n#&gt; 33   33 20200415          2                     금천구     서울특별시\n#&gt; 34   34 20200415          2                 영등포구갑     서울특별시\n#&gt; 35   35 20200415          2                 영등포구을     서울특별시\n#&gt; 36   36 20200415          2                   동작구갑     서울특별시\n#&gt; 37   37 20200415          2                   동작구을     서울특별시\n#&gt; 38   38 20200415          2                   관악구갑     서울특별시\n#&gt; 39   39 20200415          2                   관악구을     서울특별시\n#&gt; 40   40 20200415          2                   서초구갑     서울특별시\n#&gt; 41   41 20200415          2                   서초구을     서울특별시\n#&gt; 42   42 20200415          2                   강남구갑     서울특별시\n#&gt; 43   43 20200415          2                   강남구을     서울특별시\n#&gt; 44   44 20200415          2                   강남구병     서울특별시\n#&gt; 45   45 20200415          2                   송파구갑     서울특별시\n#&gt; 46   46 20200415          2                   송파구을     서울특별시\n#&gt; 47   47 20200415          2                   송파구병     서울특별시\n#&gt; 48   48 20200415          2                   강동구갑     서울특별시\n#&gt; 49   49 20200415          2                   강동구을     서울특별시\n#&gt; 50   50 20200415          2                 중구영도구     부산광역시\n#&gt; 51   51 20200415          2                   서구동구     부산광역시\n#&gt; 52   52 20200415          2                 부산진구갑     부산광역시\n#&gt; 53   53 20200415          2                 부산진구을     부산광역시\n#&gt; 54   54 20200415          2                     동래구     부산광역시\n#&gt; 55   55 20200415          2                     남구갑     부산광역시\n#&gt; 56   56 20200415          2                     남구을     부산광역시\n#&gt; 57   57 20200415          2               북구강서구갑     부산광역시\n#&gt; 58   58 20200415          2               북구강서구을     부산광역시\n#&gt; 59   59 20200415          2                 해운대구갑     부산광역시\n#&gt; 60   60 20200415          2                 해운대구을     부산광역시\n#&gt; 61   61 20200415          2                   사하구갑     부산광역시\n#&gt; 62   62 20200415          2                   사하구을     부산광역시\n#&gt; 63   63 20200415          2                     금정구     부산광역시\n#&gt; 64   64 20200415          2                     연제구     부산광역시\n#&gt; 65   65 20200415          2                     수영구     부산광역시\n#&gt; 66   66 20200415          2                     사상구     부산광역시\n#&gt; 67   67 20200415          2                     기장군     부산광역시\n#&gt; 68   68 20200415          2                   중구남구     대구광역시\n#&gt; 69   69 20200415          2                     동구갑     대구광역시\n#&gt; 70   70 20200415          2                     동구을     대구광역시\n#&gt; 71   71 20200415          2                       서구     대구광역시\n#&gt; 72   72 20200415          2                     북구갑     대구광역시\n#&gt; 73   73 20200415          2                     북구을     대구광역시\n#&gt; 74   74 20200415          2                   수성구갑     대구광역시\n#&gt; 75   75 20200415          2                   수성구을     대구광역시\n#&gt; 76   76 20200415          2                   달서구갑     대구광역시\n#&gt; 77   77 20200415          2                   달서구을     대구광역시\n#&gt; 78   78 20200415          2                   달서구병     대구광역시\n#&gt; 79   79 20200415          2                     달성군     대구광역시\n#&gt; 80   80 20200415          2           중구강화군옹진군     인천광역시\n#&gt; 81   81 20200415          2             동구미추홀구갑     인천광역시\n#&gt; 82   82 20200415          2             동구미추홀구을     인천광역시\n#&gt; 83   83 20200415          2                   연수구갑     인천광역시\n#&gt; 84   84 20200415          2                   연수구을     인천광역시\n#&gt; 85   85 20200415          2                   남동구갑     인천광역시\n#&gt; 86   86 20200415          2                   남동구을     인천광역시\n#&gt; 87   87 20200415          2                   부평구갑     인천광역시\n#&gt; 88   88 20200415          2                   부평구을     인천광역시\n#&gt; 89   89 20200415          2                   계양구갑     인천광역시\n#&gt; 90   90 20200415          2                   계양구을     인천광역시\n#&gt; 91   91 20200415          2                     서구갑     인천광역시\n#&gt; 92   92 20200415          2                     서구을     인천광역시\n#&gt; 93   93 20200415          2                 동구남구갑     광주광역시\n#&gt; 94   94 20200415          2                 동구남구을     광주광역시\n#&gt; 95   95 20200415          2                     서구갑     광주광역시\n#&gt; 96   96 20200415          2                     서구을     광주광역시\n#&gt; 97   97 20200415          2                     북구갑     광주광역시\n#&gt; 98   98 20200415          2                     북구을     광주광역시\n#&gt; 99   99 20200415          2                   광산구갑     광주광역시\n#&gt; 100 100 20200415          2                   광산구을     광주광역시\n#&gt; 101 101 20200415          2                       동구     대전광역시\n#&gt; 102 102 20200415          2                       중구     대전광역시\n#&gt; 103 103 20200415          2                     서구갑     대전광역시\n#&gt; 104 104 20200415          2                     서구을     대전광역시\n#&gt; 105 105 20200415          2                   유성구갑     대전광역시\n#&gt; 106 106 20200415          2                   유성구을     대전광역시\n#&gt; 107 107 20200415          2                     대덕구     대전광역시\n#&gt; 108 108 20200415          2                       중구     울산광역시\n#&gt; 109 109 20200415          2                     남구갑     울산광역시\n#&gt; 110 110 20200415          2                     남구을     울산광역시\n#&gt; 111 111 20200415          2                       동구     울산광역시\n#&gt; 112 112 20200415          2                       북구     울산광역시\n#&gt; 113 113 20200415          2                     울주군     울산광역시\n#&gt; 114 114 20200415          2           세종특별자치시갑 세종특별자치시\n#&gt; 115 115 20200415          2           세종특별자치시을 세종특별자치시\n#&gt; 116 116 20200415          2                   수원시갑         경기도\n#&gt; 117 117 20200415          2                   수원시을         경기도\n#&gt; 118 118 20200415          2                   수원시병         경기도\n#&gt; 119 119 20200415          2                   수원시정         경기도\n#&gt; 120 120 20200415          2                   수원시무         경기도\n#&gt; 121 121 20200415          2               성남시수정구         경기도\n#&gt; 122 122 20200415          2               성남시중원구         경기도\n#&gt; 123 123 20200415          2             성남시분당구갑         경기도\n#&gt; 124 124 20200415          2             성남시분당구을         경기도\n#&gt; 125 125 20200415          2                 의정부시갑         경기도\n#&gt; 126 126 20200415          2                 의정부시을         경기도\n#&gt; 127 127 20200415          2               안양시만안구         경기도\n#&gt; 128 128 20200415          2             안양시동안구갑         경기도\n#&gt; 129 129 20200415          2             안양시동안구을         경기도\n#&gt; 130 130 20200415          2                   부천시갑         경기도\n#&gt; 131 131 20200415          2                   부천시을         경기도\n#&gt; 132 132 20200415          2                   부천시병         경기도\n#&gt; 133 133 20200415          2                   부천시정         경기도\n#&gt; 134 134 20200415          2                   광명시갑         경기도\n#&gt; 135 135 20200415          2                   광명시을         경기도\n#&gt; 136 136 20200415          2                   평택시갑         경기도\n#&gt; 137 137 20200415          2                   평택시을         경기도\n#&gt; 138 138 20200415          2             동두천시연천군         경기도\n#&gt; 139 139 20200415          2             안산시상록구갑         경기도\n#&gt; 140 140 20200415          2             안산시상록구을         경기도\n#&gt; 141 141 20200415          2             안산시단원구갑         경기도\n#&gt; 142 142 20200415          2             안산시단원구을         경기도\n#&gt; 143 143 20200415          2                   고양시갑         경기도\n#&gt; 144 144 20200415          2                   고양시을         경기도\n#&gt; 145 145 20200415          2                   고양시병         경기도\n#&gt; 146 146 20200415          2                   고양시정         경기도\n#&gt; 147 147 20200415          2               의왕시과천시         경기도\n#&gt; 148 148 20200415          2                     구리시         경기도\n#&gt; 149 149 20200415          2                 남양주시갑         경기도\n#&gt; 150 150 20200415          2                 남양주시을         경기도\n#&gt; 151 151 20200415          2                 남양주시병         경기도\n#&gt; 152 152 20200415          2                     오산시         경기도\n#&gt; 153 153 20200415          2                   시흥시갑         경기도\n#&gt; 154 154 20200415          2                   시흥시을         경기도\n#&gt; 155 155 20200415          2                     군포시         경기도\n#&gt; 156 156 20200415          2                     하남시         경기도\n#&gt; 157 157 20200415          2                   용인시갑         경기도\n#&gt; 158 158 20200415          2                   용인시을         경기도\n#&gt; 159 159 20200415          2                   용인시병         경기도\n#&gt; 160 160 20200415          2                   용인시정         경기도\n#&gt; 161 161 20200415          2                   파주시갑         경기도\n#&gt; 162 162 20200415          2                   파주시을         경기도\n#&gt; 163 163 20200415          2                     이천시         경기도\n#&gt; 164 164 20200415          2                     안성시         경기도\n#&gt; 165 165 20200415          2                   김포시갑         경기도\n#&gt; 166 166 20200415          2                   김포시을         경기도\n#&gt; 167 167 20200415          2                   화성시갑         경기도\n#&gt; 168 168 20200415          2                   화성시을         경기도\n#&gt; 169 169 20200415          2                   화성시병         경기도\n#&gt; 170 170 20200415          2                   광주시갑         경기도\n#&gt; 171 171 20200415          2                   광주시을         경기도\n#&gt; 172 172 20200415          2                     양주시         경기도\n#&gt; 173 173 20200415          2               포천시가평군         경기도\n#&gt; 174 174 20200415          2               여주시양평군         경기도\n#&gt; 175 175 20200415          2 춘천시철원군화천군양구군갑         강원도\n#&gt; 176 176 20200415          2 춘천시철원군화천군양구군을         강원도\n#&gt; 177 177 20200415          2                   원주시갑         강원도\n#&gt; 178 178 20200415          2                   원주시을         강원도\n#&gt; 179 179 20200415          2                     강릉시         강원도\n#&gt; 180 180 20200415          2   동해시태백시삼척시정선군         강원도\n#&gt; 181 181 20200415          2   속초시인제군고성군양양군         강원도\n#&gt; 182 182 20200415          2   홍천군횡성군영월군평창군         강원도\n#&gt; 183 183 20200415          2               청주시상당구       충청북도\n#&gt; 184 184 20200415          2               청주시서원구       충청북도\n#&gt; 185 185 20200415          2               청주시흥덕구       충청북도\n#&gt; 186 186 20200415          2               청주시청원구       충청북도\n#&gt; 187 187 20200415          2                     충주시       충청북도\n#&gt; 188 188 20200415          2               제천시단양군       충청북도\n#&gt; 189 189 20200415          2   보은군옥천군영동군괴산군       충청북도\n#&gt; 190 190 20200415          2         증평군진천군음성군       충청북도\n#&gt; 191 191 20200415          2                   천안시갑       충청남도\n#&gt; 192 192 20200415          2                   천안시을       충청남도\n#&gt; 193 193 20200415          2                   천안시병       충청남도\n#&gt; 194 194 20200415          2         공주시부여군청양군       충청남도\n#&gt; 195 195 20200415          2               보령시서천군       충청남도\n#&gt; 196 196 20200415          2                   아산시갑       충청남도\n#&gt; 197 197 20200415          2                   아산시을       충청남도\n#&gt; 198 198 20200415          2               서산시태안군       충청남도\n#&gt; 199 199 20200415          2         논산시계룡시금산군       충청남도\n#&gt; 200 200 20200415          2                     당진시       충청남도\n#&gt; 201 201 20200415          2               홍성군예산군       충청남도\n#&gt; 202 202 20200415          2                   전주시갑       전라북도\n#&gt; 203 203 20200415          2                   전주시을       전라북도\n#&gt; 204 204 20200415          2                   전주시병       전라북도\n#&gt; 205 205 20200415          2                     군산시       전라북도\n#&gt; 206 206 20200415          2                   익산시갑       전라북도\n#&gt; 207 207 20200415          2                   익산시을       전라북도\n#&gt; 208 208 20200415          2               정읍시고창군       전라북도\n#&gt; 209 209 20200415          2         남원시임실군순창군       전라북도\n#&gt; 210 210 20200415          2               김제시부안군       전라북도\n#&gt; 211 211 20200415          2   완주군진안군무주군장수군       전라북도\n#&gt; 212 212 20200415          2                     목포시       전라남도\n#&gt; 213 213 20200415          2                   여수시갑       전라남도\n#&gt; 214 214 20200415          2                   여수시을       전라남도\n#&gt; 215 215 20200415          2 순천시광양시곡성군구례군갑       전라남도\n#&gt; 216 216 20200415          2 순천시광양시곡성군구례군을       전라남도\n#&gt; 217 217 20200415          2               나주시화순군       전라남도\n#&gt; 218 218 20200415          2   담양군함평군영광군장성군       전라남도\n#&gt; 219 219 20200415          2   고흥군보성군장흥군강진군       전라남도\n#&gt; 220 220 20200415          2         해남군완도군진도군       전라남도\n#&gt; 221 221 20200415          2         영암군무안군신안군       전라남도\n#&gt; 222 222 20200415          2                 포항시북구       경상북도\n#&gt; 223 223 20200415          2           포항시남구울릉군       경상북도\n#&gt; 224 224 20200415          2                     경주시       경상북도\n#&gt; 225 225 20200415          2                     김천시       경상북도\n#&gt; 226 226 20200415          2               안동시예천군       경상북도\n#&gt; 227 227 20200415          2                   구미시갑       경상북도\n#&gt; 228 228 20200415          2                   구미시을       경상북도\n#&gt; 229 229 20200415          2   영주시영양군봉화군울진군       경상북도\n#&gt; 230 230 20200415          2               영천시청도군       경상북도\n#&gt; 231 231 20200415          2               상주시문경시       경상북도\n#&gt; 232 232 20200415          2                     경산시       경상북도\n#&gt; 233 233 20200415          2   군위군의성군청송군영덕군       경상북도\n#&gt; 234 234 20200415          2         고령군성주군칠곡군       경상북도\n#&gt; 235 235 20200415          2               창원시의창구       경상남도\n#&gt; 236 236 20200415          2               창원시성산구       경상남도\n#&gt; 237 237 20200415          2           창원시마산합포구       경상남도\n#&gt; 238 238 20200415          2           창원시마산회원구       경상남도\n#&gt; 239 239 20200415          2               창원시진해구       경상남도\n#&gt; 240 240 20200415          2                   진주시갑       경상남도\n#&gt; 241 241 20200415          2                   진주시을       경상남도\n#&gt; 242 242 20200415          2               통영시고성군       경상남도\n#&gt; 243 243 20200415          2         사천시남해군하동군       경상남도\n#&gt; 244 244 20200415          2                   김해시갑       경상남도\n#&gt; 245 245 20200415          2                   김해시을       경상남도\n#&gt; 246 246 20200415          2   밀양시의령군함안군창녕군       경상남도\n#&gt; 247 247 20200415          2                     거제시       경상남도\n#&gt; 248 248 20200415          2                   양산시갑       경상남도\n#&gt; 249 249 20200415          2                   양산시을       경상남도\n#&gt; 250 250 20200415          2   산청군함양군거창군합천군       경상남도\n#&gt; 251 251 20200415          2                   제주시갑 제주특별자치도\n#&gt; 252 252 20200415          2                   제주시을 제주특별자치도\n#&gt; 253 253 20200415          2                   서귀포시 제주특별자치도\n#&gt;              wiwName sggJungsu sOrder\n#&gt; 1             종로구         1      1\n#&gt; 2             성동구         1      2\n#&gt; 3               중구         1      3\n#&gt; 4             용산구         1      4\n#&gt; 5             광진구         1      5\n#&gt; 6             광진구         1      6\n#&gt; 7           동대문구         1      7\n#&gt; 8           동대문구         1      8\n#&gt; 9             중랑구         1      9\n#&gt; 10            중랑구         1     10\n#&gt; 11            성북구         1     11\n#&gt; 12            성북구         1     12\n#&gt; 13            강북구         1     13\n#&gt; 14            강북구         1     14\n#&gt; 15            도봉구         1     15\n#&gt; 16            도봉구         1     16\n#&gt; 17            노원구         1     17\n#&gt; 18            노원구         1     18\n#&gt; 19            노원구         1     19\n#&gt; 20            은평구         1     20\n#&gt; 21            은평구         1     21\n#&gt; 22          서대문구         1     22\n#&gt; 23          서대문구         1     23\n#&gt; 24            마포구         1     24\n#&gt; 25            마포구         1     25\n#&gt; 26            양천구         1     26\n#&gt; 27            양천구         1     27\n#&gt; 28            강서구         1     28\n#&gt; 29            강서구         1     29\n#&gt; 30            강서구         1     30\n#&gt; 31            구로구         1     31\n#&gt; 32            구로구         1     32\n#&gt; 33            금천구         1     33\n#&gt; 34          영등포구         1     34\n#&gt; 35          영등포구         1     35\n#&gt; 36            동작구         1     36\n#&gt; 37            동작구         1     37\n#&gt; 38            관악구         1     38\n#&gt; 39            관악구         1     39\n#&gt; 40            서초구         1     40\n#&gt; 41            서초구         1     41\n#&gt; 42            강남구         1     42\n#&gt; 43            강남구         1     43\n#&gt; 44            강남구         1     44\n#&gt; 45            송파구         1     45\n#&gt; 46            송파구         1     46\n#&gt; 47            송파구         1     47\n#&gt; 48            강동구         1     48\n#&gt; 49            강동구         1     49\n#&gt; 50            영도구         1     50\n#&gt; 51              서구         1     51\n#&gt; 52          부산진구         1     52\n#&gt; 53          부산진구         1     53\n#&gt; 54            동래구         1     54\n#&gt; 55              남구         1     55\n#&gt; 56              남구         1     56\n#&gt; 57              북구         1     57\n#&gt; 58            강서구         1     58\n#&gt; 59          해운대구         1     59\n#&gt; 60          해운대구         1     60\n#&gt; 61            사하구         1     61\n#&gt; 62            사하구         1     62\n#&gt; 63            금정구         1     63\n#&gt; 64            연제구         1     64\n#&gt; 65            수영구         1     65\n#&gt; 66            사상구         1     66\n#&gt; 67            기장군         1     67\n#&gt; 68              남구         1     68\n#&gt; 69              동구         1     69\n#&gt; 70              동구         1     70\n#&gt; 71              서구         1     71\n#&gt; 72              북구         1     72\n#&gt; 73              북구         1     73\n#&gt; 74            수성구         1     74\n#&gt; 75            수성구         1     75\n#&gt; 76            달서구         1     76\n#&gt; 77            달서구         1     77\n#&gt; 78            달서구         1     78\n#&gt; 79            달성군         1     79\n#&gt; 80              중구         1     80\n#&gt; 81          미추홀구         1     81\n#&gt; 82          미추홀구         1     82\n#&gt; 83            연수구         1     83\n#&gt; 84            연수구         1     84\n#&gt; 85            남동구         1     85\n#&gt; 86            남동구         1     86\n#&gt; 87            부평구         1     87\n#&gt; 88            부평구         1     88\n#&gt; 89            계양구         1     89\n#&gt; 90            계양구         1     90\n#&gt; 91              서구         1     91\n#&gt; 92              서구         1     92\n#&gt; 93              남구         1     93\n#&gt; 94              동구         1     94\n#&gt; 95              서구         1     95\n#&gt; 96              서구         1     96\n#&gt; 97              북구         1     97\n#&gt; 98              북구         1     98\n#&gt; 99            광산구         1     99\n#&gt; 100           광산구         1    100\n#&gt; 101             동구         1    101\n#&gt; 102             중구         1    102\n#&gt; 103             서구         1    103\n#&gt; 104             서구         1    104\n#&gt; 105           유성구         1    105\n#&gt; 106           유성구         1    106\n#&gt; 107           대덕구         1    107\n#&gt; 108             중구         1    108\n#&gt; 109             남구         1    109\n#&gt; 110             남구         1    110\n#&gt; 111             동구         1    111\n#&gt; 112             북구         1    112\n#&gt; 113           울주군         1    113\n#&gt; 114   세종특별자치시         1    114\n#&gt; 115   세종특별자치시         1    115\n#&gt; 116     수원시장안구         1    116\n#&gt; 117     수원시권선구         1    117\n#&gt; 118     수원시팔달구         1    118\n#&gt; 119     수원시영통구         1    119\n#&gt; 120     수원시권선구         1    120\n#&gt; 121     성남시수정구         1    121\n#&gt; 122     성남시중원구         1    122\n#&gt; 123     성남시분당구         1    123\n#&gt; 124     성남시분당구         1    124\n#&gt; 125         의정부시         1    125\n#&gt; 126         의정부시         1    126\n#&gt; 127     안양시만안구         1    127\n#&gt; 128     안양시동안구         1    128\n#&gt; 129     안양시동안구         1    129\n#&gt; 130           부천시         1    130\n#&gt; 131           부천시         1    131\n#&gt; 132           부천시         1    132\n#&gt; 133           부천시         1    133\n#&gt; 134           광명시         1    134\n#&gt; 135           광명시         1    135\n#&gt; 136           평택시         1    136\n#&gt; 137           평택시         1    137\n#&gt; 138         동두천시         1    138\n#&gt; 139     안산시상록구         1    139\n#&gt; 140     안산시상록구         1    140\n#&gt; 141     안산시단원구         1    141\n#&gt; 142     안산시단원구         1    142\n#&gt; 143     고양시덕양구         1    143\n#&gt; 144     고양시덕양구         1    144\n#&gt; 145   고양시일산동구         1    145\n#&gt; 146   고양시일산서구         1    146\n#&gt; 147           의왕시         1    147\n#&gt; 148           구리시         1    148\n#&gt; 149         남양주시         1    149\n#&gt; 150         남양주시         1    150\n#&gt; 151         남양주시         1    151\n#&gt; 152           오산시         1    152\n#&gt; 153           시흥시         1    153\n#&gt; 154           시흥시         1    154\n#&gt; 155           군포시         1    155\n#&gt; 156           하남시         1    156\n#&gt; 157     용인시처인구         1    157\n#&gt; 158     용인시기흥구         1    158\n#&gt; 159     용인시수지구         1    159\n#&gt; 160     용인시기흥구         1    160\n#&gt; 161           파주시         1    161\n#&gt; 162           파주시         1    162\n#&gt; 163           이천시         1    163\n#&gt; 164           안성시         1    164\n#&gt; 165           김포시         1    165\n#&gt; 166           김포시         1    166\n#&gt; 167           화성시         1    167\n#&gt; 168           화성시         1    168\n#&gt; 169           화성시         1    169\n#&gt; 170           광주시         1    170\n#&gt; 171           광주시         1    171\n#&gt; 172           양주시         1    172\n#&gt; 173           포천시         1    173\n#&gt; 174           여주시         1    174\n#&gt; 175           춘천시         1    175\n#&gt; 176           춘천시         1    176\n#&gt; 177           원주시         1    177\n#&gt; 178           원주시         1    178\n#&gt; 179           강릉시         1    179\n#&gt; 180           동해시         1    180\n#&gt; 181           속초시         1    181\n#&gt; 182           영월군         1    182\n#&gt; 183     청주시상당구         1    183\n#&gt; 184     청주시서원구         1    184\n#&gt; 185     청주시흥덕구         1    185\n#&gt; 186     청주시청원구         1    186\n#&gt; 187           충주시         1    187\n#&gt; 188           제천시         1    188\n#&gt; 189           영동군         1    189\n#&gt; 190           음성군         1    190\n#&gt; 191     천안시동남구         1    191\n#&gt; 192     천안시서북구         1    192\n#&gt; 193     천안시동남구         1    193\n#&gt; 194           공주시         1    194\n#&gt; 195           보령시         1    195\n#&gt; 196           아산시         1    196\n#&gt; 197           아산시         1    197\n#&gt; 198           서산시         1    198\n#&gt; 199           논산시         1    199\n#&gt; 200           당진시         1    200\n#&gt; 201           홍성군         1    201\n#&gt; 202     전주시완산구         1    202\n#&gt; 203     전주시완산구         1    203\n#&gt; 204     전주시덕진구         1    204\n#&gt; 205           군산시         1    205\n#&gt; 206           익산시         1    206\n#&gt; 207           익산시         1    207\n#&gt; 208           정읍시         1    208\n#&gt; 209           남원시         1    209\n#&gt; 210           김제시         1    210\n#&gt; 211           완주군         1    211\n#&gt; 212           목포시         1    212\n#&gt; 213           여수시         1    213\n#&gt; 214           여수시         1    214\n#&gt; 215           순천시         1    215\n#&gt; 216           광양시         1    216\n#&gt; 217           나주시         1    217\n#&gt; 218           영광군         1    218\n#&gt; 219           장흥군         1    219\n#&gt; 220           해남군         1    220\n#&gt; 221           무안군         1    221\n#&gt; 222       포항시북구         1    222\n#&gt; 223       포항시남구         1    223\n#&gt; 224           경주시         1    224\n#&gt; 225           김천시         1    225\n#&gt; 226           안동시         1    226\n#&gt; 227           구미시         1    227\n#&gt; 228           구미시         1    228\n#&gt; 229           영주시         1    229\n#&gt; 230           영천시         1    230\n#&gt; 231           상주시         1    231\n#&gt; 232           경산시         1    232\n#&gt; 233           의성군         1    233\n#&gt; 234           칠곡군         1    234\n#&gt; 235     창원시의창구         1    235\n#&gt; 236     창원시성산구         1    236\n#&gt; 237 창원시마산합포구         1    237\n#&gt; 238 창원시마산회원구         1    238\n#&gt; 239     창원시진해구         1    239\n#&gt; 240           진주시         1    240\n#&gt; 241           진주시         1    241\n#&gt; 242           통영시         1    242\n#&gt; 243           사천시         1    243\n#&gt; 244           김해시         1    244\n#&gt; 245           김해시         1    245\n#&gt; 246           밀양시         1    246\n#&gt; 247           거제시         1    247\n#&gt; 248           양산시         1    248\n#&gt; 249           양산시         1    249\n#&gt; 250           거창군         1    250\n#&gt; 251           제주시         1    251\n#&gt; 252           제주시         1    252\n#&gt; 253         서귀포시         1    253\n\n\n\n\n코드\nlegislator_raw &lt;- code_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\"),\n         선거구분 != \"0\") \n\nget_precinct &lt;- function(legislator_cd = \"20200415\", \n                         sgTypecode = \"2\") {\n  # httr의 GET 함수로 데이터를 추출한다\n  response &lt;- GET(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSggCodeList\",\n                  query = list(sgId = legislator_cd,\n                                sgTypecode = sgTypecode,\n                                numOfRows =  \"1000\",\n                                resultType = \"json\",\n                                serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n  \n  # 응답 상태와 내용을 확인한다\n  print(status_code(response))\n  \n  response_list &lt;- content(response, \"text\") |&gt; \n    fromJSON()\n  \n  response_tbl &lt;- response_list$getCommonSggCodeList$item\n  \n  return(response_tbl |&gt; as_tibble())\n}\n\nget_precinct(\"20220309\")\n#&gt; [1] 200\n#&gt; # A tibble: 5 × 8\n#&gt;   num   sgId     sgTypecode sggName      sdName     wiwName     sggJungsu sOrder\n#&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt; \n#&gt; 1 1     20220309 2          종로구       서울특별시 종로구      1         1     \n#&gt; 2 2     20220309 2          서초구갑     서울특별시 서초구      1         40    \n#&gt; 3 3     20220309 2          중구남구     대구광역시 남구        1         68    \n#&gt; 4 4     20220309 2          안성시       경기도     안성시      1         164   \n#&gt; 5 5     20220309 2          청주시상당구 충청북도   청주시상당… 1         183\n\n\n\n\n코드\n# 재보궐 제외\n# legislator_tbl &lt;- legislator_raw |&gt; \n#   dplyr::filter(선거코드 %in% c(\"20040415\", \"20080409\", \"20120411\", \n#                       \"20160413\", \"20200415\")) \n\nlegislator_tbl &lt;- legislator_raw |&gt; \n  mutate(data = map2(선거코드, 선거구분, get_precinct))\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n#&gt; [1] 200\n\nprecinct_tbl &lt;- legislator_tbl |&gt; \n  unnest(data)\n\nprecinct_tbl\n#&gt; # A tibble: 1,264 × 11\n#&gt;    선거코드 선거명       선거구분 num   sgId   sgTypecode sggName sdName wiwName\n#&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  \n#&gt;  1 20040415 국회의원선거 2        1     20040… 2          종로구  서울…  종로구 \n#&gt;  2 20040415 국회의원선거 2        2     20040… 2          중구    서울…  중구(… \n#&gt;  3 20040415 국회의원선거 2        3     20040… 2          용산구  서울…  용산구 \n#&gt;  4 20040415 국회의원선거 2        4     20040… 2          성동구… 서울…  성동구 \n#&gt;  5 20040415 국회의원선거 2        5     20040… 2          성동구… 서울…  성동구 \n#&gt;  6 20040415 국회의원선거 2        6     20040… 2          광진구… 서울…  광진구 \n#&gt;  7 20040415 국회의원선거 2        7     20040… 2          광진구… 서울…  광진구 \n#&gt;  8 20040415 국회의원선거 2        8     20040… 2          동대문… 서울…  동대문…\n#&gt;  9 20040415 국회의원선거 2        9     20040… 2          동대문… 서울…  동대문…\n#&gt; 10 20040415 국회의원선거 2        10    20040… 2          중랑구… 서울…  중랑구 \n#&gt; # ℹ 1,254 more rows\n#&gt; # ℹ 2 more variables: sggJungsu &lt;chr&gt;, sOrder &lt;chr&gt;"
  },
  {
    "objectID": "legislators.html#국회의원-당선인-1",
    "href": "legislators.html#국회의원-당선인-1",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\nget_elected &lt;- function(sgId = \"20200415\", sgTypecode = \"2\",\n                        sdName = \"서울특별시\",sggName = \"종로구\") {\n  response &lt;- GET(\"http://apis.data.go.kr/9760000/WinnerInfoInqireService2/getWinnerInfoInqire\",\n              query = list(sgId = sgId,\n                           sgTypecode = sgTypecode,\n                           sdName = sdName,\n                           sggName = sggName,\n                           numOfRows = 100,\n                           resultType = \"json\",\n                           serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n  # 응답 상태와 내용을 확인한다\n  cat(status_code(response), \": \", sgId, sgTypecode, sdName, sggName, \"\\n\")\n  \n  response_list &lt;- content(response, \"text\") |&gt; \n    fromJSON()\n  \n  response_tbl &lt;- response_list$getWinnerInfoInqire$item\n  \n  Sys.sleep(runif(1, 0,0.5))\n  \n  return(response_tbl |&gt; as_tibble())\n}\n\nget_elected()\n#&gt; 200 :  20200415 2 서울특별시 종로구\n#&gt; # A tibble: 1 × 24\n#&gt;   num   sgId    sgTypecode huboid sggName sdName wiwName giho  gihoSangse jdName\n#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt; \n#&gt; 1 1     202004… 2          10013… 종로구  서울…  종로구  1     \"\"         더불… \n#&gt; # ℹ 14 more variables: name &lt;chr&gt;, hanjaName &lt;chr&gt;, gender &lt;chr&gt;,\n#&gt; #   birthday &lt;chr&gt;, age &lt;chr&gt;, addr &lt;chr&gt;, jobId &lt;chr&gt;, job &lt;chr&gt;, eduId &lt;chr&gt;,\n#&gt; #   edu &lt;chr&gt;, career1 &lt;chr&gt;, career2 &lt;chr&gt;, dugsu &lt;chr&gt;, dugyul &lt;chr&gt;\n\n\n\n\n코드# sido_code &lt;- tribble(\n# ~\"시도코드\", ~\"시도명\",\n# \"1100\", \"서울특별시\",\n# \"2600\", \"부산광역시\",\n# \"2700\", \"대구광역시\",\n# \"2800\", \"인천광역시\",\n# \"2900\", \"광주광역시\",\n# \"3000\", \"대전광역시\",\n# \"3100\", \"울산광역시\",\n# \"5100\", \"세종특별자치시\",\n# \"4100\", \"경기도\",\n# \"4200\", \"강원도\",\n# \"4300\", \"충청북도\",\n# \"4400\", \"충청남도\",\n# \"4500\", \"전라북도\",\n# \"4600\", \"전라남도\",\n# \"4700\", \"경상북도\",\n# \"4800\", \"경상남도\",\n# \"4900\", \"제주특별자치도\")\n\nelected_raw &lt;- legislator_tbl |&gt; \n  dplyr::filter(선거코드 == \"20200415\",\n         선거구분 == \"2\") |&gt; \n  unnest(data)  |&gt; \n  select(sgId, sgTypecode, sdName, sggName, wiwName) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected))\n\nelected_tbl &lt;- elected_raw |&gt; \n  select(data) |&gt; \n  unnest(data)\n\n\n\n\n코드get_elected_safely &lt;- safely(get_elected, otherwise = \"error\")\n\ntotal_elected_raw &lt;- legislator_tbl |&gt; \n  unnest(data)  |&gt; \n  select(sgId, sgTypecode, sdName, sggName, wiwName) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected_safely))\n\ntotal_elected_tbl &lt;- total_elected_raw |&gt; \n  mutate(result = map(data, pluck, \"result\")) |&gt;\n  select(sgId, sgTypecode, sdName, sggName, wiwName, result)\n\ntotal_elected_tbl |&gt; \n  write_rds(\"data/total_elected_tbl.rds\")\n\n\n\n\n코드total_elected_tbl &lt;- \n  read_rds(\"data/total_elected_tbl.rds\")\n\ntotal_elected_true &lt;- total_elected_tbl |&gt; \n  mutate(tibble = map_lgl(result, is_tibble)) |&gt; \n  dplyr::filter(tibble) |&gt; \n  select(-tibble)\n\ntotal_elected_false &lt;- total_elected_raw |&gt; \n  dplyr::filter(sgId == \"20120411\",\n         sdName == \"인천광역시\",\n         sggName %in% c(\"남동구을\", \"부평구갑\", \"서구강화군갑\")) |&gt; \n  mutate(data = pmap(list(sgId, sgTypecode, sdName, sggName), get_elected_safely)) |&gt; \n  mutate(result = map(data, pluck, \"result\")) |&gt;\n  select(sgId, sgTypecode, sdName, sggName, wiwName, result)\n\n\ntotal_elected_all &lt;- bind_rows(total_elected_true, total_elected_false)\n\ntotal_elected_all |&gt; \n  write_rds(\"data/total_elected_all.rds\")"
  },
  {
    "objectID": "legislators.html#역대-정당별-의석수",
    "href": "legislators.html#역대-정당별-의석수",
    "title": "지도제작 대회",
    "section": "\n2.2 역대 정당별 의석수",
    "text": "2.2 역대 정당별 의석수\n\n코드total_elected_all &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\nelected_tbl &lt;- total_elected_all |&gt; \n  select(result) |&gt; \n  unnest(result)\n\nelected_tbl |&gt; \n  count(name, birthday, sort=TRUE) |&gt; \n  count(n) |&gt; \n  mutate(비율 = nn/sum(nn))\n#&gt; # A tibble: 5 × 3\n#&gt;       n    nn    비율\n#&gt;   &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;\n#&gt; 1     1   602 0.632  \n#&gt; 2     2   196 0.206  \n#&gt; 3     3   105 0.110  \n#&gt; 4     4    42 0.0441 \n#&gt; 5     5     8 0.00839\n\n\n\n코드elected_tbl |&gt; \n  dplyr::filter(sgId %in% c(\"20040415\", \"20080409\", \"20120411\", \"20160413\", \"20200415\")) |&gt; \n  count(sdName, sgId, sort = TRUE) |&gt; \n  pivot_wider(names_from = sgId, values_from = n) \n#&gt; # A tibble: 19 × 6\n#&gt;    sdName         `20160413` `20200415` `20040415` `20080409` `20120411`\n#&gt;    &lt;chr&gt;               &lt;int&gt;      &lt;int&gt;      &lt;int&gt;      &lt;int&gt;      &lt;int&gt;\n#&gt;  1 경기도                 60         59         49         51         52\n#&gt;  2 전국                   47         47         56         54         54\n#&gt;  3 서울특별시             49         49         48         48         48\n#&gt;  4 부산광역시             18         18         18         18         18\n#&gt;  5 경상남도               16         16         17         17         16\n#&gt;  6 경상북도               13         13         15         15         15\n#&gt;  7 인천광역시             13         13         12         12         12\n#&gt;  8 전라남도               10         10         13         12         11\n#&gt;  9 대구광역시             12         12         12         12         12\n#&gt; 10 전라북도               10         10         11         11         11\n#&gt; 11 충청남도               11         11         10         10         10\n#&gt; 12 강원도                  8          8          8          8          9\n#&gt; 13 광주광역시              8          8          7          8          8\n#&gt; 14 충청북도                8          8          8          8          8\n#&gt; 15 대전광역시              7          7          6          6          6\n#&gt; 16 울산광역시              6          6          6          6          6\n#&gt; 17 제주도                 NA         NA          3         NA         NA\n#&gt; 18 제주특별자치도          3          3         NA          3          3\n#&gt; 19 세종특별자치시          1          2         NA         NA          1\n\n\n\n코드# 재선 이상 -------------\nelected_key &lt;- elected_tbl |&gt; \n  dplyr::filter(sgId %in% c(\"20040415\", \"20080409\", \"20120411\", \"20160413\", \"20200415\")) |&gt; \n  count(name, birthday, sort=TRUE) |&gt;\n  dplyr::filter(n &gt; 2) |&gt; \n  mutate(name_birth = glue::glue(\"{name}_{birthday}\")) \n\n\nelected_tbl |&gt; \n    dplyr::filter(sgId %in% c(\"20040415\", \"20080409\", \"20120411\", \"20160413\", \"20200415\")) |&gt; \n  mutate(name_birth = glue::glue(\"{name}_{birthday}\")) |&gt; \n  inner_join(elected_key) |&gt; \n  ggplot(aes(x = sgId, y = name_birth, group = name_birth)) +\n    geom_point() +\n    geom_line()\n\n\n\n\n\n\n\n\n코드elected_basetable &lt;- elected_tbl |&gt; \n  left_join(code_election |&gt; dplyr::filter(선거구분 == 0), by = c(\"sgId\" = \"선거코드\")) |&gt; \n  mutate(현정당 = case_when(jdName %in% c(\"민주정의당\", \"민주자유당\", \"신한국당\",\n                                        \"한나라당\", \"새누리당\", \"자유한국당\",\"새로운보수당\",\n                                        \"미래를향한전진4.0\", \"미래통합당\", \"국민의힘\") ~ \"국민의힘\",\n                            jdName %in% c(\"평화민주당\", \"통일민주당\", \"민주당\", \"새정치국민회의\",\n                                        \"열린우리당\", \"대통합민주신당\", \"통합민주당\",\n                                        \"민주통합당\", \"새정치민주연합\", \"더불어민주당\") ~ \"더불어민주당\",\n                            TRUE ~ \"그외정당\")) |&gt; \n  dplyr::filter(sgId %in% c(\"20040415\", \"20080409\", \"20120411\", \"20160413\", \"20200415\")) |&gt;\n  mutate(선거명 = str_remove(선거명, \"\\\\s+국회의원선거\")) |&gt; \n  mutate(sgId_name = str_glue(\"{선거명}  \\n{sgId}\"))\n\n\nelection_total_gg &lt;- elected_basetable |&gt; \n  count(sgId_name, 선거명, 현정당, sort=TRUE) |&gt; \n  ggplot(aes(x = sgId_name, y = n, fill = 현정당)) +\n    geom_col(width = 0.5) +\n    scale_fill_manual(values = c(\"더불어민주당\" = \"#0054A6\", \"국민의힘\" = \"#E2231A\", \n                                 \"그외정당\" = \"#A6A6A6\")) +\n    labs(fill = NULL,\n         x =\"\",\n         y = \"\",\n         title = \"역대 총선 민주당과 국민의힘 선거결과\") +\n    theme_korean() +\n    theme(legend.position = \"top\",\n          legend.key.size = unit(0.3, \"cm\"),\n          axis.text.x = element_text(angle = 0)) +\n    coord_flip() +\n    geom_hline(yintercept = 150, linetype = 2, color = \"gray30\") +\n    geom_text(aes(label = n), size = 3, position = position_stack(vjust = 0.5)) \n\n# election_total_gg\n# \n# ragg::agg_jpeg(\"images/election_total_gg.jpeg\",\n#                width = 10, height = 7, units = \"in\", res = 600)\n# election_total_gg\n# dev.off()"
  },
  {
    "objectID": "legislators.html#의석당-득표수",
    "href": "legislators.html#의석당-득표수",
    "title": "지도제작 대회",
    "section": "\n2.3 의석당 득표수",
    "text": "2.3 의석당 득표수\n\n코드elected_region_gg &lt;- elected_basetable |&gt; \n  mutate(권역 = case_when(\n    sdName %in% c(\"경기도\", \"서울특별시\", \"인천광역시\") ~ \"수도권\",\n    sdName %in% c(\"전라남도\", \"전라북도\", \"광주광역시\") ~ \"전라권\",\n    sdName %in% c(\"경상남도\", \"경상북도\", \"대구광역시\", \"부산광역시\", \"울산광역시\") ~ \"경상권\",\n    sdName %in% \"전국\" ~ \"전국\",\n    sdName %in% c(\"강원도\", \"세종특별자치시\", \"제주도\", \"제주특별자치도\", \"대전광역시\", \"충청남도\", \"충청북도\") ~ \"충청제주강원\")) |&gt; \n  mutate(득표수 = parse_number(dugsu),\n         득표율 = parse_number(dugyul)) |&gt; \n  group_by(sgId, 권역, 현정당) |&gt;\n  summarise(득표수 = sum(득표수),\n            득표율 = sum(득표율),\n            의석수 = n(), .groups = 'drop') |&gt; \n  pivot_wider(names_from = 현정당, values_from = c(\"득표수\", \"득표율\", \"의석수\"), values_fill = 0) |&gt; \n  mutate(의석수차 = 의석수_더불어민주당 - 의석수_국민의힘) |&gt; \n  left_join(code_election |&gt; dplyr::filter(선거구분 == 0), by = c(\"sgId\" = \"선거코드\")) |&gt;   \n  mutate(선거명 = str_remove(선거명, \"\\\\s+국회의원선거\")) |&gt;   \n  mutate(sgId_name = str_glue(\"{선거명}  \\n{sgId}\")) |&gt; \n  select(sgId_name, sgId, 권역, 의석수차) |&gt; \n  mutate(의석수차 = ifelse(권역 == \"전국\" & sgId == \"20200415\", -2, 의석수차)) |&gt;\n  # 더불어 민주당/시민당 17, 미래통합당/한국당 19, 국민의당 3, 열린민주당 3\n  # https://ko.wikipedia.org/wiki/대한민국_제21대_국회의원_선거\n  mutate(권역 = factor(권역, levels = c(\"경상권\", \"전국\", \"충청제주강원\", \"전라권\", \"수도권\"))) |&gt; \n  ggplot(aes(x = sgId_name, y = 의석수차, color = 권역, group = 권역)) +\n    geom_point(size = 2, show.legend = TRUE) +\n    geom_line(aes(size = 권역)) +\n    coord_flip() +\n    theme_korean() +\n    labs(y = \"의석수차(민주당 - 국민의힘)\",\n         x = \"\",\n         caption = \"자료: 중앙선거관리위원회 당선인정보 API\",\n         title = \"역대 권역별 국회의원 의석수 변화\",\n         subtitle = \"권역별 민주당계열 정당 의석수에서 국민의힘 계열정당 의석수 차이\") +\n    geom_text_repel(aes(label = 의석수차), size = 5, show.legend = FALSE) +\n    scale_color_manual(values = c(\"전라권\" = \"#b8cafc\", \"경상권\" = \"#fcb8b8\", \n                                 \"전국\" = \"#A6A6A6\", \"충청제주강원\" = \"black\", \n                                 \"수도권\" = \"#021ffa\")) +\n    theme(legend.position = \"top\") +\n    scale_size_manual(values = c(0.5, 0.5, 0.5, 0.5, 1))  \n\n# elected_region_gg\n# \n# ragg::agg_jpeg(\"images/elected_region_gg.jpeg\",\n#                width = 10, height = 7, units = \"in\", res = 600)\n# elected_region_gg\n# dev.off()"
  },
  {
    "objectID": "legislators.html#연령",
    "href": "legislators.html#연령",
    "title": "지도제작 대회",
    "section": "\n2.4 연령",
    "text": "2.4 연령\n\n코드elected_basetable |&gt; \n  mutate(age = parse_number(age)) |&gt; \n  group_by(sgId, 선거명, 현정당) |&gt;\n  summarise(평균나이 = mean(age, na.rm = TRUE),\n            최고연령 = max(age, na.rm = TRUE),\n            최저연령 = min(age, na.rm = TRUE)) |&gt; \n  select(-최고연령, -최저연령) |&gt; \n  pivot_wider(names_from = 현정당, values_from = 평균나이)\n#&gt; # A tibble: 5 × 5\n#&gt; # Groups:   sgId, 선거명 [5]\n#&gt;   sgId     선거명 국민의힘 그외정당 더불어민주당\n#&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;\n#&gt; 1 20040415 제17대     52.1     53.8         49.6\n#&gt; 2 20080409 제18대     51.9     57.7         53.1\n#&gt; 3 20120411 제19대     55.0     52.0         52.8\n#&gt; 4 20160413 제20대     56.6     56.2         54.2\n#&gt; 5 20200415 제21대     56.5     52.3         55.0\n\nelected_basetable |&gt; \n  mutate(age = parse_number(age)) |&gt; \n  dplyr::filter(현정당 != \"그외정당\") |&gt;\n  ggplot(aes(x = sgId, y = age, fill = gender)) +\n    geom_boxplot(width=0.3) +\n    coord_flip() +\n    facet_wrap(~현정당) +\n    theme(legend.position = \"top\")"
  },
  {
    "objectID": "legislators.html#국회의원-추적",
    "href": "legislators.html#국회의원-추적",
    "title": "지도제작 대회",
    "section": "\n2.5 국회의원 추적",
    "text": "2.5 국회의원 추적\n\n코드library(ggrepel)\n\nelected_basetable |&gt; \n  mutate(득표수 = parse_number(dugsu),\n         득표율 = parse_number(dugyul)) |&gt;\n  dplyr::filter(득표수 != 0) |&gt;\n  dplyr::filter(현정당 == \"더불어민주당\",\n         sdName %in% c(\"서울특별시\", \"경기도\", \"인천광역시\")) |&gt;\n  ggplot(aes(x = 득표수, y = 득표율, color = sgId)) +\n    geom_point() +\n    geom_smooth(method = \"lm\", se = FALSE) +\n    geom_text_repel(aes(label = name), size = 2, position = position_jitter(width = 0.1, height = 0.1)) +\n    theme(legend.position = \"top\") +\n    facet_wrap(vars(현정당, sgId), nrow = 1, scales = \"free\")"
  },
  {
    "objectID": "district_chair.html",
    "href": "district_chair.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "나무위키 지역/당협위원장을 통해 금일 기준(2023-09-29) 각 당별 현황을 파악해보자.\n\n\n코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(rvest)\n\nwiki_html &lt;- read_html('https://namu.wiki/w/당협위원장/목록')\n\n## 시도명 ------\nsido_h3 &lt;- wiki_html |&gt; \n  html_elements(\"h3\") |&gt; \n  html_text()\n\nsido_names &lt;- sido_h3[str_detect(sido_h3, \"^2\")] |&gt; \n  str_extract(\"[가-힣]+\")\n\n## 표 ------\n######## 5: 서울특별시, 21: 제주도\n\nget_result &lt;- function(index){\n  \n    if(index == 18) { # 경상북도\n      result &lt;- wiki_html |&gt;\n        html_node(xpath = str_glue(\"/html/body/div/div/div[2]/div/div[1]/div[5]/div/div/div/div[3]/div/div/div/div/div/div/div/div/div/div[10]/div/div/div/div/div[1]/div/div[{index}]/div[4]/table\")) |&gt;\n    html_table()\n    } else {\n      result  &lt;- wiki_html |&gt;\n        html_node(xpath = str_glue(\"/html/body/div/div/div[2]/div/div[1]/div[5]/div/div/div/div[3]/div/div/div/div/div/div/div/div/div/div[10]/div/div/div/div/div[1]/div/div[{index}]/div[3]/table\")) |&gt;\n        html_table()\n    }\n    return(result)\n}\n\nget_result(19)\n\ndistrict_raw &lt;- tibble(시도코드 = 5:21) |&gt; \n  mutate(data = map(시도코드, safely(get_result, otherwise=\"error\")))\n\ndistrict_tbl &lt;- district_raw |&gt; \n  mutate(result = map(data, pluck, \"result\")) |&gt; \n  mutate(tibble = map_lgl(result, is_tibble)) |&gt; \n  dplyr::filter(tibble) |&gt; \n  mutate(시도명 = sido_names) |&gt; \n  select(시도명, result)\n\n# district_tbl |&gt;\n#   write_rds(\"data/시도별_당협위원장.rds\")"
  },
  {
    "objectID": "district_chair.html#지역당협위원장",
    "href": "district_chair.html#지역당협위원장",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(rvest)\n\nwiki_html &lt;- read_html('https://namu.wiki/w/당협위원장/목록')\n\n## 시도명 ------\nsido_h3 &lt;- wiki_html |&gt; \n  html_elements(\"h3\") |&gt; \n  html_text()\n\nsido_names &lt;- sido_h3[str_detect(sido_h3, \"^2\")] |&gt; \n  str_extract(\"[가-힣]+\")\n\n## 표 ------\n######## 5: 서울특별시, 21: 제주도\n\nget_result &lt;- function(index){\n  \n    if(index == 18) { # 경상북도\n      result &lt;- wiki_html |&gt;\n        html_node(xpath = str_glue(\"/html/body/div/div/div[2]/div/div[1]/div[5]/div/div/div/div[3]/div/div/div/div/div/div/div/div/div/div[10]/div/div/div/div/div[1]/div/div[{index}]/div[4]/table\")) |&gt;\n    html_table()\n    } else {\n      result  &lt;- wiki_html |&gt;\n        html_node(xpath = str_glue(\"/html/body/div/div/div[2]/div/div[1]/div[5]/div/div/div/div[3]/div/div/div/div/div/div/div/div/div/div[10]/div/div/div/div/div[1]/div/div[{index}]/div[3]/table\")) |&gt;\n        html_table()\n    }\n    return(result)\n}\n\nget_result(19)\n\ndistrict_raw &lt;- tibble(시도코드 = 5:21) |&gt; \n  mutate(data = map(시도코드, safely(get_result, otherwise=\"error\")))\n\ndistrict_tbl &lt;- district_raw |&gt; \n  mutate(result = map(data, pluck, \"result\")) |&gt; \n  mutate(tibble = map_lgl(result, is_tibble)) |&gt; \n  dplyr::filter(tibble) |&gt; \n  mutate(시도명 = sido_names) |&gt; \n  select(시도명, result)\n\n# district_tbl |&gt;\n#   write_rds(\"data/시도별_당협위원장.rds\")"
  },
  {
    "objectID": "candidate.html",
    "href": "candidate.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "공공데이터포털 중앙선거관리위원회 후보자 정보 API 를 통해 당선인 정보를 조회한다. (후보자 정보를 조회 할 수 있는 서비스 이다.(예비후보자 및 후보자 의 성명, 생년월일, 성별 , 선거구, 시도, 학력, 경력, 등록상태 등을 확인 할 수 있는 서비스)\n\n\n코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(rvest)\n\ntotal_elected_all &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\nprecinct_tbl &lt;- total_elected_all |&gt; \n  filter(sgId == \"20200415\") |&gt; \n  select(result) |&gt; \n  unnest(result) |&gt; \n  select(시도명 = sdName, 선거구명 = sggName)\n\n\n\n\n코드election_html &lt;- read_html(\"https://ko.wikipedia.org/wiki/대한민국_제21대_국회의원_선거\")\n\nurls &lt;- election_html %&gt;% \n  html_nodes(\"#mw-content-text &gt; div.mw-parser-output &gt; table:nth-child(112)\") %&gt;% \n  html_nodes(\"a\") %&gt;% \n  html_attr('href')\n\nurl_names &lt;- election_html %&gt;% \n  html_nodes(\"#mw-content-text &gt; div.mw-parser-output &gt; table:nth-child(112)\") %&gt;% \n  html_nodes(\"a\") %&gt;% \n  html_text()\n\nurl_raw &lt;- tibble(names = url_names,\n       url  = urls)\n\n# url_names |&gt; \n#   clipr::write_clip()\n\nurl_tbl &lt;- url_raw |&gt; \n  mutate(시도명 = if_else(names %in% \n                         c(\"서울특별시\", \"부산광역시\", \"대구광역시\", \"인천광역시\",\n                           \"광주광역시\", \"대전광역시\", \"울산광역시\", \"세종특별자치시\",\n                           \"경기도\", \"강원도\", \"충청북도\", \"충청남도\", \"전라북도\", \n                           \"전라남도\", \"경상북도\", \"경상남도\", \"제주특별자치도\"), names, NA_character_)) |&gt; \n  fill(시도명, .direction = \"down\") |&gt; \n  select(시도명, 선거구명 = names, url) |&gt; \n  filter(시도명 != 선거구명) |&gt; \n  mutate(url = URLdecode(url))\n\n\nurl_tbl\n#&gt; # A tibble: 506 × 3\n#&gt;    시도명     선거구명       url                         \n#&gt;    &lt;chr&gt;      &lt;chr&gt;          &lt;chr&gt;                       \n#&gt;  1 서울특별시 종로구         /wiki/종로구_(1988년_선거구)\n#&gt;  2 서울특별시 중구·성동구 갑 /wiki/중구·성동구_갑        \n#&gt;  3 서울특별시 중구·성동구 을 /wiki/중구·성동구_을        \n#&gt;  4 서울특별시 용산구         /wiki/용산구_(1988년_선거구)\n#&gt;  5 서울특별시 광진구 갑      /wiki/광진구_갑             \n#&gt;  6 서울특별시 이낙연         /wiki/이낙연                \n#&gt;  7 서울특별시 홍익표         /wiki/홍익표_(1967년)       \n#&gt;  8 서울특별시 박성준         /wiki/박성준_(정치인)       \n#&gt;  9 서울특별시 권영세         /wiki/권영세_(1959년)       \n#&gt; 10 서울특별시 전혜숙         /wiki/전혜숙                \n#&gt; # ℹ 496 more rows\n\n\n\n\n코드mp_url_tbl &lt;- url_tbl |&gt; \n  mutate(선거구명 = str_remove_all(선거구명, \"[\\\\s+|·]\")) |&gt; \n  anti_join(precinct_tbl, by = c(\"시도명\", \"선거구명\")) |&gt; \n  mutate(url = str_glue(\"https://ko.wikipedia.org{url}\")) |&gt; \n  rename(당선인 = 선거구명)\n    \n\nmp_url_tbl |&gt; \n  mutate(\n      link = glue::glue(\"[website]({url})\"),\n      link = map(link, gt::md)) |&gt; \n  select(시도명, 당선인, link) |&gt;\n  gt(groupname_col = \"시도명\") |&gt; \n  gt_theme_hangul()\n\n\n\n\n\n당선인\n      link\n    \n\n\n서울특별시\n    \n\n이낙연\nwebsite\n\n\n홍익표\nwebsite\n\n\n박성준\nwebsite\n\n\n권영세\nwebsite\n\n\n전혜숙\nwebsite\n\n\n고민정\nwebsite\n\n\n안규백\nwebsite\n\n\n장경태\nwebsite\n\n\n서영교\nwebsite\n\n\n박홍근\nwebsite\n\n\n김영배\nwebsite\n\n\n기동민\nwebsite\n\n\n천준호\nwebsite\n\n\n박용진\nwebsite\n\n\n인재근\nwebsite\n\n\n오기형\nwebsite\n\n\n고용진\nwebsite\n\n\n우원식\nwebsite\n\n\n김성환\nwebsite\n\n\n박주민\nwebsite\n\n\n강병원\nwebsite\n\n\n우상호\nwebsite\n\n\n김영호\nwebsite\n\n\n노웅래\nwebsite\n\n\n정청래\nwebsite\n\n\n황희\nwebsite\n\n\n이용선\nwebsite\n\n\n강선우\nwebsite\n\n\n진성준\nwebsite\n\n\n한정애\nwebsite\n\n\n이인영\nwebsite\n\n\n윤건영\nwebsite\n\n\n최기상\nwebsite\n\n\n김영주\nwebsite\n\n\n김민석\nwebsite\n\n\n김병기\nwebsite\n\n\n이수진\nwebsite\n\n\n유기홍\nwebsite\n\n\n정태호\nwebsite\n\n\n윤희숙\nwebsite\n\n\n박성중\nwebsite\n\n\n태구민\nwebsite\n\n\n박진\nwebsite\n\n\n유경준\nwebsite\n\n\n김웅\nwebsite\n\n\n배현진\nwebsite\n\n\n남인순\nwebsite\n\n\n진선미\nwebsite\n\n\n이해식\nwebsite\n\n\n부산광역시\n    \n\n황보승희\nwebsite\n\n\n안병길\nwebsite\n\n\n서병수\nwebsite\n\n\n이헌승\nwebsite\n\n\n김희곤\nwebsite\n\n\n박수영\nwebsite\n\n\n박재호\nwebsite\n\n\n전재수\nwebsite\n\n\n김도읍\nwebsite\n\n\n하태경\nwebsite\n\n\n김미애\nwebsite\n\n\n최인호\nwebsite\n\n\n조경태\nwebsite\n\n\n백종헌\nwebsite\n\n\n이주환\nwebsite\n\n\n전봉민\nwebsite\n\n\n장제원\nwebsite\n\n\n정동만\nwebsite\n\n\n대구광역시\n    \n\n곽상도\nwebsite\n\n\n류성걸\nwebsite\n\n\n강대식\nwebsite\n\n\n김상훈\nwebsite\n\n\n양금희\nwebsite\n\n\n김승수\nwebsite\n\n\n주호영\nwebsite\n\n\n홍준표\nwebsite\n\n\n홍석준\nwebsite\n\n\n윤재옥\nwebsite\n\n\n김용판\nwebsite\n\n\n추경호\nwebsite\n\n\n인천광역시\n    \n\n배준영\nwebsite\n\n\n허종식\nwebsite\n\n\n윤상현\nwebsite\n\n\n박찬대\nwebsite\n\n\n정일영\nwebsite\n\n\n맹성규\nwebsite\n\n\n윤관석\nwebsite\n\n\n이성만\nwebsite\n\n\n홍영표\nwebsite\n\n\n유동수\nwebsite\n\n\n송영길\nwebsite\n\n\n김교흥\nwebsite\n\n\n신동근\nwebsite\n\n\n광주광역시\n    \n\n윤영덕\nwebsite\n\n\n이병훈\nwebsite\n\n\n송갑석\nwebsite\n\n\n양향자\nwebsite\n\n\n조오섭\nwebsite\n\n\n이형석\nwebsite\n\n\n이용빈\nwebsite\n\n\n민형배\nwebsite\n\n\n대전광역시\n    \n\n장철민\nwebsite\n\n\n황운하\nwebsite\n\n\n박병석\nwebsite\n\n\n박범계\nwebsite\n\n\n조승래\nwebsite\n\n\n이상민\nwebsite\n\n\n박영순\nwebsite\n\n\n울산광역시\n    \n\n박성민\nwebsite\n\n\n이채익\nwebsite\n\n\n김기현\nwebsite\n\n\n권명호\nwebsite\n\n\n이상헌\nwebsite\n\n\n서범수\nwebsite\n\n\n세종특별자치시\n    \n\n홍성국\nwebsite\n\n\n강준현\nwebsite\n\n\n경기도\n    \n\n김승원\nwebsite\n\n\n백혜련\nwebsite\n\n\n김영진\nwebsite\n\n\n박광온\nwebsite\n\n\n김진표\nwebsite\n\n\n김태년\nwebsite\n\n\n윤영찬\nwebsite\n\n\n김은혜\nwebsite\n\n\n김병욱\nwebsite\n\n\n오영환\nwebsite\n\n\n김민철\nwebsite\n\n\n강득구\nwebsite\n\n\n민병덕\nwebsite\n\n\n이재정\nwebsite\n\n\n김경협\nwebsite\n\n\n설훈\nwebsite\n\n\n김상희\nwebsite\n\n\n서영석\nwebsite\n\n\n임오경\nwebsite\n\n\n양기대\nwebsite\n\n\n홍기원\nwebsite\n\n\n유의동\nwebsite\n\n\n김성원\nwebsite\n\n\n전해철\nwebsite\n\n\n김철민\nwebsite\n\n\n고영인\nwebsite\n\n\n김남국\nwebsite\n\n\n심상정\nwebsite\n\n\n한준호\nwebsite\n\n\n홍정민\nwebsite\n\n\n이용우\nwebsite\n\n\n이소영\nwebsite\n\n\n윤호중\nwebsite\n\n\n조응천\nwebsite\n\n\n김한정\nwebsite\n\n\n김용민\nwebsite\n\n\n안민석\nwebsite\n\n\n문정복\nwebsite\n\n\n조정식\nwebsite\n\n\n이학영\nwebsite\n\n\n최종윤\nwebsite\n\n\n정찬민\nwebsite\n\n\n김민기\nwebsite\n\n\n정춘숙\nwebsite\n\n\n이탄희\nwebsite\n\n\n윤후덕\nwebsite\n\n\n박정\nwebsite\n\n\n송석준\nwebsite\n\n\n이규민\nwebsite\n\n\n김주영\nwebsite\n\n\n박상혁\nwebsite\n\n\n송옥주\nwebsite\n\n\n이원욱\nwebsite\n\n\n권칠승\nwebsite\n\n\n소병훈\nwebsite\n\n\n임종성\nwebsite\n\n\n정성호\nwebsite\n\n\n최춘식\nwebsite\n\n\n김선교\nwebsite\n\n\n강원도\n    \n\n허영\nwebsite\n\n\n한기호\nwebsite\n\n\n이광재\nwebsite\n\n\n송기헌\nwebsite\n\n\n권성동\nwebsite\n\n\n이철규\nwebsite\n\n\n이양수\nwebsite\n\n\n유상범\nwebsite\n\n\n충청북도\n    \n\n정정순\nwebsite\n\n\n이장섭\nwebsite\n\n\n도종환\nwebsite\n\n\n변재일\nwebsite\n\n\n이종배\nwebsite\n\n\n엄태영\nwebsite\n\n\n박덕흠\nwebsite\n\n\n임호선\nwebsite\n\n\n충청남도\n    \n\n문진석\nwebsite\n\n\n박완주\nwebsite\n\n\n이정문\nwebsite\n\n\n정진석\nwebsite\n\n\n김태흠\nwebsite\n\n\n이명수\nwebsite\n\n\n강훈식\nwebsite\n\n\n성일종\nwebsite\n\n\n김종민\nwebsite\n\n\n어기구\nwebsite\n\n\n홍문표\nwebsite\n\n\n전라북도\n    \n\n김윤덕\nwebsite\n\n\n이상직\nwebsite\n\n\n김성주\nwebsite\n\n\n신영대\nwebsite\n\n\n김수흥\nwebsite\n\n\n한병도\nwebsite\n\n\n윤준병\nwebsite\n\n\n이용호\nwebsite\n\n\n이원택\nwebsite\n\n\n안호영\nwebsite\n\n\n전라남도\n    \n\n김원이\nwebsite\n\n\n주철현\nwebsite\n\n\n김회재\nwebsite\n\n\n소병철\nwebsite\n\n\n서동용\nwebsite\n\n\n신정훈\nwebsite\n\n\n이개호\nwebsite\n\n\n김승남\nwebsite\n\n\n윤재갑\nwebsite\n\n\n서삼석\nwebsite\n\n\n경상북도\n    \n\n김정재\nwebsite\n\n\n김병욱\nwebsite\n\n\n김석기\nwebsite\n\n\n송언석\nwebsite\n\n\n김형동\nwebsite\n\n\n구자근\nwebsite\n\n\n김영식\nwebsite\n\n\n박형수\nwebsite\n\n\n이만희\nwebsite\n\n\n임이자\nwebsite\n\n\n윤두현\nwebsite\n\n\n김희국\nwebsite\n\n\n정희용\nwebsite\n\n\n경상남도\n    \n\n박완수\nwebsite\n\n\n강기윤\nwebsite\n\n\n최형두\nwebsite\n\n\n윤한홍\nwebsite\n\n\n이달곤\nwebsite\n\n\n박대출\nwebsite\n\n\n강민국\nwebsite\n\n\n정점식\nwebsite\n\n\n하영제\nwebsite\n\n\n민홍철\nwebsite\n\n\n김정호\nwebsite\n\n\n조해진\nwebsite\n\n\n서일준\nwebsite\n\n\n윤영석\nwebsite\n\n\n김두관\nwebsite\n\n\n김태호\nwebsite\n\n\n제주특별자치도\n    \n\n송재호\nwebsite\n\n\n오영훈\nwebsite\n\n\n위성곤\nwebsite\n\n\n\n\n\n\n\n\n코드## 제21대 국회의원 당선인 url\nmp_url_tbl |&gt; \n  write_rds(\"data/mp21_url_tbl.rds\")"
  },
  {
    "objectID": "candidate.html#국회의원-선거-코드",
    "href": "candidate.html#국회의원-선거-코드",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(rvest)"
  },
  {
    "objectID": "district_chair.html#공석-현황",
    "href": "district_chair.html#공석-현황",
    "title": "지도제작 대회",
    "section": "\n3.1 공석 현황",
    "text": "3.1 공석 현황\n\n코드district_empty_gt &lt;- district_tbl |&gt; \n  group_by(당명) |&gt; \n  summarise(공석 = sum(is.na(위원장))) |&gt; \n  mutate(선거구수 = 253) |&gt; \n  mutate(공석비율 = 공석 / 선거구수) |&gt; \n  relocate(선거구수, .after = 당명) |&gt;\n  mutate(위원장수 = 선거구수 - 공석) |&gt; \n  relocate(공석, .after = 위원장수) |&gt;\n  mutate(logo = c(\"images/party_power.jpg\", \"images/party_minju.png\") ) |&gt; \n  relocate(logo, .before = 당명) |&gt;  \n  arrange(공석비율) |&gt; \n  gt() |&gt; \n  gt_theme_hangul() |&gt; \n  tab_header(title = \"지역/당협위원장 현황\") |&gt;\n  cols_label(당명 = \"정당명\",\n             선거구수 = \"선거구수\",\n             위원장수 = \"위원장수\",\n             공석비율 = \"공석비율\",\n             logo = \" \") |&gt; \n  fmt_percent(columns = \"공석비율\", decimals = 1) |&gt; \n  tab_footnote(\n    footnote = \"나무위키: 당협위원장/목록\",\n    locations = cells_title(groups = \"title\")\n  ) |&gt; \n  tab_spanner(\n    label = \"인원\",\n    columns = c(\n      선거구수, 위원장수, 공석\n    )\n  ) |&gt; \n  tab_style(\n    style = cell_text(color = \"red\", weight = \"bold\", size = \"large\"),\n    locations = cells_body(\n      columns = c(공석비율), \n      rows = 당명 == \"국민의힘\"\n    )) |&gt; \n  tab_style(\n    style = cell_text(color = \"blue\", weight = \"bold\", size = \"large\"),\n    locations = cells_body(\n      columns = c(공석비율), \n      rows = 당명 == \"민주당\"\n    )) |&gt; \n    gt_img_rows(columns = logo, img_source = \"local\", height = 30) \n\ndistrict_empty_gt\n\n\n\n\n\n\n지역/당협위원장 현황1\n\n    \n\n \n      정당명\n      \n        인원\n      \n      공석비율\n    \n\n선거구수\n      위원장수\n      공석\n    \n\n\n\n\n민주당\n253\n250\n3\n1.2%\n\n\n\n국민의힘\n253\n225\n28\n11.1%\n\n\n\n\n1 나무위키: 당협위원장/목록\n    \n\n\n\n코드\n# district_empty_gt |&gt;\n#   gtsave(\"images/지역_당협위원장_공석현황.png\")"
  },
  {
    "objectID": "district_chair.html#권역별-공석현황",
    "href": "district_chair.html#권역별-공석현황",
    "title": "지도제작 대회",
    "section": "\n3.2 권역별 공석현황",
    "text": "3.2 권역별 공석현황\n\n코드## 선거구 권역별 정수\nregion_legislator &lt;- nec_precinct_total |&gt; \n  dplyr::filter(sggName != \"비례대표\",\n                sgId == \"20200415\") |&gt; \n  mutate(권역 = case_when(\n    sdName %in% c(\"경기도\", \"서울특별시\", \"인천광역시\") ~ \"수도권\",\n    sdName %in% c(\"전라남도\", \"전라북도\", \"광주광역시\") ~ \"전라권\",\n    sdName %in% c(\"경상남도\", \"경상북도\", \"대구광역시\", \"부산광역시\", \"울산광역시\") ~ \"경상권\",\n    sdName %in% c(\"강원도\", \"세종특별자치시\", \"제주도\", \"제주특별자치도\", \"대전광역시\", \"충청남도\", \"충청북도\") ~ \"충청제주강원\")) |&gt; \n  count(권역, name = \"정수\")\n\n## 지역/당협의원장 권역별 정수\nregion_district_tbl &lt;- district_tbl |&gt; \n  mutate(권역 = case_when(\n    시도명 %in% c(\"경기도\", \"서울특별시\", \"인천광역시\") ~ \"수도권\",\n    시도명 %in% c(\"전라남도\", \"전라북도\", \"광주광역시\") ~ \"전라권\",\n    시도명 %in% c(\"경상남도\", \"경상북도\", \"대구광역시\", \"부산광역시\", \"울산광역시\") ~ \"경상권\",\n    시도명 %in% c(\"강원특별자치도\", \"세종특별자치시\", \"제주도\", \"제주특별자치도\", \"대전광역시\", \"충청남도\", \"충청북도\") ~ \"충청제주강원\")) |&gt; \n  group_by(당명, 권역) |&gt; \n  summarise(공석 = sum(is.na(위원장))) |&gt; \n  ungroup() |&gt; \n  left_join(region_legislator) |&gt; \n  pivot_wider(names_from = 당명, values_from = 공석)  |&gt;\n  mutate(국힘_위원장수 = 정수 - 국민의힘,\n         민주_위원장수 = 정수 - 민주당) |&gt;\n  mutate(국힘_공석율 = 국민의힘 / 정수,\n         민주_공석율 = 민주당 / 정수) |&gt; \n  dplyr::select(권역, 정수, 민주_위원장수, 민주당, 민주_공석율,\n                     국힘_위원장수, 국민의힘, 국힘_공석율)  |&gt; \n  arrange(desc(정수))\n\nregion_district_tbl |&gt; \n  janitor::adorn_totals()\n#&gt;          권역 정수 민주_위원장수 민주당 민주_공석율 국힘_위원장수 국민의힘\n#&gt;        수도권  121           118      3  0.02479339           102       19\n#&gt;        경상권   65            65      0  0.00000000            60        5\n#&gt;  충청제주강원   39            39      0  0.00000000            36        3\n#&gt;        전라권   28            28      0  0.00000000            27        1\n#&gt;         Total  253           250      3  0.02479339           225       28\n#&gt;  국힘_공석율\n#&gt;   0.15702479\n#&gt;   0.07692308\n#&gt;   0.07692308\n#&gt;   0.03571429\n#&gt;   0.34658523\n\n## 공석 비율 표시하는 함수\ngrand_pcnt_func &lt;- function(data) {\n  empty_list &lt;- data |&gt; \n    summarise(민주_공석수 = sum(민주당),\n              국힘_공석수 = sum(국민의힘)) |&gt; \n    mutate(민주_공석율 = 민주_공석수 / 253,\n           국힘_공석율 = 국힘_공석수 / 253) |&gt; \n    select(민주_공석율, 국힘_공석율) |&gt; \n    unlist()\n\n  return (empty_list)\n}  \n\nregion_district_gt &lt;- region_district_tbl |&gt; \n  gt() |&gt; \n  gt_theme_hangul() |&gt; \n  tab_header(title = \"권역별 지역/당협위원장 현황\") |&gt;\n  cols_align(columns = 권역, \"center\") |&gt; \n  cols_label(권역 = \"권역\",\n             정수 = \"선거구수\",\n             국힘_위원장수 = \"당협위원장수\",\n             민주_위원장수 = \"지역위원장수\",\n             국민의힘 = \"공석수\",\n             민주당 = \"공석수\",\n             국힘_공석율 = \"공석비율\",\n             민주_공석율 = \"공석비율\") |&gt; \n  fmt_percent(columns = c(국힘_공석율, 민주_공석율), decimals = 1)  |&gt; \n  tab_footnote(\n    footnote = \"나무위키: 당협위원장/목록\",\n    locations = cells_title(groups = \"title\")\n  ) |&gt; \n  tab_footnote(\n    footnote = \"인천 남동을(윤관석)/부평갑(이성만)/분당갑(김병관)\",\n    locations = cells_body(columns = 민주당, rows = 1)\n  ) |&gt; \n  tab_spanner(\n    label = \"국민의힘 \",\n    columns = c(\n      국힘_위원장수, 국민의힘, 국힘_공석율\n    )\n  ) |&gt; \n  tab_spanner(\n    label = \"더불어민주당\",\n    columns = c(\n      민주_위원장수, 민주당, 민주_공석율\n    )\n  ) |&gt; \n  tab_style(\n    style = cell_text(color = \"#fc0303\", weight = \"bold\", size = \"large\"),\n    locations = cells_body(\n      columns = c(국민의힘, 국힘_공석율), \n      rows = 권역 == \"수도권\"\n    )) |&gt; \n  tab_style(\n    style = cell_text(color = \"#fc6203\", weight = \"bold\", size = \"large\"),\n    locations = cells_body(\n      columns = c(국민의힘, 국힘_공석율), \n      rows = 권역 == \"경상권\"\n    )) |&gt; \n  tab_style(\n    style = cell_text(color = \"blue\", weight = \"bold\", size = \"large\"),\n    locations = cells_body(\n      columns = c(민주당, 민주_공석율), \n      rows = 권역 == \"수도권\"\n    ))  |&gt; \n  ## 표 전체 합계 -------------------------------------\n    grand_summary_rows(\n      columns = c(정수, 민주_위원장수, 국힘_위원장수, 민주당, 국민의힘),\n      fns =  list(label = \"합계\", fn = \"sum\"),\n      fmt = ~ fmt_integer(.),\n      side = \"bottom\"\n    )  |&gt; \n    grand_summary_rows (\n      columns = 국힘_공석율,\n      fns =  list(\"합계\" = ~grand_pcnt_func(region_district_tbl)[2]),\n      fmt = ~ fmt_percent(., decimals = 1)\n    ) |&gt; \n    grand_summary_rows (\n      columns = 민주_공석율,\n      fns =  list(\"합계\" = ~grand_pcnt_func(region_district_tbl)[1]),\n      fmt = ~ fmt_percent(., decimals = 1)\n    )  \n\nregion_district_gt\n\n\n\n\n\n\n권역별 지역/당협위원장 현황1\n\n    \n\n\n      권역\n      선거구수\n      \n        더불어민주당\n      \n      \n        국민의힘 \n      \n    \n\n지역위원장수\n      공석수\n      공석비율\n      당협위원장수\n      공석수\n      공석비율\n    \n\n\n\n\n수도권\n121\n118\n32\n\n2.5%\n102\n19\n15.7%\n\n\n\n경상권\n65\n65\n0\n0.0%\n60\n5\n7.7%\n\n\n\n충청제주강원\n39\n39\n0\n0.0%\n36\n3\n7.7%\n\n\n\n전라권\n28\n28\n0\n0.0%\n27\n1\n3.6%\n\n\n합계\n—\n253\n250\n3\n1.2%\n225\n28\n11.1%\n\n\n\n\n\n1 나무위키: 당협위원장/목록\n    \n\n\n2 인천 남동을(윤관석)/부평갑(이성만)/분당갑(김병관)\n    \n\n\n\n\n코드\n# region_district_gt |&gt;\n#   gtsave(\"images/지역_당협위원장_권역별_공석현황.png\")"
  },
  {
    "objectID": "candidate.html#위키-국회의원-당선인",
    "href": "candidate.html#위키-국회의원-당선인",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\nlibrary(rvest)\n\ntotal_elected_all &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\nprecinct_tbl &lt;- total_elected_all |&gt; \n  filter(sgId == \"20200415\") |&gt; \n  select(result) |&gt; \n  unnest(result) |&gt; \n  select(시도명 = sdName, 선거구명 = sggName)"
  },
  {
    "objectID": "candidate.html#당선인-url-추출",
    "href": "candidate.html#당선인-url-추출",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드election_html &lt;- read_html(\"https://ko.wikipedia.org/wiki/대한민국_제21대_국회의원_선거\")\n\nurls &lt;- election_html %&gt;% \n  html_nodes(\"#mw-content-text &gt; div.mw-parser-output &gt; table:nth-child(112)\") %&gt;% \n  html_nodes(\"a\") %&gt;% \n  html_attr('href')\n\nurl_names &lt;- election_html %&gt;% \n  html_nodes(\"#mw-content-text &gt; div.mw-parser-output &gt; table:nth-child(112)\") %&gt;% \n  html_nodes(\"a\") %&gt;% \n  html_text()\n\nurl_raw &lt;- tibble(names = url_names,\n       url  = urls)\n\n# url_names |&gt; \n#   clipr::write_clip()\n\nurl_tbl &lt;- url_raw |&gt; \n  mutate(시도명 = if_else(names %in% \n                         c(\"서울특별시\", \"부산광역시\", \"대구광역시\", \"인천광역시\",\n                           \"광주광역시\", \"대전광역시\", \"울산광역시\", \"세종특별자치시\",\n                           \"경기도\", \"강원도\", \"충청북도\", \"충청남도\", \"전라북도\", \n                           \"전라남도\", \"경상북도\", \"경상남도\", \"제주특별자치도\"), names, NA_character_)) |&gt; \n  fill(시도명, .direction = \"down\") |&gt; \n  select(시도명, 선거구명 = names, url) |&gt; \n  filter(시도명 != 선거구명) |&gt; \n  mutate(url = URLdecode(url))\n\n\nurl_tbl\n#&gt; # A tibble: 506 × 3\n#&gt;    시도명     선거구명       url                         \n#&gt;    &lt;chr&gt;      &lt;chr&gt;          &lt;chr&gt;                       \n#&gt;  1 서울특별시 종로구         /wiki/종로구_(1988년_선거구)\n#&gt;  2 서울특별시 중구·성동구 갑 /wiki/중구·성동구_갑        \n#&gt;  3 서울특별시 중구·성동구 을 /wiki/중구·성동구_을        \n#&gt;  4 서울특별시 용산구         /wiki/용산구_(1988년_선거구)\n#&gt;  5 서울특별시 광진구 갑      /wiki/광진구_갑             \n#&gt;  6 서울특별시 이낙연         /wiki/이낙연                \n#&gt;  7 서울특별시 홍익표         /wiki/홍익표_(1967년)       \n#&gt;  8 서울특별시 박성준         /wiki/박성준_(정치인)       \n#&gt;  9 서울특별시 권영세         /wiki/권영세_(1959년)       \n#&gt; 10 서울특별시 전혜숙         /wiki/전혜숙                \n#&gt; # ℹ 496 more rows"
  },
  {
    "objectID": "candidate.html#당선인-선거구",
    "href": "candidate.html#당선인-선거구",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드mp_url_tbl &lt;- url_tbl |&gt; \n  mutate(선거구명 = str_remove_all(선거구명, \"[\\\\s+|·]\")) |&gt; \n  anti_join(precinct_tbl, by = c(\"시도명\", \"선거구명\")) |&gt; \n  mutate(url = str_glue(\"https://ko.wikipedia.org{url}\")) |&gt; \n  rename(당선인 = 선거구명)\n    \n\nmp_url_tbl |&gt; \n  mutate(\n      link = glue::glue(\"[website]({url})\"),\n      link = map(link, gt::md)) |&gt; \n  select(시도명, 당선인, link) |&gt;\n  gt(groupname_col = \"시도명\") |&gt; \n  gt_theme_hangul()\n\n\n\n\n\n당선인\n      link\n    \n\n\n서울특별시\n    \n\n이낙연\nwebsite\n\n\n홍익표\nwebsite\n\n\n박성준\nwebsite\n\n\n권영세\nwebsite\n\n\n전혜숙\nwebsite\n\n\n고민정\nwebsite\n\n\n안규백\nwebsite\n\n\n장경태\nwebsite\n\n\n서영교\nwebsite\n\n\n박홍근\nwebsite\n\n\n김영배\nwebsite\n\n\n기동민\nwebsite\n\n\n천준호\nwebsite\n\n\n박용진\nwebsite\n\n\n인재근\nwebsite\n\n\n오기형\nwebsite\n\n\n고용진\nwebsite\n\n\n우원식\nwebsite\n\n\n김성환\nwebsite\n\n\n박주민\nwebsite\n\n\n강병원\nwebsite\n\n\n우상호\nwebsite\n\n\n김영호\nwebsite\n\n\n노웅래\nwebsite\n\n\n정청래\nwebsite\n\n\n황희\nwebsite\n\n\n이용선\nwebsite\n\n\n강선우\nwebsite\n\n\n진성준\nwebsite\n\n\n한정애\nwebsite\n\n\n이인영\nwebsite\n\n\n윤건영\nwebsite\n\n\n최기상\nwebsite\n\n\n김영주\nwebsite\n\n\n김민석\nwebsite\n\n\n김병기\nwebsite\n\n\n이수진\nwebsite\n\n\n유기홍\nwebsite\n\n\n정태호\nwebsite\n\n\n윤희숙\nwebsite\n\n\n박성중\nwebsite\n\n\n태구민\nwebsite\n\n\n박진\nwebsite\n\n\n유경준\nwebsite\n\n\n김웅\nwebsite\n\n\n배현진\nwebsite\n\n\n남인순\nwebsite\n\n\n진선미\nwebsite\n\n\n이해식\nwebsite\n\n\n부산광역시\n    \n\n황보승희\nwebsite\n\n\n안병길\nwebsite\n\n\n서병수\nwebsite\n\n\n이헌승\nwebsite\n\n\n김희곤\nwebsite\n\n\n박수영\nwebsite\n\n\n박재호\nwebsite\n\n\n전재수\nwebsite\n\n\n김도읍\nwebsite\n\n\n하태경\nwebsite\n\n\n김미애\nwebsite\n\n\n최인호\nwebsite\n\n\n조경태\nwebsite\n\n\n백종헌\nwebsite\n\n\n이주환\nwebsite\n\n\n전봉민\nwebsite\n\n\n장제원\nwebsite\n\n\n정동만\nwebsite\n\n\n대구광역시\n    \n\n곽상도\nwebsite\n\n\n류성걸\nwebsite\n\n\n강대식\nwebsite\n\n\n김상훈\nwebsite\n\n\n양금희\nwebsite\n\n\n김승수\nwebsite\n\n\n주호영\nwebsite\n\n\n홍준표\nwebsite\n\n\n홍석준\nwebsite\n\n\n윤재옥\nwebsite\n\n\n김용판\nwebsite\n\n\n추경호\nwebsite\n\n\n인천광역시\n    \n\n배준영\nwebsite\n\n\n허종식\nwebsite\n\n\n윤상현\nwebsite\n\n\n박찬대\nwebsite\n\n\n정일영\nwebsite\n\n\n맹성규\nwebsite\n\n\n윤관석\nwebsite\n\n\n이성만\nwebsite\n\n\n홍영표\nwebsite\n\n\n유동수\nwebsite\n\n\n송영길\nwebsite\n\n\n김교흥\nwebsite\n\n\n신동근\nwebsite\n\n\n광주광역시\n    \n\n윤영덕\nwebsite\n\n\n이병훈\nwebsite\n\n\n송갑석\nwebsite\n\n\n양향자\nwebsite\n\n\n조오섭\nwebsite\n\n\n이형석\nwebsite\n\n\n이용빈\nwebsite\n\n\n민형배\nwebsite\n\n\n대전광역시\n    \n\n장철민\nwebsite\n\n\n황운하\nwebsite\n\n\n박병석\nwebsite\n\n\n박범계\nwebsite\n\n\n조승래\nwebsite\n\n\n이상민\nwebsite\n\n\n박영순\nwebsite\n\n\n울산광역시\n    \n\n박성민\nwebsite\n\n\n이채익\nwebsite\n\n\n김기현\nwebsite\n\n\n권명호\nwebsite\n\n\n이상헌\nwebsite\n\n\n서범수\nwebsite\n\n\n세종특별자치시\n    \n\n홍성국\nwebsite\n\n\n강준현\nwebsite\n\n\n경기도\n    \n\n김승원\nwebsite\n\n\n백혜련\nwebsite\n\n\n김영진\nwebsite\n\n\n박광온\nwebsite\n\n\n김진표\nwebsite\n\n\n김태년\nwebsite\n\n\n윤영찬\nwebsite\n\n\n김은혜\nwebsite\n\n\n김병욱\nwebsite\n\n\n오영환\nwebsite\n\n\n김민철\nwebsite\n\n\n강득구\nwebsite\n\n\n민병덕\nwebsite\n\n\n이재정\nwebsite\n\n\n김경협\nwebsite\n\n\n설훈\nwebsite\n\n\n김상희\nwebsite\n\n\n서영석\nwebsite\n\n\n임오경\nwebsite\n\n\n양기대\nwebsite\n\n\n홍기원\nwebsite\n\n\n유의동\nwebsite\n\n\n김성원\nwebsite\n\n\n전해철\nwebsite\n\n\n김철민\nwebsite\n\n\n고영인\nwebsite\n\n\n김남국\nwebsite\n\n\n심상정\nwebsite\n\n\n한준호\nwebsite\n\n\n홍정민\nwebsite\n\n\n이용우\nwebsite\n\n\n이소영\nwebsite\n\n\n윤호중\nwebsite\n\n\n조응천\nwebsite\n\n\n김한정\nwebsite\n\n\n김용민\nwebsite\n\n\n안민석\nwebsite\n\n\n문정복\nwebsite\n\n\n조정식\nwebsite\n\n\n이학영\nwebsite\n\n\n최종윤\nwebsite\n\n\n정찬민\nwebsite\n\n\n김민기\nwebsite\n\n\n정춘숙\nwebsite\n\n\n이탄희\nwebsite\n\n\n윤후덕\nwebsite\n\n\n박정\nwebsite\n\n\n송석준\nwebsite\n\n\n이규민\nwebsite\n\n\n김주영\nwebsite\n\n\n박상혁\nwebsite\n\n\n송옥주\nwebsite\n\n\n이원욱\nwebsite\n\n\n권칠승\nwebsite\n\n\n소병훈\nwebsite\n\n\n임종성\nwebsite\n\n\n정성호\nwebsite\n\n\n최춘식\nwebsite\n\n\n김선교\nwebsite\n\n\n강원도\n    \n\n허영\nwebsite\n\n\n한기호\nwebsite\n\n\n이광재\nwebsite\n\n\n송기헌\nwebsite\n\n\n권성동\nwebsite\n\n\n이철규\nwebsite\n\n\n이양수\nwebsite\n\n\n유상범\nwebsite\n\n\n충청북도\n    \n\n정정순\nwebsite\n\n\n이장섭\nwebsite\n\n\n도종환\nwebsite\n\n\n변재일\nwebsite\n\n\n이종배\nwebsite\n\n\n엄태영\nwebsite\n\n\n박덕흠\nwebsite\n\n\n임호선\nwebsite\n\n\n충청남도\n    \n\n문진석\nwebsite\n\n\n박완주\nwebsite\n\n\n이정문\nwebsite\n\n\n정진석\nwebsite\n\n\n김태흠\nwebsite\n\n\n이명수\nwebsite\n\n\n강훈식\nwebsite\n\n\n성일종\nwebsite\n\n\n김종민\nwebsite\n\n\n어기구\nwebsite\n\n\n홍문표\nwebsite\n\n\n전라북도\n    \n\n김윤덕\nwebsite\n\n\n이상직\nwebsite\n\n\n김성주\nwebsite\n\n\n신영대\nwebsite\n\n\n김수흥\nwebsite\n\n\n한병도\nwebsite\n\n\n윤준병\nwebsite\n\n\n이용호\nwebsite\n\n\n이원택\nwebsite\n\n\n안호영\nwebsite\n\n\n전라남도\n    \n\n김원이\nwebsite\n\n\n주철현\nwebsite\n\n\n김회재\nwebsite\n\n\n소병철\nwebsite\n\n\n서동용\nwebsite\n\n\n신정훈\nwebsite\n\n\n이개호\nwebsite\n\n\n김승남\nwebsite\n\n\n윤재갑\nwebsite\n\n\n서삼석\nwebsite\n\n\n경상북도\n    \n\n김정재\nwebsite\n\n\n김병욱\nwebsite\n\n\n김석기\nwebsite\n\n\n송언석\nwebsite\n\n\n김형동\nwebsite\n\n\n구자근\nwebsite\n\n\n김영식\nwebsite\n\n\n박형수\nwebsite\n\n\n이만희\nwebsite\n\n\n임이자\nwebsite\n\n\n윤두현\nwebsite\n\n\n김희국\nwebsite\n\n\n정희용\nwebsite\n\n\n경상남도\n    \n\n박완수\nwebsite\n\n\n강기윤\nwebsite\n\n\n최형두\nwebsite\n\n\n윤한홍\nwebsite\n\n\n이달곤\nwebsite\n\n\n박대출\nwebsite\n\n\n강민국\nwebsite\n\n\n정점식\nwebsite\n\n\n하영제\nwebsite\n\n\n민홍철\nwebsite\n\n\n김정호\nwebsite\n\n\n조해진\nwebsite\n\n\n서일준\nwebsite\n\n\n윤영석\nwebsite\n\n\n김두관\nwebsite\n\n\n김태호\nwebsite\n\n\n제주특별자치도\n    \n\n송재호\nwebsite\n\n\n오영훈\nwebsite\n\n\n위성곤\nwebsite"
  },
  {
    "objectID": "candidate.html#저장하기",
    "href": "candidate.html#저장하기",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드## 제21대 국회의원 당선인 url\nmp_url_tbl |&gt; \n  write_rds(\"data/mp21_url_tbl.rds\")"
  },
  {
    "objectID": "candidate.html#검사-판사-현황",
    "href": "candidate.html#검사-판사-현황",
    "title": "지도제작 대회",
    "section": "\n3.1 검사, 판사 현황",
    "text": "3.1 검사, 판사 현황\n\n코드mp_url_career &lt;- \n  read_rds(\"data/mp21_url_career.rds\")\n\nmp21_career_tbl &lt;- mp_url_career |&gt; \n  mutate(경력 = map_chr(career, str_c, collapse = \";\")) |&gt; \n  mutate(검사 = str_extract_all(경력, \"사법시험|사법연수원|검사|지청장|검사장|판사\")) |&gt; \n  unnest(검사) |&gt;\n  filter(!is.na(검사)) |&gt; \n  count(당선인, 검사) |&gt; \n  pivot_wider(names_from = 검사, values_from = n, values_fill = 0) |&gt; \n  select(당선인, 사법시험, 사법연수원, 검사, 지청장, everything()) |&gt; \n  mutate(판검사 = case_when(검사 &gt; 0 ~ \"검사\",\n                            판사 &gt; 0 ~ \"판사\",\n                            TRUE ~ \"변호사\")) |&gt; \n  relocate(판검사, .after = 당선인) |&gt;\n  arrange(판검사)\n\nmp21_career_tbl |&gt; \n  gt() |&gt; \n  gt_theme_hangul() |&gt; \n  cols_align(\"center\") |&gt;\n  tab_spanner(label = \"검찰청\", columns = c(\"사법시험\", \"사법연수원\", \"검사\", \"지청장\"))\n\n\n\n\n\n\n당선인\n      판검사\n      \n        검찰청\n      \n      판사\n    \n\n사법시험\n      사법연수원\n      검사\n      지청장\n    \n\n\n\n곽상도\n검사\n1\n0\n5\n2\n0\n\n\n권성동\n검사\n1\n1\n3\n1\n0\n\n\n권영세\n검사\n1\n1\n6\n0\n0\n\n\n김도읍\n검사\n1\n1\n3\n0\n0\n\n\n김웅\n검사\n1\n1\n10\n1\n0\n\n\n김회재\n검사\n1\n1\n15\n3\n0\n\n\n박형수\n검사\n1\n1\n14\n0\n0\n\n\n백혜련\n검사\n0\n0\n5\n0\n0\n\n\n소병철\n검사\n1\n1\n11\n1\n0\n\n\n송기헌\n검사\n1\n1\n3\n0\n0\n\n\n유상범\n검사\n1\n1\n13\n3\n0\n\n\n정점식\n검사\n1\n1\n10\n3\n0\n\n\n조응천\n검사\n1\n1\n9\n1\n0\n\n\n주철현\n검사\n0\n1\n12\n2\n0\n\n\n홍준표\n검사\n0\n0\n2\n0\n0\n\n\n김미애\n변호사\n1\n1\n0\n0\n0\n\n\n김형동\n변호사\n1\n1\n0\n0\n0\n\n\n박주민\n변호사\n1\n1\n0\n0\n0\n\n\n서동용\n변호사\n1\n0\n0\n0\n0\n\n\n송영길\n변호사\n1\n0\n0\n0\n0\n\n\n오기형\n변호사\n1\n0\n0\n0\n0\n\n\n이상민\n변호사\n1\n1\n0\n0\n0\n\n\n이소영\n변호사\n1\n1\n0\n0\n0\n\n\n이재정\n변호사\n1\n0\n0\n0\n0\n\n\n이정문\n변호사\n1\n1\n0\n0\n0\n\n\n정성호\n변호사\n1\n1\n0\n0\n0\n\n\n진선미\n변호사\n1\n1\n0\n0\n0\n\n\n홍정민\n변호사\n1\n1\n0\n0\n0\n\n\n김기현\n판사\n1\n1\n0\n0\n2\n\n\n김승원\n판사\n1\n1\n0\n0\n2\n\n\n민홍철\n판사\n0\n0\n0\n0\n1\n\n\n박범계\n판사\n0\n0\n0\n0\n3\n\n\n이수진\n판사\n1\n1\n0\n0\n4\n\n\n이탄희\n판사\n1\n1\n0\n0\n5\n\n\n주호영\n판사\n1\n0\n0\n0\n6\n\n\n최기상\n판사\n1\n1\n0\n0\n7"
  },
  {
    "objectID": "candidate.html#제21대-당선인-법조인",
    "href": "candidate.html#제21대-당선인-법조인",
    "title": "지도제작 대회",
    "section": "\n3.2 제21대 당선인 + 법조인",
    "text": "3.2 제21대 당선인 + 법조인\n\n코드precinct_tbl &lt;- total_elected_all |&gt; \n  filter(sgId == \"20200415\") |&gt; \n  select(result) |&gt; \n  unnest(result) |&gt; \n  select(시도명 = sdName, 선거구명 = sggName, 정당명=jdName, 당선인 = name)\n\n\nmp21_precinct_career &lt;- precinct_tbl |&gt; \n  filter(선거구명 != \"비례대표\") |&gt; \n  left_join(mp21_career_tbl, by = \"당선인\") |&gt; \n  mutate(법조인 = ifelse(is.na(판검사), \"비법조인\", 판검사)) \n\n  \ngrand_pcnt_func &lt;- function(dataframe) {\n  prosecutor_rate &lt;- dataframe  |&gt; \n    count(판검사) |&gt; \n    mutate(검사비율 = n / sum(n)) |&gt; \n    filter(판검사 == \"검사\") |&gt; \n    pull(검사비율)\n\n  return (prosecutor_rate)\n}  \n\nmp21_precinct_career_gt &lt;- mp21_precinct_career |&gt; \n  group_by(정당명, 법조인) |&gt; \n  summarise(법조인수 = n()) |&gt; \n  pivot_wider(names_from = 법조인, values_from = 법조인수, values_fill = 0) |&gt; \n  ungroup() |&gt; \n  arrange(desc(비법조인)) |&gt; \n  select(정당명, 비법조인, 변호사, 판사, 검사) |&gt;\n  janitor::adorn_totals(c(\"col\"), name = \"합계\")  |&gt; \n  mutate(검사비율 = 검사 / 합계) |&gt;\n  gt(rowname_col = \"정당명\") |&gt; \n  gt_theme_hangul() |&gt; \n  cols_align(\"center\") |&gt;\n  tab_spanner(label = \"법조인\", columns = c(\"검사\", \"판사\", \"변호사\")) |&gt; \n  grand_summary_rows(\n    fns =  list(label = \"합계\", id = \"totals\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"bottom\"\n  ) |&gt; \n  fmt_percent(columns = 검사비율, decimals = 1)  |&gt; \n  grand_summary_rows (\n    columns = 검사비율,\n    fns =   list(\"합계\" = ~grand_pcnt_func(mp21_precinct_career)),\n    fmt = ~ fmt_percent(., decimals = 1)\n  ) |&gt;\n  tab_header(title = \"제21대 총선 법조인 당선인 통계\") |&gt;\n  tab_footnote(\n    footnote = \"위키백과: 대한민국_제21대_국회의원_선거\",\n    locations = cells_title(groups = \"title\")\n  ) |&gt; \n  tab_style(\n    style = cell_text(color = \"red\", weight = \"bold\", size = \"large\"),\n    locations = cells_body(\n      columns = c(검사비율, 검사), \n      rows = 정당명 == \"미래통합당\"\n    )) |&gt; \n  tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", size = \"large\"),\n    locations = cells_body(\n      columns = c(검사), \n      rows = 정당명 == \"무소속\"\n    )) |&gt;   \n  tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", size = \"large\"),\n        locations = cells_grand_summary(\n      columns = c(\"검사비율\")\n    )) |&gt;   \n  tab_footnote(\n    footnote = \"대구 수성구을(홍준표), 강원 강릉시(권성동)\",\n    locations = cells_body(columns = 검사, rows = 정당명 == \"무소속\")\n  )\n\nmp21_precinct_career_gt\n\n\n\n\n\n\n제21대 총선 법조인 당선인 통계1\n\n    \n\n\n      비법조인\n      \n        법조인\n      \n      합계\n      검사비율\n    \n\n검사\n      판사\n      변호사\n    \n\n\n\n더불어민주당\n140\n6\n6\n11\n163\n3.7%\n\n\n미래통합당\n73\n7\n2\n2\n84\n8.3%\n\n\n무소속\n3\n22\n\n0\n0\n5\n40.0%\n\n\n정의당\n1\n0\n0\n0\n1\n0.0%\n\n\n합계\n217\n15\n8\n13\n253\n5.9%\n\n\n\n\n\n1 위키백과: 대한민국_제21대_국회의원_선거\n    \n\n\n2 대구 수성구을(홍준표), 강원 강릉시(권성동)\n    \n\n\n\n\n코드\n# mp21_precinct_career_gt |&gt; \n#   gtsave(\"images/mp21_precinct_career_gt.png\")\n\n\n\n코드mp21_precinct_career |&gt; \n  filter(판검사 == \"검사\") |&gt; \n  count(정당명, 당선인, 시도명, 선거구명) |&gt; \n  arrange(정당명, 시도명) |&gt;\n  select(-n) |&gt; \n  group_by(정당명) |&gt;\n  gt() |&gt; \n  gt_theme_hangul() |&gt; \n  cols_align(\"center\")\n\n\n\n\n\n당선인\n      시도명\n      선거구명\n    \n\n\n더불어민주당\n    \n\n송기헌\n강원도\n원주시을\n\n\n백혜련\n경기도\n수원시을\n\n\n조응천\n경기도\n남양주시갑\n\n\n김회재\n전라남도\n여수시을\n\n\n소병철\n전라남도\n순천시광양시곡성군구례군갑\n\n\n주철현\n전라남도\n여수시갑\n\n\n무소속\n    \n\n권성동\n강원도\n강릉시\n\n\n홍준표\n대구광역시\n수성구을\n\n\n미래통합당\n    \n\n유상범\n강원도\n홍천군횡성군영월군평창군\n\n\n정점식\n경상남도\n통영시고성군\n\n\n박형수\n경상북도\n영주시영양군봉화군울진군\n\n\n곽상도\n대구광역시\n중구남구\n\n\n김도읍\n부산광역시\n북구강서구을\n\n\n권영세\n서울특별시\n용산구\n\n\n김웅\n서울특별시\n송파구갑"
  },
  {
    "objectID": "watermellon.html",
    "href": "watermellon.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "민주당 수박 감별기: 수박감별 구글 스프레드시트에 공개되어 있다.\n\n코드library(tidyverse)\nlibrary(rvest)\nlibrary(gt)\nlibrary(gtExtras)\n\nwm_url &lt;- \"https://docs.google.com/spreadsheets/d/e/2PACX-1vTDEYwVAwrKp7HaW0U_HEfuTVd5yHNuM5mT1T28X-b6ChKlJdgvCweDY1nKJ7bT_14XQABRmL4_LdGS/pubhtml?gid=487059203\"\n\nwm_raw &lt;- read_html(wm_url) |&gt; \n  html_element(\"table\") |&gt;\n  html_table(header = TRUE)\n\nwm_tbl &lt;- wm_raw |&gt; \n  janitor::row_to_names(row_number = 1)  |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  rename(\"성명\" = x) |&gt; \n  slice(2:n()) |&gt; \n  select(-na, -x1)\n\nwm_tbl |&gt; \n  reactable::reactable()"
  },
  {
    "objectID": "watermellon.html#검사탄핵",
    "href": "watermellon.html#검사탄핵",
    "title": "지도제작 대회",
    "section": "\n2.1 검사탄핵",
    "text": "2.1 검사탄핵\n\n코드wm_tbl |&gt; \n  mutate(검사탄핵 = ifelse(검사_탄핵 == \"검사탄핵\", \"탄핵\", \"탄핵반대\")) |&gt;    \n  count(검사탄핵, name = \"의원수\") |&gt; \n  mutate(비율 = 의원수 / sum(의원수)) |&gt; \n  gt::gt(rowname_col = \"검사탄핵\") |&gt;\n  cols_align(align = \"center\", columns = everything()) |&gt;\n  fmt_percent(columns = 비율, decimals = 1) |&gt;\n  gt::grand_summary_rows(\n    columns = c(의원수),\n    fns = list(\"합계\" = ~sum(., na.rm = TRUE)),\n    formatter = fmt_number, \n    decimals = 0\n  ) |&gt; \n  gt::grand_summary_rows(\n    columns = c(비율),\n    fns = list(\"합계\" = ~sum(., na.rm = TRUE)),\n    formatter = fmt_percent, \n    decimals = 0\n  ) |&gt; \n  gt_theme_hangul() |&gt; \n  tab_header(\n    title = \"민주당 의원 검사탄핵 의원수 및 비율\",\n    subtitle = \"자료출처: 민주당 수박 감별기\"\n  ) |&gt; \n  gt::tab_footnote(\n    footnote = \"https://bit.ly/48Ftfjb\",\n    locations = cells_title(\"subtitle\")\n  ) |&gt; \n  opt_align_table_header(align = \"left\") |&gt; \n  tab_style(\n    style = cell_text(align = \"center\"),\n    locations = cells_stub_grand_summary()\n  )\n\n\n\n\n\n\n민주당 의원 검사탄핵 의원수 및 비율\n    \n\n자료출처: 민주당 수박 감별기1\n\n    \n\n\n      의원수\n      비율\n    \n\n\n\n탄핵\n100\n59.5%\n\n\n탄핵반대\n68\n40.5%\n\n\n합계\n168\n100%\n\n\n\n\n1 https://bit.ly/48Ftfjb"
  },
  {
    "objectID": "watermellon.html#불체포-포기",
    "href": "watermellon.html#불체포-포기",
    "title": "지도제작 대회",
    "section": "\n2.2 불체포 포기",
    "text": "2.2 불체포 포기\n\n코드wm_tbl |&gt; \n  mutate(의원체포 = ifelse(불체포_포기 == \"불체포포기\", \"체포\", \"불체포\")) |&gt;\n  count(의원체포, name = \"의원수\") |&gt; \n  mutate(비율 = 의원수 / sum(의원수)) |&gt; \n  # janitor::adorn_totals(\"row\", name = \"합계\")\n  gt::gt(rowname_col = \"의원체포\") |&gt;\n  cols_align(align = \"center\", columns = everything()) |&gt;\n  fmt_percent(columns = 비율, decimals = 1) |&gt;\n  gt::grand_summary_rows(\n    columns = c(의원수),\n    fns = list(\"합계\" = ~sum(., na.rm = TRUE)),\n    formatter = fmt_number, \n    decimals = 0\n  ) |&gt; \n  gt::grand_summary_rows(\n    columns = c(비율),\n    fns = list(\"합계\" = ~sum(., na.rm = TRUE)),\n    formatter = fmt_percent, \n    decimals = 0\n  ) |&gt; \n  gt_theme_hangul() |&gt; \n  tab_header(\n    title = \"민주당 의원 의원불체포 의원수 및 비율\",\n    subtitle = \"자료출처: 민주당 수박 감별기\"\n  ) |&gt; \n  gt::tab_footnote(\n    footnote = \"https://bit.ly/48Ftfjb\",\n    locations = cells_title(\"subtitle\")\n  ) |&gt; \n  opt_align_table_header(align = \"left\") |&gt; \n  tab_style(\n    style = cell_text(align = \"center\"),\n    locations = cells_stub_grand_summary()\n  )\n\n\n\n\n\n\n민주당 의원 의원불체포 의원수 및 비율\n    \n\n자료출처: 민주당 수박 감별기1\n\n    \n\n\n      의원수\n      비율\n    \n\n\n\n불체포\n137\n81.5%\n\n\n체포\n31\n18.5%\n\n\n합계\n168\n100%\n\n\n\n\n1 https://bit.ly/48Ftfjb"
  },
  {
    "objectID": "watermellon.html#대의원1인1표제",
    "href": "watermellon.html#대의원1인1표제",
    "title": "지도제작 대회",
    "section": "\n2.3 대의원1인1표제",
    "text": "2.3 대의원1인1표제\n\n코드wm_tbl |&gt; \n  mutate(대의원1인1표제 = ifelse(대의원1인1표제_반대 == \"대의원1인1표제 반대\", \"반대\", \"찬성\")) |&gt;\n  count(대의원1인1표제, name = \"의원수\") |&gt; \n  mutate(비율 = 의원수 / sum(의원수)) |&gt; \n  # janitor::adorn_totals(\"row\", name = \"합계\")\n  arrange(desc(의원수)) |&gt; \n  gt::gt(rowname_col = \"대의원1인1표제\") |&gt;\n  cols_align(align = \"center\", columns = everything()) |&gt;\n  fmt_percent(columns = 비율, decimals = 1) |&gt;\n  gt::grand_summary_rows(\n    columns = c(의원수),\n    fns = list(\"합계\" = ~sum(., na.rm = TRUE)),\n    formatter = fmt_number, \n    decimals = 0\n  ) |&gt; \n  gt::grand_summary_rows(\n    columns = c(비율),\n    fns = list(\"합계\" = ~sum(., na.rm = TRUE)),\n    formatter = fmt_percent, \n    decimals = 0\n  ) |&gt; \n  gt_theme_hangul() |&gt; \n  tab_header(\n    title = \"민주당 의원 의원불체포 의원수 및 비율\",\n    subtitle = \"자료출처: 민주당 수박 감별기\"\n  ) |&gt; \n  gt::tab_footnote(\n    footnote = \"https://bit.ly/48Ftfjb\",\n    locations = cells_title(\"subtitle\")\n  ) |&gt; \n  opt_align_table_header(align = \"left\") |&gt; \n  tab_style(\n    style = cell_text(align = \"center\"),\n    locations = cells_stub_grand_summary()\n  )  \n\n\n\n\n\n\n민주당 의원 의원불체포 의원수 및 비율\n    \n\n자료출처: 민주당 수박 감별기1\n\n    \n\n\n      의원수\n      비율\n    \n\n\n\n찬성\n154\n91.7%\n\n\n반대\n14\n8.3%\n\n\n합계\n168\n100%\n\n\n\n\n1 https://bit.ly/48Ftfjb"
  },
  {
    "objectID": "gs_position.html",
    "href": "gs_position.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "서울시 자치구별 지역내총생산(2015년 기준) 통계\n\n코드library(tidyverse)\nlibrary(readxl)\n\ngrdp_raw &lt;- read_excel(\"data/자치구별+지역내총생산(2015년+기준)_20231011134915.xlsx\", skip = 0)\n\ngrdp_tbl &lt;- grdp_raw |&gt;\n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(자치구 = 자치구별_2, contains(\"x2020\")) |&gt; \n  janitor::row_to_names(row_number = 1) |&gt; \n  set_names(c(\"자치구\", \"GRDP\", \"GRDP_pcnt\", \"GRDP_2\", \"GRDP_pcnt2\")) |&gt; \n  select(자치구, GRDP) |&gt; \n  mutate( GRDP = parse_number(GRDP)) |&gt; \n  filter(자치구 != \"소계\") |&gt; mutate(GRDP = GRDP / 1000000 )\n\ngrdp_tbl\n#&gt; # A tibble: 25 × 2\n#&gt;    자치구    GRDP\n#&gt;    &lt;chr&gt;    &lt;dbl&gt;\n#&gt;  1 종로구   33.9 \n#&gt;  2 중구     56.1 \n#&gt;  3 용산구   12.8 \n#&gt;  4 성동구   12.4 \n#&gt;  5 광진구    6.45\n#&gt;  6 동대문구  7.40\n#&gt;  7 중랑구    4.75\n#&gt;  8 성북구    6.19\n#&gt;  9 강북구    3.36\n#&gt; 10 도봉구    3.50\n#&gt; # ℹ 15 more rows\n\n\n\n\n코드pop_raw &lt;- read_csv(\"data/202308_202308_주민등록인구및세대현황_월간.csv\",\n                   locale = locale('ko',encoding='euc-kr'))\n\nseoul_pop &lt;- pop_raw |&gt; \n  select(구명 = 행정구역, 인구수 = `2023년08월_총인구수`) |&gt; \n  mutate(구명 = str_extract(구명, \"\\\\w+구\")) |&gt; \n  drop_na() |&gt; \n  mutate(강북강남 = ifelse(구명 %in% c(\"은평구\", \"서대문구\", \"마포구\", \"종로구\", \"중구\", \"용산구\", \"동대문구\", \"성동구\", \"성북구\", \"중랑구\", \"광진구\", \"강북구\", \"도봉구\", \"노원구\"), \"강북\", \"강남\")) |&gt; \n  mutate(인구수 = 인구수 / 10000)\n\nseoul_pop\n#&gt; # A tibble: 25 × 3\n#&gt;    구명     인구수 강북강남\n#&gt;    &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   \n#&gt;  1 종로구     14.0 강북    \n#&gt;  2 중구       12.1 강북    \n#&gt;  3 용산구     21.7 강북    \n#&gt;  4 성동구     27.9 강북    \n#&gt;  5 광진구     33.6 강북    \n#&gt;  6 동대문구   34.0 강북    \n#&gt;  7 중랑구     38.3 강북    \n#&gt;  8 성북구     42.8 강북    \n#&gt;  9 강북구     29.1 강북    \n#&gt; 10 도봉구     30.8 강북    \n#&gt; # ℹ 15 more rows\n\n\n\n\n코드pop_grdp &lt;- seoul_pop |&gt; \n  left_join(grdp_tbl, by = c(\"구명\" = \"자치구\"))\n\npop_grdp\n#&gt; # A tibble: 25 × 4\n#&gt;    구명     인구수 강북강남  GRDP\n#&gt;    &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;\n#&gt;  1 종로구     14.0 강북     33.9 \n#&gt;  2 중구       12.1 강북     56.1 \n#&gt;  3 용산구     21.7 강북     12.8 \n#&gt;  4 성동구     27.9 강북     12.4 \n#&gt;  5 광진구     33.6 강북      6.45\n#&gt;  6 동대문구   34.0 강북      7.40\n#&gt;  7 중랑구     38.3 강북      4.75\n#&gt;  8 성북구     42.8 강북      6.19\n#&gt;  9 강북구     29.1 강북      3.36\n#&gt; 10 도봉구     30.8 강북      3.50\n#&gt; # ℹ 15 more rows"
  },
  {
    "objectID": "gs_position.html#대통령-선거",
    "href": "gs_position.html#대통령-선거",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\nlibrary(tidyverse)"
  },
  {
    "objectID": "gs_position.html#grdp",
    "href": "gs_position.html#grdp",
    "title": "지도제작 대회",
    "section": "",
    "text": "서울시 자치구별 지역내총생산(2015년 기준) 통계\n\n코드library(tidyverse)\nlibrary(readxl)\n\ngrdp_raw &lt;- read_excel(\"data/자치구별+지역내총생산(2015년+기준)_20231011134915.xlsx\", skip = 0)\n\ngrdp_tbl &lt;- grdp_raw |&gt;\n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(자치구 = 자치구별_2, contains(\"x2020\")) |&gt; \n  janitor::row_to_names(row_number = 1) |&gt; \n  set_names(c(\"자치구\", \"GRDP\", \"GRDP_pcnt\", \"GRDP_2\", \"GRDP_pcnt2\")) |&gt; \n  select(자치구, GRDP) |&gt; \n  mutate( GRDP = parse_number(GRDP)) |&gt; \n  filter(자치구 != \"소계\") |&gt; mutate(GRDP = GRDP / 1000000 )\n\ngrdp_tbl\n#&gt; # A tibble: 25 × 2\n#&gt;    자치구    GRDP\n#&gt;    &lt;chr&gt;    &lt;dbl&gt;\n#&gt;  1 종로구   33.9 \n#&gt;  2 중구     56.1 \n#&gt;  3 용산구   12.8 \n#&gt;  4 성동구   12.4 \n#&gt;  5 광진구    6.45\n#&gt;  6 동대문구  7.40\n#&gt;  7 중랑구    4.75\n#&gt;  8 성북구    6.19\n#&gt;  9 강북구    3.36\n#&gt; 10 도봉구    3.50\n#&gt; # ℹ 15 more rows"
  },
  {
    "objectID": "gs_position.html#인구수",
    "href": "gs_position.html#인구수",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드pop_raw &lt;- read_csv(\"data/202308_202308_주민등록인구및세대현황_월간.csv\",\n                   locale = locale('ko',encoding='euc-kr'))\n\nseoul_pop &lt;- pop_raw |&gt; \n  select(구명 = 행정구역, 인구수 = `2023년08월_총인구수`) |&gt; \n  mutate(구명 = str_extract(구명, \"\\\\w+구\")) |&gt; \n  drop_na() |&gt; \n  mutate(강북강남 = ifelse(구명 %in% c(\"은평구\", \"서대문구\", \"마포구\", \"종로구\", \"중구\", \"용산구\", \"동대문구\", \"성동구\", \"성북구\", \"중랑구\", \"광진구\", \"강북구\", \"도봉구\", \"노원구\"), \"강북\", \"강남\")) |&gt; \n  mutate(인구수 = 인구수 / 10000)\n\nseoul_pop\n#&gt; # A tibble: 25 × 3\n#&gt;    구명     인구수 강북강남\n#&gt;    &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   \n#&gt;  1 종로구     14.0 강북    \n#&gt;  2 중구       12.1 강북    \n#&gt;  3 용산구     21.7 강북    \n#&gt;  4 성동구     27.9 강북    \n#&gt;  5 광진구     33.6 강북    \n#&gt;  6 동대문구   34.0 강북    \n#&gt;  7 중랑구     38.3 강북    \n#&gt;  8 성북구     42.8 강북    \n#&gt;  9 강북구     29.1 강북    \n#&gt; 10 도봉구     30.8 강북    \n#&gt; # ℹ 15 more rows"
  },
  {
    "objectID": "gs_position.html#인구-grdp",
    "href": "gs_position.html#인구-grdp",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드pop_grdp &lt;- seoul_pop |&gt; \n  left_join(grdp_tbl, by = c(\"구명\" = \"자치구\"))\n\npop_grdp\n#&gt; # A tibble: 25 × 4\n#&gt;    구명     인구수 강북강남  GRDP\n#&gt;    &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;\n#&gt;  1 종로구     14.0 강북     33.9 \n#&gt;  2 중구       12.1 강북     56.1 \n#&gt;  3 용산구     21.7 강북     12.8 \n#&gt;  4 성동구     27.9 강북     12.4 \n#&gt;  5 광진구     33.6 강북      6.45\n#&gt;  6 동대문구   34.0 강북      7.40\n#&gt;  7 중랑구     38.3 강북      4.75\n#&gt;  8 성북구     42.8 강북      6.19\n#&gt;  9 강북구     29.1 강북      3.36\n#&gt; 10 도봉구     30.8 강북      3.50\n#&gt; # ℹ 15 more rows"
  },
  {
    "objectID": "gs_position.html#인구수와-grdp",
    "href": "gs_position.html#인구수와-grdp",
    "title": "지도제작 대회",
    "section": "\n2.1 인구수와 GRDP",
    "text": "2.1 인구수와 GRDP\n\n코드library(ggrepel)\n\npop_grdp |&gt; \n  ggplot(aes(x = 인구수, y = GRDP)) +\n    geom_point() +\n    theme_minimal(base_family=\"MaruBrui\") +\n    theme(legend.position = \"none\") +\n    labs(title = \"서울시 자치구 인구수와 지역내총생산\",\n         x = \"인구수(만명)\",\n         y = \"지역내총생산(조원)\") +\n    scale_x_continuous(labels = scales::unit_format(unit = \" 만명\", sep = \"\")) +\n    scale_y_continuous(labels = scales::unit_format(unit = \" 조원\", sep = \"\")) +\n    geom_text_repel(aes(label = 구명),\n                    size = 4.5, min.segment.length = 0, force = 0.5, max.overlaps=Inf,\n                    color = \"black\")"
  },
  {
    "objectID": "gs_position.html#인구수와-1인당-grdp",
    "href": "gs_position.html#인구수와-1인당-grdp",
    "title": "지도제작 대회",
    "section": "\n2.2 인구수와 1인당 GRDP",
    "text": "2.2 인구수와 1인당 GRDP\n\n코드pop_grdp |&gt; \n  mutate(인당GRDP = GRDP / 인구수) |&gt; \n  ggplot(aes(x = 인구수, y = 인당GRDP)) +\n    geom_point() +\n    theme_minimal(base_family=\"MaruBrui\") +\n    theme(legend.position = \"none\") +\n    labs(title = \"서울시 자치구 인구수와 1인당 지역내총생산\",\n         x = \"인구수(만명)\",\n         y = \"인당 지역내총생산(조원)\") +\n    scale_x_continuous(labels = scales::unit_format(unit = \" 만명\", sep = \"\")) +\n    scale_y_continuous(labels = scales::unit_format(unit = \" 조원\", sep = \"\")) +\n    geom_text_repel(aes(label = 구명),\n                    size = 4.5, min.segment.length = 0, \n                    force = 0.5, max.overlaps=Inf, color = \"black\")"
  },
  {
    "objectID": "gs_position.html#재보궐-선거",
    "href": "gs_position.html#재보궐-선거",
    "title": "지도제작 대회",
    "section": "\n3.1 2021 재보궐 선거",
    "text": "3.1 2021 재보궐 선거\n\n코드by_election_2021_vote &lt;- krvote::by_election_2021 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군 == \"강서구\")  |&gt; \n  filter(후보 != \"후보_계\",\n         읍면동명 != \"합계\",\n         구분 != \"계\") |&gt; \n  select(읍면동명, 구분, 후보,  득표수) |&gt; \n  mutate(정당 = case_when(\n    str_detect(후보, \"국민의힘\") ~ \"국민의힘\",\n    str_detect(후보, \"더불어민주당\") ~ \"민주당\",\n    TRUE ~ \"기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(득표수 = sum(득표수)) |&gt; \n  pivot_wider(names_from = 정당, values_from = 득표수) |&gt; \n  mutate(선거 = \"2021 서울시장\") \n\nby_election_2021_cast &lt;- krvote::by_election_2021 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군 == \"강서구\")  |&gt; \n  select(구시군, 읍면동명, 선거인수, 투표수) |&gt; \n  filter(읍면동명 == \"합계\") |&gt; \n  distinct_all() |&gt; \n  mutate(투표율 = 투표수 / 선거인수) |&gt; \n  select(선거인수, 투표수)\n\nby_election_2021 &lt;- bind_cols(by_election_2021_cast, by_election_2021_vote) |&gt; \n  select(선거, everything())\n\nby_election_2021\n#&gt; # A tibble: 1 × 6\n#&gt;   선거          선거인수 투표수 국민의힘  기타 민주당\n#&gt;   &lt;chr&gt;            &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;\n#&gt; 1 2021 서울시장   505314 284823   152517  9824 120310"
  },
  {
    "objectID": "gs_position.html#대통령선거",
    "href": "gs_position.html#대통령선거",
    "title": "지도제작 대회",
    "section": "\n3.2 2022 대통령선거",
    "text": "3.2 2022 대통령선거\n\n코드# 투표율\npresident_2022_cast &lt;- krvote::election_20220309$득표율 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군명 == \"강서구\")  |&gt;\n  summarise(선거인수 = sum(선거인수),\n            투표수 = sum(투표수))\n\npresident_2022_vote &lt;- krvote::election_20220309$득표율 |&gt; \n  filter(시도명 == \"서울특별시\",\n         구시군명 == \"강서구\") |&gt;\n  pivot_longer(이재명:김민찬, names_to = \"후보\", values_to = \"득표수\") |&gt;\n  mutate(정당 = case_when(\n    str_detect(후보, \"윤석열\") ~ \"국민의힘\",\n    str_detect(후보, \"이재명\") ~ \"민주당\",\n    TRUE ~ \"기타\")) |&gt; \n  group_by(정당) |&gt; \n  summarise(득표수 = sum(득표수)) |&gt; \n  pivot_wider(names_from = 정당, values_from = 득표수) |&gt; \n  mutate(선거 = \"2022 대통령선거\")   \n   \n\npresident_2022 &lt;- bind_cols(president_2022_cast, president_2022_vote) |&gt; \n  select(선거, everything())\n\npresident_2022\n#&gt; # A tibble: 1 × 6\n#&gt;   선거            선거인수 투표수 국민의힘  기타 민주당\n#&gt;   &lt;chr&gt;              &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;\n#&gt; 1 2022 대통령선거   504185 390247   181510 14866 190000"
  },
  {
    "objectID": "gs_position.html#국회의원선거",
    "href": "gs_position.html#국회의원선거",
    "title": "지도제작 대회",
    "section": "\n3.3 2020 국회의원선거",
    "text": "3.3 2020 국회의원선거\n\n코드chongsun_2020 &lt;- krvote::general_2020 |&gt; \n  filter(시도 == \"서울\",\n         str_detect(선거구, \"^강서\")) |&gt; \n  unnest(data) |&gt; \n  mutate(구분 = ifelse(stringi::stri_enc_isutf8(구분), 구분, \n                     iconv(구분, from = \"euc-kr\", to =\"utf-8\") )) |&gt; \n  filter(!구분 %in% c(\"계\", \"기권수\", \"무표투표수\")) |&gt;\n  mutate(후보 = case_when(\n    str_detect(구분, \"더불어민주당\") ~ \"민주당\",\n    str_detect(구분, \"미래통합당\") ~ \"국민의힘\",\n    str_detect(구분, \"선거인수\") ~ \"선거인수\",\n    str_detect(구분, \"투표수\") ~ \"투표수\",\n    TRUE ~ \"기타\")) |&gt; \n  group_by(후보) |&gt; \n  summarise(사람수 = sum(사람수)) |&gt; \n  pivot_wider(names_from = 후보, values_from = 사람수) |&gt; \n  mutate(선거 = \"2020 국회의원\") |&gt; \n  select(선거, 선거인수, 투표수, 국민의힘, 기타, 민주당)\n\nchongsun_2020\n#&gt; # A tibble: 1 × 6\n#&gt;   선거          선거인수 투표수 국민의힘  기타 민주당\n#&gt;   &lt;chr&gt;            &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;\n#&gt; 1 2020 국회의원   511124 343759   133155 12084 194596"
  },
  {
    "objectID": "gs_position.html#년-보궐선거",
    "href": "gs_position.html#년-보궐선거",
    "title": "지도제작 대회",
    "section": "\n3.4 2023년 보궐선거",
    "text": "3.4 2023년 보궐선거\n\n코드library(readxl)\n\nby_election_2023_raw &lt;- read_excel(\"data/[2023년_하반기_재·보궐선거]_개표진행상황.xlsx\",\n                                   skip = 5)\n\nby_election_2023 &lt;- by_election_2023_raw |&gt;\n  set_names(c(\"선거구명\", \"구시군명\", \"선거인수\", \"투표수\", \"더불어민주당\\n진교훈\", \n\"국민의힘\\n김태우\", \"정의당\\n권수정\", \"x8\", \"진보당\\n권혜인\", \n\"녹색당\\n김유리\", \"자유통일당\\n고영일\", \"계\", \n\"무효투표수\", \"기권수\", \"개표율\")) |&gt; \n  filter(!is.na(구시군명)) |&gt; \n  pivot_longer(cols = contains(\"\\n\"), names_to = \"후보\",\n              values_to = \"사람수\") |&gt; \n  select(구시군명, 선거인수, 투표수, 후보, 사람수) |&gt; \n  mutate(사람수 = parse_number(사람수)) |&gt; \n  mutate(후보 = case_when(\n    str_detect(후보, \"더불어민주당\") ~ \"민주당\",\n    str_detect(후보, \"국민의힘\") ~ \"국민의힘\",\n    TRUE ~ \"기타\")) |&gt; \n  group_by(선거인수, 투표수, 후보) |&gt; \n  summarise(사람수 = sum(사람수)) |&gt; \n  ungroup() |&gt; \n  pivot_wider(names_from = 후보, values_from = 사람수) |&gt; \n  mutate(선거 = \"2023 재보궐\") |&gt; \n  select(선거, 선거인수, 투표수, 국민의힘, 기타, 민주당) |&gt; \n  mutate(선거인수 = parse_number(선거인수),\n         투표수 = parse_number(투표수))"
  },
  {
    "objectID": "gs_position.html#년-지방선거",
    "href": "gs_position.html#년-지방선거",
    "title": "지도제작 대회",
    "section": "\n3.5 2022년 지방선거",
    "text": "3.5 2022년 지방선거\n\n코드local_2022_vote &lt;- krvote::local_sido_20220601 |&gt; \n  filter(선거구명 == \"서울특별시\") |&gt; \n  unnest(data) |&gt; \n  filter(구시군명 == \"강서구\") |&gt; \n  pivot_longer(더불어민주당_송영길:무소속_김광종) |&gt; \n  mutate(정당 = case_when(\n    str_detect(name, \"더불어민주당\") ~ \"민주당\",\n    str_detect(name, \"국민의힘\") ~ \"국민의힘\",\n    TRUE ~ \"기타\")) |&gt; \n  group_by(정당) |&gt;\n  summarise(사람수 = sum(value)) |&gt; \n  pivot_wider(names_from = 정당, values_from = 사람수) |&gt; \n  mutate(선거 = \"2022 서울시장\")     \n\nlocal_2022_cast &lt;- krvote::local_sido_20220601 |&gt; \n  filter(선거구명 == \"서울특별시\") |&gt; \n  unnest(data) |&gt; \n  filter(구시군명 == \"강서구\") |&gt; \n  summarise(선거인수 = sum(선거인수), 투표수 = sum(투표수))\n\nlocal_2023 &lt;- bind_cols(local_2022_cast, local_2022_vote) |&gt; \n  select(선거, everything())\n\nlocal_2023\n#&gt; # A tibble: 1 × 6\n#&gt;   선거          선거인수 투표수 국민의힘  기타 민주당\n#&gt;   &lt;chr&gt;            &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;\n#&gt; 1 2022 서울시장   504606 260947   145128  4664 108938"
  },
  {
    "objectID": "gs_position.html#데이터-결합",
    "href": "gs_position.html#데이터-결합",
    "title": "지도제작 대회",
    "section": "\n3.6 데이터 결합",
    "text": "3.6 데이터 결합\n\n코드gs_tbl &lt;- bind_rows(by_election_2021, president_2022, chongsun_2020, by_election_2023, local_2023) |&gt; \n  mutate(선거 = factor(선거, levels = c(\"2020 국회의원\", \"2021 서울시장\",\n                                        \"2022 대통령선거\", \"2022 서울시장\", \"2023 재보궐\"))) |&gt; \n  arrange(선거)\n\ngs_tbl\n#&gt; # A tibble: 5 × 6\n#&gt;   선거            선거인수 투표수 국민의힘  기타 민주당\n#&gt;   &lt;fct&gt;              &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;\n#&gt; 1 2020 국회의원     511124 343759   133155 12084 194596\n#&gt; 2 2021 서울시장     505314 284823   152517  9824 120310\n#&gt; 3 2022 대통령선거   504185 390247   181510 14866 190000\n#&gt; 4 2022 서울시장     504606 260947   145128  4664 108938\n#&gt; 5 2023 재보궐       500603 243664    95492  9950 137066"
  },
  {
    "objectID": "gs_position.html#투표율",
    "href": "gs_position.html#투표율",
    "title": "지도제작 대회",
    "section": "\n4.1 투표율",
    "text": "4.1 투표율\n\n코드gs_tbl |&gt;\n  select(선거, 선거인수, 투표수) |&gt; \n  pivot_longer(-선거) |&gt; \n  mutate(name = factor(name, levels = c(\"투표수\", \"선거인수\"))) |&gt;\n  ggplot(aes(x = 선거, y = value, fill = name, \n             width = ifelse(name == \"투표수\", 0.2, 0.4))) +\n    geom_col(stat = \"identity\") +\n    theme_bw(base_family = \"NanumGothic\") +\n    theme(legend.position = \"top\",\n          axis.text.y = element_text(size = rel(1.5), colour = \"gray35\", family = \"NanumBarunpen\", face=\"bold\"),\n          axis.text.x = element_text(size = rel(1.0), colour = \"black\", family = \"NanumBarunpen\", face=\"bold\",\n                                     angle = 0, vjust = 0.5, hjust=0.5),\n          strip.background=element_rect(fill=\"gray95\"),\n          plot.title=element_text(size=18, face=\"bold\", family = \"NanumBarunpen\"),\n          plot.subtitle=element_text(face=\"bold\", size=13, colour=\"grey10\", family = \"NanumBarunpen\")) +\n    labs(x        = \"\",\n         y        = \"\",\n         title    = \"강서구 선거인수와 투표수\",\n         caption  = \"자료 출처: 중앙선거관리위원회 선거통계 시스템\",\n         fill     = \"\") +\n    scale_y_continuous(labels = scales::comma, limits = c(0, 530000)) +\n    scale_fill_manual(values = c(\"darkblue\", \"gray77\")) +\n    coord_flip() +\n    geom_text(aes(label = scales::comma(value)), \n              hjust = -0.1, size = 2.5, \n              family = \"NanumBarunpen\")"
  },
  {
    "objectID": "gs_position.html#득표수",
    "href": "gs_position.html#득표수",
    "title": "지도제작 대회",
    "section": "\n4.2 득표수",
    "text": "4.2 득표수\n\n코드gs_tbl |&gt;\n  select(-선거인수, -투표수) |&gt;   \n  pivot_longer(-선거) |&gt;\n  filter(name != \"기타\") |&gt;\n  mutate(value = ifelse(name == \"민주당\", value, -value)) |&gt; \n  ggplot(aes(x = 선거, y = value, fill = name)) +\n    geom_bar(stat = \"identity\", width = 0.5) +\n    geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray10\") + # 0을 기준으로 빨간색 점선 추가\n    labs(\n      title = \"강서구 주요선거 득표수\",\n      x = \"\",\n      y = \"득표수\",\n      fill = \"정당\"\n    ) +\n    scale_y_continuous(labels = function(x) scales::comma(abs(x))) +\n    coord_flip() +\n    scale_fill_manual(values = c(\"red\", \"darkblue\"))  +\n    theme_bw(base_family = \"NanumGothic\") +\n    theme(legend.position = \"top\",\n          axis.text.y = element_text(size = rel(1.5), colour = \"gray35\", family = \"NanumBarunpen\", face=\"bold\"),\n          axis.text.x = element_text(size = rel(1.0), colour = \"black\", family = \"NanumBarunpen\", face=\"bold\",\n                                     angle = 0, vjust = 0.5, hjust=0.5),\n          strip.background=element_rect(fill=\"gray95\"),\n          plot.title=element_text(size=18, face=\"bold\", family = \"NanumBarunpen\"),\n          plot.subtitle=element_text(face=\"bold\", size=13, colour=\"grey10\", family = \"NanumBarunpen\"))"
  },
  {
    "objectID": "gs_position.html#득표차",
    "href": "gs_position.html#득표차",
    "title": "지도제작 대회",
    "section": "\n4.3 득표차",
    "text": "4.3 득표차\n\n코드gs_tbl |&gt;\n  mutate(표차이 = 민주당 - 국민의힘) |&gt; \n  select(-선거인수, -투표수, - 기타, -국민의힘, -민주당) |&gt; \n  ggplot(aes(x = 선거, y = 표차이, fill = ifelse(표차이&gt;0, \"민주당\", \"국민의힘\"))) +\n    geom_bar(stat = \"identity\", width = 0.5) +\n    geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray10\") + # 0을 기준으로 빨간색 점선 추가\n    labs(\n      title = \"강서구 주요선거 득표차\",\n      x = \"\",\n      y = \"양당 득표차이\",\n      fill = \"정당\"\n    ) +\n    scale_y_continuous(labels = function(x) scales::comma(abs(x)),\n                       limits = c(-70000, 70000)) +\n    coord_flip() +\n    scale_fill_manual(values = c(\"red\", \"darkblue\"))  +\n    theme_bw(base_family = \"NanumGothic\") +\n    theme(legend.position = \"top\",\n          axis.text.y = element_text(size = rel(1.5), colour = \"gray35\", family = \"NanumBarunpen\", face=\"bold\"),\n          axis.text.x = element_text(size = rel(1.0), colour = \"black\", family = \"NanumBarunpen\", face=\"bold\",\n                                     angle = 0, vjust = 0.5, hjust=0.5),\n          strip.background=element_rect(fill=\"gray95\"),\n          plot.title=element_text(size=18, face=\"bold\", family = \"NanumBarunpen\"),\n          plot.subtitle=element_text(face=\"bold\", size=13, colour=\"grey10\", family = \"NanumBarunpen\"))"
  },
  {
    "objectID": "metro_people_power.html",
    "href": "metro_people_power.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\n\nelected_tbl &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\nseoul_tbl &lt;- elected_tbl |&gt; \n  filter(sgId %in% c(\"20160413\", \"20200415\", \"20120411\", \"20080409\", \"20040415\")) |&gt; \n  filter(str_detect(sdName, \"서울\")) |&gt;\n  select(result) |&gt; \n  unnest(result) |&gt; \n  mutate(정당명 = case_when(\n    jdName %in% c(\"한나라당\", \"새누리당\", \"미래통합당\") ~ \"국민의힘\",\n    jdName %in% c(\"더불어민주당\", \"열린우리당\", \"통합민주당\", \"민주통합당\") ~ \"민주당\",                 TRUE ~ \"기타\")) |&gt; \n  count(sgId, 정당명) |&gt; \n  pivot_wider(names_from = 정당명, values_from = n, values_fill = 0) |&gt; \n  mutate(합계 = 국민의힘 + 민주당 + 기타)\n\n\n\n\n코드gg_tbl &lt;- elected_tbl |&gt; \n  filter(sgId %in% c(\"20160413\", \"20200415\", \"20120411\", \"20080409\", \"20040415\")) |&gt; \n  filter(str_detect(sdName, \"경기\")) |&gt;\n  select(result) |&gt; \n  unnest(result) |&gt; \n  mutate(정당명 = case_when(\n    jdName %in% c(\"한나라당\", \"새누리당\", \"미래통합당\") ~ \"국민의힘\",\n    jdName %in% c(\"더불어민주당\", \"열린우리당\", \"통합민주당\", \"민주통합당\") ~ \"민주당\",                 TRUE ~ \"기타\")) |&gt; \n  count(sgId, 정당명) |&gt; \n  pivot_wider(names_from = 정당명, values_from = n, values_fill = 0) |&gt; \n  mutate(합계 = 국민의힘 + 민주당 + 기타)"
  },
  {
    "objectID": "metro_people_power.html#서울특별시",
    "href": "metro_people_power.html#서울특별시",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\n\nelected_tbl &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\nseoul_tbl &lt;- elected_tbl |&gt; \n  filter(sgId %in% c(\"20160413\", \"20200415\", \"20120411\", \"20080409\", \"20040415\")) |&gt; \n  filter(str_detect(sdName, \"서울\")) |&gt;\n  select(result) |&gt; \n  unnest(result) |&gt; \n  mutate(정당명 = case_when(\n    jdName %in% c(\"한나라당\", \"새누리당\", \"미래통합당\") ~ \"국민의힘\",\n    jdName %in% c(\"더불어민주당\", \"열린우리당\", \"통합민주당\", \"민주통합당\") ~ \"민주당\",                 TRUE ~ \"기타\")) |&gt; \n  count(sgId, 정당명) |&gt; \n  pivot_wider(names_from = 정당명, values_from = n, values_fill = 0) |&gt; \n  mutate(합계 = 국민의힘 + 민주당 + 기타)"
  },
  {
    "objectID": "metro_people_power.html#경기도",
    "href": "metro_people_power.html#경기도",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드gg_tbl &lt;- elected_tbl |&gt; \n  filter(sgId %in% c(\"20160413\", \"20200415\", \"20120411\", \"20080409\", \"20040415\")) |&gt; \n  filter(str_detect(sdName, \"경기\")) |&gt;\n  select(result) |&gt; \n  unnest(result) |&gt; \n  mutate(정당명 = case_when(\n    jdName %in% c(\"한나라당\", \"새누리당\", \"미래통합당\") ~ \"국민의힘\",\n    jdName %in% c(\"더불어민주당\", \"열린우리당\", \"통합민주당\", \"민주통합당\") ~ \"민주당\",                 TRUE ~ \"기타\")) |&gt; \n  count(sgId, 정당명) |&gt; \n  pivot_wider(names_from = 정당명, values_from = n, values_fill = 0) |&gt; \n  mutate(합계 = 국민의힘 + 민주당 + 기타)"
  },
  {
    "objectID": "metro_people_power.html#서울특별시-1",
    "href": "metro_people_power.html#서울특별시-1",
    "title": "지도제작 대회",
    "section": "\n2.1 서울특별시",
    "text": "2.1 서울특별시\n\n코드library(gt)\nlibrary(gtExtras)\n\nseoul_tbl |&gt; \n  gt(rowname_col = \"sgId\") |&gt; \n  gt_theme_538() |&gt; \n  cols_align(\"center\") |&gt; \n  cols_label(\n    sgId = \"선거명\"\n  ) |&gt; \n  ## 표 전체 합계 -------------------------------------\n  grand_summary_rows(\n    columns = c(국민의힘, 민주당, 기타, 합계),\n    fns =  list(label = \"총계\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"top\"\n  )  |&gt; \n  tab_header(\n    title = md(\"서울특별시 국회의원 역대 당선자 현황\"),\n    subtitle = md(\"중앙선거관리위원회 선거통계\")\n  ) |&gt; \n  tab_spanner(\n    label = \"정당명\",\n    columns = c(\n      국민의힘, 민주당, 기타\n    )\n  )  |&gt; \n  tab_style(\n    style = cell_text(align = \"center\"),\n    locations = cells_stub_grand_summary()\n  )  \n\n\n\n\n\n\n서울특별시 국회의원 역대 당선자 현황\n    \n\n중앙선거관리위원회 선거통계\n    \n\n\n      \n        정당명\n      \n      합계\n    \n\n국민의힘\n      민주당\n      기타\n    \n\n\n\n총계\n92\n145\n5\n242\n\n\n20040415\n16\n32\n0\n48\n\n\n20080409\n40\n7\n1\n48\n\n\n20120411\n16\n30\n2\n48\n\n\n20160413\n12\n35\n2\n49\n\n\n20200415\n8\n41\n0\n49"
  },
  {
    "objectID": "metro_people_power.html#경기도-1",
    "href": "metro_people_power.html#경기도-1",
    "title": "지도제작 대회",
    "section": "\n2.2 경기도",
    "text": "2.2 경기도\n\n코드gg_tbl |&gt; \n  gt(rowname_col = \"sgId\") |&gt; \n  gt_theme_538() |&gt; \n  cols_align(\"center\") |&gt; \n  cols_label(\n    sgId = \"선거명\"\n  ) |&gt; \n  ## 표 전체 합계 -------------------------------------\n  grand_summary_rows(\n    columns = c(국민의힘, 민주당, 기타, 합계),\n    fns =  list(label = \"총계\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"top\"\n  )  |&gt; \n  tab_header(\n    title = md(\"경기도 국회의원 역대 당선자 현황\"),\n    subtitle = md(\"중앙선거관리위원회 선거통계\")\n  ) |&gt; \n  tab_spanner(\n    label = \"정당명\",\n    columns = c(\n      국민의힘, 민주당, 기타\n    )\n  )  |&gt; \n  tab_style(\n    style = cell_text(align = \"center\"),\n    locations = cells_stub_grand_summary()\n  )  \n\n\n\n\n\n\n경기도 국회의원 역대 당선자 현황\n    \n\n중앙선거관리위원회 선거통계\n    \n\n\n      \n        정당명\n      \n      합계\n    \n\n국민의힘\n      민주당\n      기타\n    \n\n\n\n총계\n93\n172\n6\n271\n\n\n20040415\n14\n35\n0\n49\n\n\n20080409\n32\n17\n2\n51\n\n\n20120411\n21\n29\n2\n52\n\n\n20160413\n19\n40\n1\n60\n\n\n20200415\n7\n51\n1\n59"
  },
  {
    "objectID": "metro_people_power.html#경기도-2",
    "href": "metro_people_power.html#경기도-2",
    "title": "지도제작 대회",
    "section": "\n3.2 경기도",
    "text": "3.2 경기도\n\n코드gg_precinct &lt;- precinct |&gt; \n  filter(SGG_1 == \"경기\") \n\nst_geometry(gg_precinct) |&gt; plot()\n\n\n\n\n\n\n\n\n코드gg_party_tbl &lt;- elected_tbl |&gt; \n  filter(sgId %in% c(\"20200415\")) |&gt; \n  filter(str_detect(sdName, \"경기\")) |&gt;\n  select(result) |&gt; \n  unnest(result) |&gt; \n  mutate(정당명 = case_when(\n    jdName %in% c(\"한나라당\", \"새누리당\", \"미래통합당\") ~ \"국민의힘\",\n    jdName %in% c(\"더불어민주당\", \"열린우리당\", \"통합민주당\", \"민주통합당\") ~ \"민주당\",                 TRUE ~ \"기타\")) |&gt; \n  select(sggName, wiwName, giho, jdName, name, dugsu, dugyul, 정당명)\n\ngg_precinct_party &lt;- gg_precinct |&gt; \n  mutate(sggName = str_remove(SGG_2, \"경기도 \")) |&gt; \n  left_join(gg_party_tbl)\n\n\n\n코드sf_use_s2(FALSE)\ngg_precinct_party |&gt; \n  mutate(정당명 = case_when(\n    jdName %in% c(\"한나라당\", \"새누리당\", \"미래통합당\") ~ \"국민의힘\",\n    jdName %in% c(\"더불어민주당\", \"열린우리당\", \"통합민주당\", \"민주통합당\") ~ \"민주당\",\n    jdName %in% c(\"정의당\") ~ \"정의당\",\n    TRUE ~ \"기타\")) |&gt;   \n  ggplot() +\n    geom_sf(aes(geometry = geometry, fill = 정당명), alpha =0.2) +\n    scale_fill_manual(values = c(\"민주당\" = \"blue\",\n                                  \"국민의힘\" = \"red\",\n                                  \"정의당\" = \"yellow\")) +\n    theme_void() +\n    theme(legend.position = \"top\") +\n    labs(fill = \"정당명\") +\n    ggrepel::geom_text_repel(\n        aes(label = sggName, geometry = geometry,\n            color = 정당명), stat = \"sf_coordinates\", \n        min.segment.length = 1, size = 3, max.overlaps = Inf,\n        show.legend = FALSE, fontface=\"bold\"\n    ) +\n    scale_color_manual(values = c(\"민주당\" = \"blue\",\n                                  \"국민의힘\" = \"red\",\n                                  \"정의당\" = \"black\"))"
  },
  {
    "objectID": "metro_people_power.html#서울특별시-2",
    "href": "metro_people_power.html#서울특별시-2",
    "title": "지도제작 대회",
    "section": "\n3.1 서울특별시",
    "text": "3.1 서울특별시\n\n코드library(sf)\n\nprecinct &lt;- st_read(\"data/2020_21_elec_253.json\") |&gt; \n  st_set_crs(4326)\n#&gt; Reading layer `2020_21_elec_253' from data source \n#&gt;   `D:\\tcs\\map_challenge\\data\\2020_21_elec_253.json' using driver `GeoJSON'\n#&gt; Simple feature collection with 253 features and 4 fields\n#&gt; Geometry type: MULTIPOLYGON\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: 124.6097 ymin: 33.11187 xmax: 131.8713 ymax: 38.61695\n#&gt; Geodetic CRS:  WGS 84\n\nseoul_precinct &lt;- precinct |&gt; \n  filter(SGG_1 == \"서울\") \n\nst_geometry(seoul_precinct) |&gt; plot()\n\n\n\n\n\n\n\n\n코드seoul_party_tbl &lt;- elected_tbl |&gt; \n  filter(sgId %in% c(\"20200415\")) |&gt; \n  filter(str_detect(sdName, \"서울\")) |&gt;\n  select(result) |&gt; \n  unnest(result) |&gt; \n  mutate(정당명 = case_when(\n    jdName %in% c(\"한나라당\", \"새누리당\", \"미래통합당\") ~ \"국민의힘\",\n    jdName %in% c(\"더불어민주당\", \"열린우리당\", \"통합민주당\", \"민주통합당\") ~ \"민주당\",                 TRUE ~ \"기타\")) |&gt; \n  select(sggName, wiwName, giho, jdName, name, dugsu, dugyul, 정당명)\n\nseoul_precinct_party &lt;- seoul_precinct |&gt; \n  mutate(sggName = str_remove(SGG_2, \"서울특별시 \")) |&gt; \n  left_join(seoul_party_tbl)\n\n\n\n코드seoul_precinct_party |&gt; \n  mutate(정당명 = case_when(\n    jdName %in% c(\"한나라당\", \"새누리당\", \"미래통합당\") ~ \"국민의힘\",\n    jdName %in% c(\"더불어민주당\", \"열린우리당\", \"통합민주당\", \"민주통합당\") ~ \"민주당\",\n    jdName %in% c(\"정의당\") ~ \"정의당\",\n    TRUE ~ \"기타\")) |&gt;   \n  ggplot() +\n    geom_sf(aes(geometry = geometry, fill = 정당명), alpha =0.2) +\n    scale_fill_manual(values = c(\"민주당\" = \"blue\",\n                                  \"국민의힘\" = \"red\",\n                                  \"정의당\" = \"yellow\")) +\n    theme_void() +\n    theme(legend.position = \"top\") +\n    labs(fill = \"정당명\") +\n    ggrepel::geom_text_repel(\n        aes(label = sggName, geometry = geometry,\n            color = 정당명), stat = \"sf_coordinates\", \n        min.segment.length = 1, size = 4, max.overlaps = Inf,\n        show.legend = FALSE, fontface=\"bold\"\n    ) +\n    scale_color_manual(values = c(\"민주당\" = \"blue\",\n                                  \"국민의힘\" = \"red\",\n                                  \"정의당\" = \"black\"))"
  },
  {
    "objectID": "metro_people_power.html#선거구",
    "href": "metro_people_power.html#선거구",
    "title": "지도제작 대회",
    "section": "\n5.1 선거구",
    "text": "5.1 선거구\n\n코드library(rvest)\n\ngs_precinct_raw &lt;- read_html(\"https://ko.wikipedia.org/wiki/서울특별시의_선거구\") |&gt; \n  html_elements(\"table\") |&gt; \n  html_table() %&gt;% \n  .[[1]] |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  filter(str_detect(선거구명, \"강서구\"))\n\ngs_precinct &lt;- gs_precinct_raw |&gt; \n  mutate(동명 = str_split(관할_구역, \",\")) |&gt; \n  select(-관할_구역) |&gt; \n  unnest(동명) |&gt; \n  mutate(동명 = str_remove(동명, \"강서구\") |&gt; str_squish()) |&gt; \n  mutate(선거구명 = str_remove(선거구명, \"\\\\s+\")) |&gt; \n  select(-번호)\n\ngs_precinct\n#&gt; # A tibble: 20 × 2\n#&gt;    선거구명 동명    \n#&gt;    &lt;chr&gt;    &lt;chr&gt;   \n#&gt;  1 강서구갑 발산1동 \n#&gt;  2 강서구갑 우장산동\n#&gt;  3 강서구갑 화곡1동 \n#&gt;  4 강서구갑 화곡2동 \n#&gt;  5 강서구갑 화곡3동 \n#&gt;  6 강서구갑 화곡8동 \n#&gt;  7 강서구을 등촌3동 \n#&gt;  8 강서구을 가양1동 \n#&gt;  9 강서구을 가양2동 \n#&gt; 10 강서구을 방화1동 \n#&gt; 11 강서구을 방화2동 \n#&gt; 12 강서구을 방화3동 \n#&gt; 13 강서구을 공항동  \n#&gt; 14 강서구병 염창동  \n#&gt; 15 강서구병 등촌1동 \n#&gt; 16 강서구병 등촌2동 \n#&gt; 17 강서구병 가양3동 \n#&gt; 18 강서구병 화곡본동\n#&gt; 19 강서구병 화곡4동 \n#&gt; 20 강서구병 화곡6동\n\n\n\n코드seoul_diff_sf |&gt; \n  filter( str_detect(sggName, \"^강서\")) |&gt; \n  ggplot() +\n    geom_sf(aes(geometry = geometry, fill = 득표차, color = 정당명), lwd  = 1) +\n    scale_fill_gradient2(high = \"blue\", mid = \"gray100\", low = \"red\") +\n    theme_void() +\n    theme(legend.position = \"top\") +\n    labs(fill = \"득표차\") +\n    geom_text(\n        aes(label = str_glue(\"{sggName}\\n{scales::percent(득표차, accuracy=0.1)}\"), geometry = geometry), \n        stat = \"sf_coordinates\", \n        show.legend = FALSE, fontface=\"bold\", color = \"black\"\n    ) +\n    scale_color_manual(values = c(\"민주당\" = \"blue\",\n                                  \"국민의힘\" = \"red\"))"
  },
  {
    "objectID": "metro_people_power.html#행정동-지도",
    "href": "metro_people_power.html#행정동-지도",
    "title": "지도제작 대회",
    "section": "\n5.2 행정동 지도",
    "text": "5.2 행정동 지도\n\n코드library(sf)\n\nkorea_sf &lt;- st_read(\"data/HangJeongDong_ver20230701.geojson\")\n#&gt; Reading layer `123' from data source \n#&gt;   `D:\\tcs\\map_challenge\\data\\HangJeongDong_ver20230701.geojson' \n#&gt;   using driver `GeoJSON'\n#&gt; Simple feature collection with 3523 features and 9 fields\n#&gt; Geometry type: MULTIPOLYGON\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: 124.6097 ymin: 33.11187 xmax: 131.8713 ymax: 38.61695\n#&gt; Geodetic CRS:  WGS 84\n\ngs_sf &lt;- korea_sf |&gt; \n  filter(sidonm == \"서울특별시\",\n         sggnm  == \"강서구\") |&gt; \n  mutate(dongnm = str_remove(adm_nm, \"서울특별시 강서구 \")) |&gt; \n  select(sidonm, sggnm, dongnm, geometry) |&gt; \n  left_join(gs_precinct, by = c(\"dongnm\" = \"동명\"))\n\ngs_precinct_sf &lt;- gs_sf |&gt; \n  group_by(선거구명) |&gt; \n  summarise(geometry = st_union(geometry))\n\ngs_precinct_centroid &lt;- st_centroid(gs_precinct_sf)\n\nggplot() +\n  geom_sf(data = gs_sf, aes(fill = dongnm), alpha = 0.3, show.legend = FALSE) +\n  geom_sf(data = gs_precinct_sf, color = \"gray30\",\n          alpha = 0.0, lwd = 1, show.legend = FALSE) +\n  theme_void() +\n  geom_sf(data = gs_precinct_centroid, color = \"black\") +\n  ggrepel::geom_text_repel(data = gs_precinct_centroid, \n                           aes(label = 선거구명, geometry = geometry), stat = \"sf_coordinates\", \n        min.segment.length = 1, size = 4, max.overlaps = Inf)"
  },
  {
    "objectID": "metro_people_power.html#재보궐-선거",
    "href": "metro_people_power.html#재보궐-선거",
    "title": "지도제작 대회",
    "section": "\n5.3 재보궐 선거",
    "text": "5.3 재보궐 선거\n\n코드library(ggrepel)\n\ngs_raw &lt;- readxl::read_excel(\"data/[2023년_하반기_재·보궐선거]_개표단위별_개표결과.xlsx\",\n                   sheet = \"Sheet1\", skip =4)\n\ngs_tbl &lt;- gs_raw |&gt; \n  set_names(c(\"읍면동명\", \"투표구명\", \"선거인수\", \"투표수\", \"민주당\", \n\"국민의힘\", \"정의당\", \"x11\", \"진보당\", \n\"녹색당\", \"자유통일당\", \"계\", \n\"무표투표수\", \"기권수\")) |&gt;\n  select(-x11) |&gt; \n  mutate(읍면동명 = str_replace(읍면동명, \"제(\\\\d+)\", \"\\\\1\")) |&gt; \n  filter(투표구명 == \"소계\") |&gt; \n  mutate(across(선거인수:기권수, parse_number)) |&gt; \n  mutate(투표율 = 투표수 / 선거인수)  |&gt; \n  left_join(gs_precinct, by = c(\"읍면동명\"=\"동명\"))\n\ngs_tbl |&gt;\n  group_by(선거구명, 읍면동명) |&gt; \n  summarise(선거인수 = sum(선거인수),\n            투표수 = sum(투표수)) |&gt; \n  mutate(투표율 = 투표수 / 선거인수) |&gt; \n  ggplot(aes(x = fct_reorder(읍면동명, 투표율), y = 투표율, fill = 선거구명)) +\n    geom_col( width = 0.5 ) +\n    facet_wrap(vars(선거구명), scales = \"free\") +\n    labs(x = \"\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::percent) +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n코드    \ngs_tbl |&gt;   \n  mutate(민주_득표율 = 민주당 / 계,\n         국힘_득표율 = 국민의힘 / 계) |&gt; \n  mutate(득표차 = 민주_득표율 - 국힘_득표율) |&gt; \n  ggplot(aes(x = fct_reorder(읍면동명, 득표차), y = 득표차, fill = 선거구명)) +\n    geom_col( width = 0.5 ) +\n    facet_wrap(vars(선거구명), scales = \"free\") +\n    labs(x = \"\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::percent) +\n    theme(legend.position = \"none\")"
  },
  {
    "objectID": "metro_people_power.html#투표율과-득표차",
    "href": "metro_people_power.html#투표율과-득표차",
    "title": "지도제작 대회",
    "section": "\n5.4 투표율과 득표차",
    "text": "5.4 투표율과 득표차\n\n코드gs_tbl |&gt;   \n  mutate(민주_득표율 = 민주당 / 계,\n         국힘_득표율 = 국민의힘 / 계) |&gt; \n  mutate(득표차 = 민주_득표율 - 국힘_득표율) |&gt; \n  mutate(투표율 = 투표수 / 선거인수) |&gt; \n  select(선거구명, 선거인수, 읍면동명, 득표차, 투표율) |&gt; \n  ggplot(aes(x = 투표율, y = 득표차, color = 선거구명)) +\n    geom_point(aes(size = 선거인수)) +\n    facet_wrap(vars(선거구명)) +\n    geom_text_repel(aes(label = 읍면동명)) +\n    theme_minimal() +\n    theme(legend.position = \"top\") +\n    scale_x_continuous(labels = scales::percent) +\n    scale_y_continuous(labels = scales::percent) +\n    labs(x = \"투표율\", y = \"득표차\",\n         title = \"강서구 재보궐선거 투표율과 득표차\",\n         subtitle = \"득표차 = 민주당 후보 득표율 - 국힘 후보 득표율 \") +\n    guides(color = FALSE) +\n    scale_size_continuous(labels = scales::comma)"
  },
  {
    "objectID": "metro_people_power.html#시각화",
    "href": "metro_people_power.html#시각화",
    "title": "지도제작 대회",
    "section": "\n6.1 시각화",
    "text": "6.1 시각화\n\n코드gs_old |&gt;\n  group_by(선거구명, 읍면동명) |&gt; \n  summarise(선거인수 = sum(선거인수),\n            투표수 = sum(투표수)) |&gt; \n  mutate(투표율 = 투표수 / 선거인수) |&gt; \n  ggplot(aes(x = fct_reorder(읍면동명, 투표율), y = 투표율, fill = 선거구명)) +\n    geom_col( width = 0.5 ) +\n    facet_wrap(vars(선거구명), scales = \"free\") +\n    labs(x = \"\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::percent) +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n코드    \ngs_old |&gt;   \n  mutate(민주_득표율 = 민주당 / 계,\n         국힘_득표율 = 국민의힘 / 계) |&gt; \n  mutate(득표차 = 민주_득표율 - 국힘_득표율) |&gt; \n  ggplot(aes(x = fct_reorder(읍면동명, 득표차), y = 득표차, fill = 선거구명)) +\n    geom_col( width = 0.5 ) +\n    facet_wrap(vars(선거구명), scales = \"free\") +\n    labs(x = \"\") +\n    theme_minimal() +\n    scale_y_continuous(labels = scales::percent) +\n    theme(legend.position = \"none\")"
  },
  {
    "objectID": "metro_people_power.html#투표율과-득표차-1",
    "href": "metro_people_power.html#투표율과-득표차-1",
    "title": "지도제작 대회",
    "section": "\n6.2 투표율과 득표차",
    "text": "6.2 투표율과 득표차\n\n코드gs_old |&gt;   \n  mutate(민주_득표율 = 민주당 / 계,\n         국힘_득표율 = 국민의힘 / 계) |&gt; \n  mutate(득표차 = 민주_득표율 - 국힘_득표율) |&gt; \n  mutate(투표율 = 투표수 / 선거인수) |&gt; \n  select(선거구명, 선거인수, 읍면동명, 득표차, 투표율) |&gt; \n  ggplot(aes(x = 투표율, y = 득표차, color = 선거구명)) +\n    geom_point(aes(size = 선거인수)) +\n    facet_wrap(vars(선거구명)) +\n    geom_text_repel(aes(label = 읍면동명)) +\n    theme_minimal() +\n    theme(legend.position = \"top\") +\n    scale_x_continuous(labels = scales::percent) +\n    scale_y_continuous(labels = scales::percent) +\n    labs(x = \"투표율\", y = \"득표차\",\n         title = \"강서구 제21대 총선 투표율과 득표차\",\n         subtitle = \"득표차 = 민주당 후보 득표율 - 국힘 후보 득표율 \") +\n    guides(color = FALSE, size = guide_legend(nrow = 1)) +\n    scale_size_continuous(labels = scales::comma)"
  },
  {
    "objectID": "metro_people_power.html#투표율",
    "href": "metro_people_power.html#투표율",
    "title": "지도제작 대회",
    "section": "\n7.1 투표율",
    "text": "7.1 투표율\n\n코드gs_total |&gt; \n  select(읍면동명, 선거, 투표율) |&gt; \n  pivot_wider(names_from = 선거, values_from = 투표율) |&gt; \n  ggplot(aes(x=`21대총선`, y = 보궐선거)) +\n    geom_point() +\n    geom_smooth(method = lm, se = FALSE) +\n    geom_text_repel(aes(label = 읍면동명))"
  },
  {
    "objectID": "metro_people_power.html#득표차-1",
    "href": "metro_people_power.html#득표차-1",
    "title": "지도제작 대회",
    "section": "\n7.2 득표차",
    "text": "7.2 득표차\n\n코드gs_total |&gt; \n  select(읍면동명, 선거, 득표차) |&gt; \n  pivot_wider(names_from = 선거, values_from = 득표차) |&gt; \n  ggplot(aes(x=`21대총선`, y = 보궐선거)) +\n    geom_point() +\n    geom_smooth(method = lm, se = FALSE) +\n    geom_text_repel(aes(label = 읍면동명))"
  },
  {
    "objectID": "metro_people_power.html#정당지지율",
    "href": "metro_people_power.html#정당지지율",
    "title": "지도제작 대회",
    "section": "\n7.3 정당지지율",
    "text": "7.3 정당지지율\n\n7.3.1 민주당\n\n코드gs_total |&gt; \n  select(선거구명, 읍면동명, 선거, 민주_득표율) |&gt; \n  pivot_wider(names_from = 선거, values_from = 민주_득표율) |&gt; \n  ggplot(aes(x=`21대총선`, y = 보궐선거)) +\n    geom_point() +\n    geom_smooth(method = lm, se = FALSE) +\n    geom_text_repel(aes(label = 읍면동명)) +\n    facet_wrap(~선거구명, scales = \"free\")\n\n\n\n\n\n\n\n\n7.3.2 국민의힘\n\n코드gs_total |&gt; \n  select(선거구명, 읍면동명, 선거, 국힘_득표율) |&gt; \n  pivot_wider(names_from = 선거, values_from = 국힘_득표율) |&gt; \n  ggplot(aes(x=`21대총선`, y = 보궐선거)) +\n    geom_point() +\n    geom_smooth(method = lm, se = FALSE) +\n    geom_text_repel(aes(label = 읍면동명)) +\n    facet_wrap(~선거구명, scales = \"free\")\n\n\n\n\n\n\n\n\n7.3.3 모두\n\n코드gs_total |&gt; \n  select(선거구명, 읍면동명, 선거, 민주_득표율, 국힘_득표율) |&gt;\n  pivot_longer(민주_득표율:국힘_득표율, names_to = \"정당\", values_to = \"득표율\") |&gt; \n  pivot_wider(names_from = 선거, values_from = 득표율) |&gt; \n  ggplot(aes(x=`21대총선`, y = 보궐선거, color = 정당)) +\n    geom_point() +\n    geom_smooth(method = lm, se = FALSE) +\n    geom_text_repel(aes(label = 읍면동명)) +\n    facet_wrap(~선거구명, scales = \"free\")"
  },
  {
    "objectID": "metro_people_power.html#강서구갑",
    "href": "metro_people_power.html#강서구갑",
    "title": "지도제작 대회",
    "section": "\n8.1 강서구갑",
    "text": "8.1 강서구갑\n\n코드gs_total |&gt; \n  filter(선거구명 == \"강서구갑\") |&gt; \n  select(선거구명, 읍면동명, 선거, 민주_득표율, 국힘_득표율) |&gt;\n  pivot_longer(민주_득표율:국힘_득표율, names_to = \"정당\", values_to = \"득표율\") |&gt; \n  ggplot(aes(x = 선거, y = 득표율, group = 정당, color = 정당)) +\n    geom_point() +\n    geom_line() +\n    facet_wrap(vars(읍면동명), scales = \"fixed\")"
  },
  {
    "objectID": "metro_people_power.html#강서구을",
    "href": "metro_people_power.html#강서구을",
    "title": "지도제작 대회",
    "section": "\n8.2 강서구을",
    "text": "8.2 강서구을\n\n코드gs_total |&gt; \n  filter(선거구명 == \"강서구을\") |&gt; \n  select(선거구명, 읍면동명, 선거, 민주_득표율, 국힘_득표율) |&gt;\n  pivot_longer(민주_득표율:국힘_득표율, names_to = \"정당\", values_to = \"득표율\") |&gt; \n  ggplot(aes(x = 선거, y = 득표율, group = 정당, color = 정당)) +\n    geom_point() +\n    geom_line() +\n    facet_wrap(vars(읍면동명), scales = \"fixed\")"
  },
  {
    "objectID": "metro_people_power.html#강서구병",
    "href": "metro_people_power.html#강서구병",
    "title": "지도제작 대회",
    "section": "\n8.3 강서구병",
    "text": "8.3 강서구병\n\n코드gs_total |&gt; \n  filter(선거구명 == \"강서구병\") |&gt; \n  select(선거구명, 읍면동명, 선거, 민주_득표율, 국힘_득표율) |&gt;\n  pivot_longer(민주_득표율:국힘_득표율, names_to = \"정당\", values_to = \"득표율\") |&gt; \n  ggplot(aes(x = 선거, y = 득표율, group = 정당, color = 정당)) +\n    geom_point() +\n    geom_line() +\n    facet_wrap(vars(읍면동명), scales = \"fixed\")"
  },
  {
    "objectID": "tour.html",
    "href": "tour.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\nmoon_html &lt;- read_html(\"https://ko.wikipedia.org/wiki/문재인의_대통령_순방_목록\")\n\nmoon_raw &lt;- moon_html |&gt; \n  html_elements(\"table\") |&gt; \n  html_table()\n\nmoon_h3 &lt;- moon_html |&gt; \n  html_elements(\"h3\") |&gt; \n  html_text()\n\nnames(moon_raw) &lt;- moon_h3[1:6]\n\nmap_df(moon_raw[c(1:5)], rbind)\n#&gt; # A tibble: 58 × 5\n#&gt;    나라           장소             일자                `세부 내용`         사진 \n#&gt;    &lt;chr&gt;          &lt;chr&gt;            &lt;chr&gt;               &lt;chr&gt;               &lt;lgl&gt;\n#&gt;  1 미국           워싱턴 D.C.      6월 28일~7월 3일    공식 실무 방문.[1]  NA   \n#&gt;  2 독일           베를린, 함부르크 7월 5일~7월 8일     2017년 함부르크 G2… NA   \n#&gt;  3 러시아         블라디보스토크   9월 6일~9월 7일     공식 방문. 동방경…  NA   \n#&gt;  4 미국           뉴욕             9월 19일~9월 21일   실무 방문. 유엔 총… NA   \n#&gt;  5 인도네시아     자카르타         11월 8일~11월 10일  국빈 방문.[11]      NA   \n#&gt;  6 베트남         다낭             11월 10일~11월 12일 2017년 다낭 APEC …  NA   \n#&gt;  7 필리핀         마닐라           11월 12일~11월 14일 동아시아 정상회의 … NA   \n#&gt;  8 중화인민공화국 베이징시, 충칭시 12월 13일~12월 16일 국빈 방문.[16]      NA   \n#&gt;  9 베트남         하노이           3월 22일~3월 24일   국빈 방문.[17]      NA   \n#&gt; 10 아랍에미리트   아부다비, 두바이 3월 24일~3월 27일   공식 방문.[18]      NA   \n#&gt; # ℹ 48 more rows\n\nmoon_tbl &lt;- moon_h3 |&gt; \n  enframe() |&gt; \n  mutate(연도 = str_remove(value, \"년\\\\[편집\\\\]\")) |&gt; \n  filter(str_detect(연도, \"\\\\d{4}\")) |&gt; \n  mutate(data = moon_raw[c(1:5)]) |&gt; \n  unnest(data) |&gt; \n  select(연도, 나라, 장소, 일자, 세부내용=`세부 내용`) |&gt;\n  separate(일자, into = c(\"출국\", \"도착\"), sep = \"~\") |&gt; \n  mutate(도착 = ifelse(is.na(도착), 출국, 도착)) |&gt; \n  mutate(출국일 = str_glue(\"{연도}-{출국}\"),\n         도착일 = str_glue(\"{연도}-{도착}\")) |&gt; \n  mutate(출국일 = parse_date(출국일, \"%Y-%m월 %d일\"),\n         도착일 = parse_date(도착일, \"%Y-%m월 %d일\")) |&gt; \n  select(출국일, 도착일, 국가 = 나라, 장소) |&gt; \n  mutate(기간 = (출국일 %--% 도착일) / ddays(1) +1)\n\n\n\n\n코드tour_yoon_html &lt;- rvest::read_html(URLencode(\"https://namu.wiki/w/윤석열 정부/외교\"))\n\ntour_yoon_raw &lt;- tour_yoon_html |&gt; \n  html_elements(\"table\") |&gt; \n  html_table()\n\ntour_yoon_dat &lt;- bind_rows(\n  tour_yoon_raw[[10]] |&gt; \n    janitor::row_to_names(row_number = 1) |&gt; \n    mutate(연도 = 2022),\n  tour_yoon_raw[[11]] |&gt; \n    janitor::row_to_names(row_number = 1) |&gt; \n    mutate(연도 = 2023))\n\n\ntour_yoon_tbl &lt;- tour_yoon_dat |&gt;\n  separate(일자, into = c(\"출국일\", \"귀국일\"), sep = \"~\") |&gt;\n  mutate(귀국일 = ifelse(is.na(귀국일), \"15일\", 귀국일)) |&gt; # 우크라이나\n  separate(출국일, into = c(\"출국월\", \"출국일\"), sep = \"월 ?\") |&gt; \n  mutate(귀국월 = 출국월,\n         귀국일 = parse_number(귀국일)) |&gt; \n  mutate(출국날짜 = ymd(paste(연도, 출국월, 출국일, sep = \"-\")),\n         귀국날짜 = ymd(paste(연도, 귀국월, 귀국일, sep = \"-\"))) |&gt; \n  mutate(상대국 = str_remove(상대국, \"\\\\s?행정구\")) |&gt;\n  select(출국날짜, 귀국날짜, 상대국, 상대방, 비고)\n\ntour_yoon_tbl\n#&gt; # A tibble: 21 × 5\n#&gt;    출국날짜   귀국날짜   상대국       상대방                           비고     \n#&gt;    &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;        &lt;chr&gt;                            &lt;chr&gt;    \n#&gt;  1 2022-06-27 2022-06-30 스페인       북대서양 조약 기구               \"첫 국외…\n#&gt;  2 2022-09-18 2022-09-19 영국         -                                \"엘리자… \n#&gt;  3 2022-09-20 2022-09-22 미국         국제연합                         \"첫 UN … \n#&gt;  4 2022-09-22 2022-09-23 캐나다       쥐스탱 트뤼도 총리               \"첫 정상…\n#&gt;  5 2022-11-11 2022-11-14 캄보디아     아세안                           \"\"       \n#&gt;  6 2022-11-14 2022-11-15 인도네시아   G20                              \"\"       \n#&gt;  7 2023-01-14 2023-01-17 아랍에미리트 무함마드 빈 자이드 알나얀 대통령 \"국빈방… \n#&gt;  8 2023-01-17 2023-01-20 스위스       -                                \"세계경… \n#&gt;  9 2023-03-16 2023-03-17 일본         기시다 후미오 총리               \"2023년 …\n#&gt; 10 2023-04-24 2023-04-30 미국         조 바이든 대통령                 \"2023년 …\n#&gt; # ℹ 11 more rows"
  },
  {
    "objectID": "tour.html#문재인",
    "href": "tour.html#문재인",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\nmoon_html &lt;- read_html(\"https://ko.wikipedia.org/wiki/문재인의_대통령_순방_목록\")\n\nmoon_raw &lt;- moon_html |&gt; \n  html_elements(\"table\") |&gt; \n  html_table()\n\nmoon_h3 &lt;- moon_html |&gt; \n  html_elements(\"h3\") |&gt; \n  html_text()\n\nnames(moon_raw) &lt;- moon_h3[1:6]\n\nmap_df(moon_raw[c(1:5)], rbind)\n#&gt; # A tibble: 58 × 5\n#&gt;    나라           장소             일자                `세부 내용`         사진 \n#&gt;    &lt;chr&gt;          &lt;chr&gt;            &lt;chr&gt;               &lt;chr&gt;               &lt;lgl&gt;\n#&gt;  1 미국           워싱턴 D.C.      6월 28일~7월 3일    공식 실무 방문.[1]  NA   \n#&gt;  2 독일           베를린, 함부르크 7월 5일~7월 8일     2017년 함부르크 G2… NA   \n#&gt;  3 러시아         블라디보스토크   9월 6일~9월 7일     공식 방문. 동방경…  NA   \n#&gt;  4 미국           뉴욕             9월 19일~9월 21일   실무 방문. 유엔 총… NA   \n#&gt;  5 인도네시아     자카르타         11월 8일~11월 10일  국빈 방문.[11]      NA   \n#&gt;  6 베트남         다낭             11월 10일~11월 12일 2017년 다낭 APEC …  NA   \n#&gt;  7 필리핀         마닐라           11월 12일~11월 14일 동아시아 정상회의 … NA   \n#&gt;  8 중화인민공화국 베이징시, 충칭시 12월 13일~12월 16일 국빈 방문.[16]      NA   \n#&gt;  9 베트남         하노이           3월 22일~3월 24일   국빈 방문.[17]      NA   \n#&gt; 10 아랍에미리트   아부다비, 두바이 3월 24일~3월 27일   공식 방문.[18]      NA   \n#&gt; # ℹ 48 more rows\n\nmoon_tbl &lt;- moon_h3 |&gt; \n  enframe() |&gt; \n  mutate(연도 = str_remove(value, \"년\\\\[편집\\\\]\")) |&gt; \n  filter(str_detect(연도, \"\\\\d{4}\")) |&gt; \n  mutate(data = moon_raw[c(1:5)]) |&gt; \n  unnest(data) |&gt; \n  select(연도, 나라, 장소, 일자, 세부내용=`세부 내용`) |&gt;\n  separate(일자, into = c(\"출국\", \"도착\"), sep = \"~\") |&gt; \n  mutate(도착 = ifelse(is.na(도착), 출국, 도착)) |&gt; \n  mutate(출국일 = str_glue(\"{연도}-{출국}\"),\n         도착일 = str_glue(\"{연도}-{도착}\")) |&gt; \n  mutate(출국일 = parse_date(출국일, \"%Y-%m월 %d일\"),\n         도착일 = parse_date(도착일, \"%Y-%m월 %d일\")) |&gt; \n  select(출국일, 도착일, 국가 = 나라, 장소) |&gt; \n  mutate(기간 = (출국일 %--% 도착일) / ddays(1) +1)"
  },
  {
    "objectID": "tour.html#문재인-해외순방",
    "href": "tour.html#문재인-해외순방",
    "title": "지도제작 대회",
    "section": "\n2.1 문재인 해외순방",
    "text": "2.1 문재인 해외순방\n\n코드library(countrycode)\n\ncountry_codes &lt;- data.frame(\n  \"국가\" = c(\"노르웨이\", \"뉴질랜드\", \"덴마크\", \"독일\", \"라오스\", \"러시아\", \"말레이시아\", \"미국\", \"미얀마\", \"바티칸 시국\", \"베트남\", \"벨기에\", \"브루나이\", \"사우디아라비아\", \"스웨덴\", \"스페인\", \"싱가포르\", \"아랍에미리트\", \"아르헨티나\", \"영국\", \"오스트레일리아\", \"오스트리아\", \"우즈베키스탄\", \"이집트\", \"이탈리아\", \"인도\", \"인도네시아\", \"일본\", \"조선민주주의인민공화국\", \"중화인민공화국\", \"체코\", \"카자흐스탄\", \"캄보디아\", \"태국\", \"투르크메니스탄\", \"파푸아뉴기니\", \"프랑스\", \"핀란드\", \"필리핀\", \"헝가리\"),\n  \"영문_국가명\" = c(\"Norway\", \"New Zealand\", \"Denmark\", \"Germany\", \"Laos\", \"Russia\", \"Malaysia\", \"United States\", \"Myanmar\", \"Vatican City\", \"Vietnam\", \"Belgium\", \"Brunei\", \"Saudi Arabia\", \"Sweden\", \"Spain\", \"Singapore\", \"United Arab Emirates\", \"Argentina\", \"United Kingdom\", \"Australia\", \"Austria\", \"Uzbekistan\", \"Egypt\", \"Italy\", \"India\", \"Indonesia\", \"Japan\", \"North Korea\", \"China\", \"Czech Republic\", \"Kazakhstan\", \"Cambodia\", \"Thailand\", \"Turkmenistan\", \"Papua New Guinea\", \"France\", \"Finland\", \"Philippines\", \"Hungary\"),\n  \"iso2c\" = c(\"NO\", \"NZ\", \"DK\", \"DE\", \"LA\", \"RU\", \"MY\", \"US\", \"MM\", \"VA\", \"VN\", \"BE\", \"BN\", \"SA\", \"SE\", \"ES\", \"SG\", \"AE\", \"AR\", \"GB\", \"AU\", \"AT\", \"UZ\", \"EG\", \"IT\", \"IN\", \"ID\", \"JP\", \"KP\", \"CN\", \"CZ\", \"KZ\", \"KH\", \"TH\", \"TM\", \"PG\", \"FR\", \"FI\", \"PH\", \"HU\")\n)\n\nmoon_tbl |&gt; \n  group_by(국가) |&gt; \n  summarise(방문수 = n(),\n            연도 = str_c(str_glue(\"{lubridate::year(출국일)}\"), collapse = \",\")) |&gt; \n  left_join(country_codes, by = \"국가\") |&gt; \n  mutate(대륙 = countrycode(iso2c, \"iso2c\", \"continent\")) |&gt;\n  arrange(desc(방문수)) |&gt;\n  select(-영문_국가명) |&gt; \n  select(iso2c, everything()) |&gt; \n  gt(groupname_col = \"대륙\") |&gt; \n  fmt_flag(columns = iso2c) |&gt; \n  cols_label(\n    iso2c = \"\"\n  ) |&gt; \n  cols_align(\"center\") |&gt; \n  tab_header(\n    title = md(\"문재인 대통령 해외 순방\"),\n    subtitle = md(\"2017년 5월 10일 ~ 2021년 5월 9일\")\n  ) |&gt;\ntab_footnote(\n  footnote = md(\"데이터 출처: [위키백과](https://ko.wikipedia.org/wiki/문재인의_대통령_순방_목록)\")\n) |&gt;   \n  gt_theme_538()\n\n\n\n\n\n\n문재인 대통령 해외 순방\n    \n\n2017년 5월 10일 ~ 2021년 5월 9일\n    \n\n\n      국가\n      방문수\n      연도\n    \n\n\n\nAmericas\n    \n\nUnited States\n\n미국\n8\n2017,2017,2018,2018,2019,2019,2021,2021\n\n\nArgentina\n\n아르헨티나\n1\n2018\n\n\nEurope\n    \n\nRussian Federation\n\n러시아\n2\n2017,2018\n\n\n\n바티칸 시국\n2\n2018,2021\n\n\nUnited Kingdom\n\n영국\n2\n2021,2021\n\n\nItaly\n\n이탈리아\n2\n2018,2021\n\n\nNorway\n\n노르웨이\n1\n2019\n\n\nDenmark\n\n덴마크\n1\n2018\n\n\nGermany\n\n독일\n1\n2017\n\n\nBelgium\n\n벨기에\n1\n2018\n\n\nSweden\n\n스웨덴\n1\n2019\n\n\nSpain\n\n스페인\n1\n2021\n\n\nAustria\n\n오스트리아\n1\n2021\n\n\nCzechia\n\n체코\n1\n2018\n\n\nFrance\n\n프랑스\n1\n2018\n\n\nFinland\n\n핀란드\n1\n2019\n\n\nHungary\n\n헝가리\n1\n2021\n\n\nAsia\n    \n\nVietnam\n\n베트남\n2\n2017,2018\n\n\nSingapore\n\n싱가포르\n2\n2018,2018\n\n\nUnited Arab Emirates\n\n아랍에미리트\n2\n2018,2022\n\n\nJapan\n\n일본\n2\n2018,2019\n\n\nKorea, Dem. People's Rep.\n\n조선민주주의인민공화국\n2\n2018,2018\n\n\nChina\n\n중화인민공화국\n2\n2017,2019\n\n\nThailand\n\n태국\n2\n2019,2019\n\n\nLao PDR\n\n라오스\n1\n2019\n\n\nMalaysia\n\n말레이시아\n1\n2019\n\n\nMyanmar\n\n미얀마\n1\n2019\n\n\nBrunei Darussalam\n\n브루나이\n1\n2019\n\n\nSaudi Arabia\n\n사우디아라비아\n1\n2022\n\n\nUzbekistan\n\n우즈베키스탄\n1\n2019\n\n\nIndia\n\n인도\n1\n2018\n\n\nIndonesia\n\n인도네시아\n1\n2017\n\n\nKazakhstan\n\n카자흐스탄\n1\n2019\n\n\nCambodia\n\n캄보디아\n1\n2019\n\n\nTurkmenistan\n\n투르크메니스탄\n1\n2019\n\n\nPhilippines\n\n필리핀\n1\n2017\n\n\nOceania\n    \n\nNew Zealand\n\n뉴질랜드\n1\n2018\n\n\nAustralia\n\n오스트레일리아\n1\n2021\n\n\nPapua New Guinea\n\n파푸아뉴기니\n1\n2018\n\n\nAfrica\n    \n\nEgypt\n\n이집트\n1\n2022\n\n\n\n 데이터 출처: 위키백과"
  },
  {
    "objectID": "tour.html#지도",
    "href": "tour.html#지도",
    "title": "지도제작 대회",
    "section": "\n2.2 지도",
    "text": "2.2 지도\n\n코드library(viridis)\nlibrary(sf)\nextrafont::loadfonts()\nsf_use_s2(FALSE)\n\nmoon_tour &lt;- moon_tbl |&gt; \n  group_by(국가) |&gt; \n  summarise(방문수 = n(),\n            연도 = str_c(str_glue(\"{lubridate::year(출국일)}\"), collapse = \",\")) |&gt; \n  left_join(country_codes, by = \"국가\")\n\nworld_map &lt;- rnaturalearth::ne_countries(scale = 50, returnclass = \"sf\")\n  \ncountry_centroid &lt;- inner_join(st_centroid(world_map), moon_tour, \n                              by = c(\"iso_a2\" = \"iso2c\"))\n\ncountry_centroid &lt;- bind_cols(country_centroid,\n          st_coordinates(country_centroid) |&gt; \n            as_tibble() |&gt; \n            set_names(c(\"lon\", \"lat\")))\n\nmoon_map &lt;- left_join(world_map, moon_tour, by = c(\"iso_a2\" = \"iso2c\"))\n\nmoon_map |&gt; \n  filter(continent != \"Antarctica\") |&gt; \n  mutate(방문수 = factor(방문수, levels = c(1, 2, 8),\n                      labels = c(\"1회\", \"2회\", \"8회\"))) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = 방문수)) +\n    scale_fill_manual(values = c(\"gray50\", \"skyblue\", \"blue\"), \n                      na.value = \"transparent\",\n                      breaks = c(\"1회\", \"2회\", \"8회\", NA),\n                      labels = c(\"1회\", \"2회\", \"8회\", \"방문 없음\")) +\n    labs(\n      title = \"문재인 대통령 해외순방\") +\n    theme_void(base_family = \"NanumGothic\") +\n    theme(legend.position = \"bottom\") +\n    ggrepel::geom_text_repel(\n      data = country_centroid |&gt; select(국가, lon, lat) |&gt; st_drop_geometry(),\n          aes(label = 국가, x = lon, y = lat),\n          size = 3, segment.size = 0.2\n      )"
  },
  {
    "objectID": "tour.html#태평양-중심지도",
    "href": "tour.html#태평양-중심지도",
    "title": "지도제작 대회",
    "section": "\n2.3 태평양 중심지도",
    "text": "2.3 태평양 중심지도\nst_crop on pacific centred naturalearth world map\n\n코드world_map &lt;- rnaturalearth::ne_countries(scale = 50, returnclass = \"sf\") %&gt;%\n  st_make_valid() |&gt; \n  filter(continent != \"Antarctica\")\n\n# define a long & slim polygon that overlaps the meridian line & set its CRS to match\n# that of world Centered in lon 133\n\noffset &lt;- 180 - 150\n\npolygon &lt;- st_polygon(x = list(rbind(\n  c(-0.0001 - offset, 90),\n  c(0 - offset, 90),\n  c(0 - offset, -90),\n  c(-0.0001 - offset, -90),\n  c(-0.0001 - offset, 90)\n))) %&gt;%\n  st_sfc() %&gt;%\n  st_set_crs(4326)\n\nworld_pacific &lt;- world_map |&gt; \n  st_difference(polygon) |&gt; \n  st_transform(crs = \"+proj=eqc +x_0=0 +y_0=0 +lat_0=0 +lon_0=150\")\n\nggplot(data = world_pacific, aes(group = admin)) +\n  geom_sf(fill = \"grey\") +\n  theme_void()\n\n\n\n\n\n\n\n\n코드moon_pacific_map &lt;- left_join(world_pacific, moon_tour, by = c(\"iso_a2\" = \"iso2c\"))\n\npacific_centroid &lt;- inner_join(st_centroid(moon_pacific_map), moon_tour, \n                              by = c(\"iso_a2\" = \"iso2c\"))\n\npacific_country_centroid &lt;- bind_cols(pacific_centroid,\n          st_coordinates(pacific_centroid) |&gt; \n            as_tibble() |&gt; \n            set_names(c(\"lon\", \"lat\")))\n\n\nmoon_pacific_map |&gt; \n  mutate(방문수 = factor(방문수, levels = c(1, 2, 8),\n                      labels = c(\"1회\", \"2회\", \"8회\"))) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = 방문수)) +\n    scale_fill_manual(values = c(\"gray50\", \"skyblue\", \"blue\"), \n                      na.value = \"transparent\",\n                      breaks = c(\"1회\", \"2회\", \"8회\", NA),\n                      labels = c(\"1회\", \"2회\", \"8회\", \"방문 없음\")) +\n    # labs(title = \"문재인 대통령 해외순방\") +\n    theme_void(base_family = \"NanumGothic\") +\n    theme(legend.position = \"bottom\") +\n    ggrepel::geom_text_repel(\n      data = pacific_country_centroid |&gt; select(국가.x, lon, lat) |&gt; st_drop_geometry(),\n          aes(label = 국가.x, x = lon, y = lat),\n          size = 3, segment.size = 0.2\n      )"
  },
  {
    "objectID": "tour.html#윤석열",
    "href": "tour.html#윤석열",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드tour_yoon_html &lt;- rvest::read_html(URLencode(\"https://namu.wiki/w/윤석열 정부/외교\"))\n\ntour_yoon_raw &lt;- tour_yoon_html |&gt; \n  html_elements(\"table\") |&gt; \n  html_table()\n\ntour_yoon_dat &lt;- bind_rows(\n  tour_yoon_raw[[10]] |&gt; \n    janitor::row_to_names(row_number = 1) |&gt; \n    mutate(연도 = 2022),\n  tour_yoon_raw[[11]] |&gt; \n    janitor::row_to_names(row_number = 1) |&gt; \n    mutate(연도 = 2023))\n\n\ntour_yoon_tbl &lt;- tour_yoon_dat |&gt;\n  separate(일자, into = c(\"출국일\", \"귀국일\"), sep = \"~\") |&gt;\n  mutate(귀국일 = ifelse(is.na(귀국일), \"15일\", 귀국일)) |&gt; # 우크라이나\n  separate(출국일, into = c(\"출국월\", \"출국일\"), sep = \"월 ?\") |&gt; \n  mutate(귀국월 = 출국월,\n         귀국일 = parse_number(귀국일)) |&gt; \n  mutate(출국날짜 = ymd(paste(연도, 출국월, 출국일, sep = \"-\")),\n         귀국날짜 = ymd(paste(연도, 귀국월, 귀국일, sep = \"-\"))) |&gt; \n  mutate(상대국 = str_remove(상대국, \"\\\\s?행정구\")) |&gt;\n  select(출국날짜, 귀국날짜, 상대국, 상대방, 비고)\n\ntour_yoon_tbl\n#&gt; # A tibble: 21 × 5\n#&gt;    출국날짜   귀국날짜   상대국       상대방                           비고     \n#&gt;    &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;        &lt;chr&gt;                            &lt;chr&gt;    \n#&gt;  1 2022-06-27 2022-06-30 스페인       북대서양 조약 기구               \"첫 국외…\n#&gt;  2 2022-09-18 2022-09-19 영국         -                                \"엘리자… \n#&gt;  3 2022-09-20 2022-09-22 미국         국제연합                         \"첫 UN … \n#&gt;  4 2022-09-22 2022-09-23 캐나다       쥐스탱 트뤼도 총리               \"첫 정상…\n#&gt;  5 2022-11-11 2022-11-14 캄보디아     아세안                           \"\"       \n#&gt;  6 2022-11-14 2022-11-15 인도네시아   G20                              \"\"       \n#&gt;  7 2023-01-14 2023-01-17 아랍에미리트 무함마드 빈 자이드 알나얀 대통령 \"국빈방… \n#&gt;  8 2023-01-17 2023-01-20 스위스       -                                \"세계경… \n#&gt;  9 2023-03-16 2023-03-17 일본         기시다 후미오 총리               \"2023년 …\n#&gt; 10 2023-04-24 2023-04-30 미국         조 바이든 대통령                 \"2023년 …\n#&gt; # ℹ 11 more rows"
  },
  {
    "objectID": "tour.html#표",
    "href": "tour.html#표",
    "title": "지도제작 대회",
    "section": "\n2.1 표",
    "text": "2.1 표\n\n코드library(countrycode)\n\ncountry_codes &lt;- data.frame(\n  \"국가\" = c(\"노르웨이\", \"뉴질랜드\", \"덴마크\", \"독일\", \"라오스\", \"러시아\", \"말레이시아\", \"미국\", \"미얀마\", \"바티칸 시국\", \"베트남\", \"벨기에\", \"브루나이\", \"사우디아라비아\", \"스웨덴\", \"스페인\", \"싱가포르\", \"아랍에미리트\", \"아르헨티나\", \"영국\", \"오스트레일리아\", \"오스트리아\", \"우즈베키스탄\", \"이집트\", \"이탈리아\", \"인도\", \"인도네시아\", \"일본\", \"조선민주주의인민공화국\", \"중화인민공화국\", \"체코\", \"카자흐스탄\", \"캄보디아\", \"태국\", \"투르크메니스탄\", \"파푸아뉴기니\", \"프랑스\", \"핀란드\", \"필리핀\", \"헝가리\"),\n  \"영문_국가명\" = c(\"Norway\", \"New Zealand\", \"Denmark\", \"Germany\", \"Laos\", \"Russia\", \"Malaysia\", \"United States\", \"Myanmar\", \"Vatican City\", \"Vietnam\", \"Belgium\", \"Brunei\", \"Saudi Arabia\", \"Sweden\", \"Spain\", \"Singapore\", \"United Arab Emirates\", \"Argentina\", \"United Kingdom\", \"Australia\", \"Austria\", \"Uzbekistan\", \"Egypt\", \"Italy\", \"India\", \"Indonesia\", \"Japan\", \"North Korea\", \"China\", \"Czech Republic\", \"Kazakhstan\", \"Cambodia\", \"Thailand\", \"Turkmenistan\", \"Papua New Guinea\", \"France\", \"Finland\", \"Philippines\", \"Hungary\"),\n  \"iso2c\" = c(\"NO\", \"NZ\", \"DK\", \"DE\", \"LA\", \"RU\", \"MY\", \"US\", \"MM\", \"VA\", \"VN\", \"BE\", \"BN\", \"SA\", \"SE\", \"ES\", \"SG\", \"AE\", \"AR\", \"GB\", \"AU\", \"AT\", \"UZ\", \"EG\", \"IT\", \"IN\", \"ID\", \"JP\", \"KP\", \"CN\", \"CZ\", \"KZ\", \"KH\", \"TH\", \"TM\", \"PG\", \"FR\", \"FI\", \"PH\", \"HU\")\n)\n\nmoon_tbl |&gt; \n  group_by(국가) |&gt; \n  summarise(방문수 = n(),\n            연도 = str_c(str_glue(\"{lubridate::year(출국일)}\"), collapse = \",\")) |&gt; \n  left_join(country_codes, by = \"국가\") |&gt; \n  mutate(대륙 = countrycode(iso2c, \"iso2c\", \"continent\")) |&gt;\n  arrange(desc(방문수)) |&gt;\n  select(-영문_국가명) |&gt; \n  select(iso2c, everything()) |&gt; \n  gt(groupname_col = \"대륙\") |&gt; \n  fmt_flag(columns = iso2c) |&gt; \n  cols_label(\n    iso2c = \"\"\n  ) |&gt; \n  cols_align(\"center\") |&gt; \n  tab_header(\n    title = md(\"문재인 대통령 해외 순방\"),\n    subtitle = md(\"2017년 5월 10일 ~ 2021년 5월 9일\")\n  ) |&gt;\ntab_footnote(\n  footnote = md(\"데이터 출처: [위키백과](https://ko.wikipedia.org/wiki/문재인의_대통령_순방_목록)\")\n) |&gt;   \n  gt_theme_538() |&gt; \n  ## 표 전체 합계 -------------------------------------\n  grand_summary_rows(\n    columns = 방문수,\n    fns =  list(label = \"\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"bottom\"\n  )\n\n\n\n\n\n\n문재인 대통령 해외 순방\n    \n\n2017년 5월 10일 ~ 2021년 5월 9일\n    \n\n\n      \n      국가\n      방문수\n      연도\n    \n\n\n\nAmericas\n    \n\n\nUnited States\n\n미국\n8\n2017,2017,2018,2018,2019,2019,2021,2021\n\n\n\nArgentina\n\n아르헨티나\n1\n2018\n\n\nEurope\n    \n\n\nRussian Federation\n\n러시아\n2\n2017,2018\n\n\n\n\n바티칸 시국\n2\n2018,2021\n\n\n\nUnited Kingdom\n\n영국\n2\n2021,2021\n\n\n\nItaly\n\n이탈리아\n2\n2018,2021\n\n\n\nNorway\n\n노르웨이\n1\n2019\n\n\n\nDenmark\n\n덴마크\n1\n2018\n\n\n\nGermany\n\n독일\n1\n2017\n\n\n\nBelgium\n\n벨기에\n1\n2018\n\n\n\nSweden\n\n스웨덴\n1\n2019\n\n\n\nSpain\n\n스페인\n1\n2021\n\n\n\nAustria\n\n오스트리아\n1\n2021\n\n\n\nCzechia\n\n체코\n1\n2018\n\n\n\nFrance\n\n프랑스\n1\n2018\n\n\n\nFinland\n\n핀란드\n1\n2019\n\n\n\nHungary\n\n헝가리\n1\n2021\n\n\nAsia\n    \n\n\nVietnam\n\n베트남\n2\n2017,2018\n\n\n\nSingapore\n\n싱가포르\n2\n2018,2018\n\n\n\nUnited Arab Emirates\n\n아랍에미리트\n2\n2018,2022\n\n\n\nJapan\n\n일본\n2\n2018,2019\n\n\n\nKorea, Dem. People's Rep.\n\n조선민주주의인민공화국\n2\n2018,2018\n\n\n\nChina\n\n중화인민공화국\n2\n2017,2019\n\n\n\nThailand\n\n태국\n2\n2019,2019\n\n\n\nLao PDR\n\n라오스\n1\n2019\n\n\n\nMalaysia\n\n말레이시아\n1\n2019\n\n\n\nMyanmar\n\n미얀마\n1\n2019\n\n\n\nBrunei Darussalam\n\n브루나이\n1\n2019\n\n\n\nSaudi Arabia\n\n사우디아라비아\n1\n2022\n\n\n\nUzbekistan\n\n우즈베키스탄\n1\n2019\n\n\n\nIndia\n\n인도\n1\n2018\n\n\n\nIndonesia\n\n인도네시아\n1\n2017\n\n\n\nKazakhstan\n\n카자흐스탄\n1\n2019\n\n\n\nCambodia\n\n캄보디아\n1\n2019\n\n\n\nTurkmenistan\n\n투르크메니스탄\n1\n2019\n\n\n\nPhilippines\n\n필리핀\n1\n2017\n\n\nOceania\n    \n\n\nNew Zealand\n\n뉴질랜드\n1\n2018\n\n\n\nAustralia\n\n오스트레일리아\n1\n2021\n\n\n\nPapua New Guinea\n\n파푸아뉴기니\n1\n2018\n\n\nAfrica\n    \n\n\nEgypt\n\n이집트\n1\n2022\n\n\n\n—\n—\n58\n—\n\n\n\n 데이터 출처: 위키백과"
  },
  {
    "objectID": "tour.html#표-1",
    "href": "tour.html#표-1",
    "title": "지도제작 대회",
    "section": "\n3.1 표",
    "text": "3.1 표\n\n코드\n\nyoon_country_data &lt;- data.frame(\n  상대국 = c(\"스페인\", \"영국\", \"미국\", \"캐나다\", \"캄보디아\", \"인도네시아\", \"아랍에미리트\", \"스위스\", \"일본\", \"미국\", \"일본\", \"프랑스\", \"베트남\", \"리투아니아\", \"폴란드\", \"우크라이나\", \"미국\", \"인도네시아\", \"인도\", \"사우디아라비아\", \"카타르\"),\n  영문명 = c(\"Spain\", \"United Kingdom\", \"United States\", \"Canada\", \"Cambodia\", \"Indonesia\", \"United Arab Emirates\", \"Switzerland\", \"Japan\", \"United States\", \"Japan\", \"France\", \"Vietnam\", \"Lithuania\", \"Poland\", \"Ukraine\", \"United States\", \"Indonesia\", \"India\", \"Saudi Arabia\", \"Qatar\"),\n  ISO2 = c(\"ES\", \"GB\", \"US\", \"CA\", \"KH\", \"ID\", \"AE\", \"CH\", \"JP\", \"US\", \"JP\", \"FR\", \"VN\", \"LT\", \"PL\", \"UA\", \"US\", \"ID\", \"IN\", \"SA\", \"QA\")\n) \n\ntour_yoon_tbl |&gt; \n  group_by(상대국) |&gt; \n  summarise(방문수 = n(),\n            연도 = str_c(str_glue(\"{lubridate::year(출국날짜)}\"), collapse = \",\")) |&gt; \n  ungroup() |&gt; \n  left_join(distinct(yoon_country_data)) |&gt; \n  mutate(대륙 = countrycode(ISO2, \"iso2c\", \"continent\")) |&gt; \n  arrange(desc(방문수)) |&gt;\n  select(-영문명) |&gt; \n  select(ISO2, everything()) |&gt; \n  gt(groupname_col = \"대륙\") |&gt; \n  fmt_flag(columns = ISO2) |&gt; \n  cols_label(\n    ISO2 = \"\"\n  ) |&gt; \n  cols_align(\"center\") |&gt; \n  tab_header(\n    title = md(\"윤석열 대통령 해외 순방\"),\n    subtitle = md(\"2022년 6월 27일 ~ 2023년 10월 26일\")\n  ) |&gt;\ntab_footnote(\n  footnote = md(\"데이터 출처: [위키백과](https://namu.wiki/w/%EC%9C%A4%EC%84%9D%EC%97%B4%20%EC%A0%95%EB%B6%80/%EC%99%B8%EA%B5%90#s-4)\")) |&gt;   \n  gt_theme_538() |&gt; \n  ## 표 전체 합계 -------------------------------------\n  grand_summary_rows(\n    columns = 방문수,\n    fns =  list(label = \"\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"bottom\"\n  )\n\n\n\n\n\n\n윤석열 대통령 해외 순방\n    \n\n2022년 6월 27일 ~ 2023년 10월 26일\n    \n\n\n      \n      상대국\n      방문수\n      연도\n    \n\n\n\nAmericas\n    \n\n\nUnited States\n\n미국\n3\n2022,2023,2023\n\n\n\nCanada\n\n캐나다\n1\n2022\n\n\nAsia\n    \n\n\nIndonesia\n\n인도네시아\n2\n2022,2023\n\n\n\nJapan\n\n일본\n2\n2023,2023\n\n\n\nVietnam\n\n베트남\n1\n2023\n\n\n\nSaudi Arabia\n\n사우디아라비아\n1\n2023\n\n\n\nUnited Arab Emirates\n\n아랍에미리트\n1\n2023\n\n\n\nIndia\n\n인도\n1\n2023\n\n\n\nQatar\n\n카타르\n1\n2023\n\n\n\nCambodia\n\n캄보디아\n1\n2022\n\n\nEurope\n    \n\n\nLithuania\n\n리투아니아\n1\n2023\n\n\n\nSwitzerland\n\n스위스\n1\n2023\n\n\n\nSpain\n\n스페인\n1\n2022\n\n\n\nUnited Kingdom\n\n영국\n1\n2022\n\n\n\nUkraine\n\n우크라이나\n1\n2023\n\n\n\nPoland\n\n폴란드\n1\n2023\n\n\n\nFrance\n\n프랑스\n1\n2023\n\n\n\n—\n—\n21\n—\n\n\n\n 데이터 출처: 위키백과"
  },
  {
    "objectID": "tour.html#지도-1",
    "href": "tour.html#지도-1",
    "title": "지도제작 대회",
    "section": "\n3.2 지도",
    "text": "3.2 지도\n\n코드\nyoon_tour &lt;- tour_yoon_tbl |&gt; \n  group_by(상대국 ) |&gt; \n  summarise(방문수 = n(),\n            연도 = str_c(str_glue(\"{lubridate::year(출국날짜)}\"), collapse = \",\")) |&gt; \n  left_join(distinct(yoon_country_data))\n\nworld_map &lt;- rnaturalearth::ne_countries(scale = 50, returnclass = \"sf\")\n  \ncountry_centroid &lt;- inner_join(st_centroid(world_map), yoon_tour, \n                              by = c(\"iso_a2\" = \"ISO2\"))\n\ncountry_centroid &lt;- bind_cols(country_centroid,\n          st_coordinates(country_centroid) |&gt; \n            as_tibble() |&gt; \n            set_names(c(\"lon\", \"lat\")))\n\nyoon_map &lt;- left_join(world_map, yoon_tour, by = c(\"iso_a2\" = \"ISO2\"))\n\nyoon_map |&gt; \n  filter(continent != \"Antarctica\") |&gt; \n  mutate(방문수 = factor(방문수, levels = c(1, 2, 3),\n                      labels = c(\"1회\", \"2회\", \"3회\"))) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = 방문수)) +\n    scale_fill_manual(values = c(\"gray50\", \"pink\", \"red\"), \n                      na.value = \"transparent\",\n                      breaks = c(\"1회\", \"2회\", \"3회\", NA),\n                      labels = c(\"1회\", \"2회\", \"3회\", \"방문 없음\")) +\n    labs(\n      title = \"윤석열 대통령 해외순방\") +\n    theme_void(base_family = \"NanumGothic\") +\n    theme(legend.position = \"bottom\") +\n    ggrepel::geom_text_repel(\n      data = country_centroid |&gt; select(상대국, lon, lat) |&gt; st_drop_geometry(),\n          aes(label = 상대국, x = lon, y = lat),\n          size = 3, segment.size = 0.2\n      )"
  },
  {
    "objectID": "tour.html#태평양-중심지도-1",
    "href": "tour.html#태평양-중심지도-1",
    "title": "지도제작 대회",
    "section": "\n3.3 태평양 중심지도",
    "text": "3.3 태평양 중심지도\n\n코드yoon_pacific_map &lt;- left_join(world_pacific, yoon_tour, by = c(\"iso_a2\" = \"ISO2\"))\n\nyoon_pacific_centroid &lt;- inner_join(st_centroid(yoon_pacific_map), yoon_tour, \n                              by = c(\"iso_a2\" = \"ISO2\"))\n\nyoon_pacific_country_centroid &lt;- bind_cols(yoon_pacific_centroid,\n          st_coordinates(yoon_pacific_centroid) |&gt; \n            as_tibble() |&gt; \n            set_names(c(\"lon\", \"lat\")))\n\n\nyoon_pacific_map |&gt; \n  mutate(방문수 = factor(방문수, levels = c(1, 2, 3),\n                      labels = c(\"1회\", \"2회\", \"3회\"))) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = 방문수)) +\n    scale_fill_manual(values = c(\"gray50\", \"pink\", \"red\"), \n                      na.value = \"transparent\",\n                      breaks = c(\"1회\", \"2회\", \"3회\", NA),\n                      labels = c(\"1회\", \"2회\", \"3회\", \"방문 없음\")) +\n    # labs(title = \"윤석열 대통령 해외순방\") +\n    theme_void(base_family = \"NanumGothic\") +\n    theme(legend.position = \"bottom\") +\n    ggrepel::geom_text_repel(\n      data = yoon_pacific_country_centroid |&gt; select(상대국.x, lon, lat) |&gt; st_drop_geometry(),\n          aes(label = 상대국.x, x = lon, y = lat),\n          size = 3, segment.size = 0.2\n      )"
  },
  {
    "objectID": "tour.html#표-2",
    "href": "tour.html#표-2",
    "title": "지도제작 대회",
    "section": "\n4.1 표",
    "text": "4.1 표\n\n코드moon_early_tbl &lt;- moon_tbl |&gt; \n  filter(출국일 &lt;= as.Date(\"2018-11-10\")) # 2017년 5월 10일 이후로 1년 6개월\n\nmoon_early_tbl |&gt; \n  group_by(국가) |&gt; \n  summarise(방문수 = n(),\n            연도 = str_c(str_glue(\"{lubridate::year(출국일)}\"), collapse = \",\")) |&gt; \n  left_join(country_codes, by = \"국가\") |&gt; \n  mutate(대륙 = countrycode(iso2c, \"iso2c\", \"continent\")) |&gt;\n  arrange(desc(방문수)) |&gt;\n  select(-영문_국가명) |&gt; \n  select(iso2c, everything()) |&gt; \n  gt(groupname_col = \"대륙\") |&gt; \n  fmt_flag(columns = iso2c) |&gt; \n  cols_label(\n    iso2c = \"\"\n  ) |&gt; \n  cols_align(\"center\") |&gt; \n  tab_header(\n    title = md(\"문재인 대통령 임기초반 해외 순방\"),\n    subtitle = md(\"2017년 5월 10일 ~ 2018년 11월 10일\")\n  ) |&gt;\ntab_footnote(\n  footnote = md(\"데이터 출처: [위키백과](https://ko.wikipedia.org/wiki/문재인의_대통령_순방_목록)\")\n) |&gt;   \n  gt_theme_538() |&gt; \n  ## 표 전체 합계 -------------------------------------\n  grand_summary_rows(\n    columns = 방문수,\n    fns =  list(label = \"\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"bottom\"\n  )\n\n\n\n\n\n\n문재인 대통령 임기초반 해외 순방\n    \n\n2017년 5월 10일 ~ 2018년 11월 10일\n    \n\n\n      \n      국가\n      방문수\n      연도\n    \n\n\n\nAmericas\n    \n\n\nUnited States\n\n미국\n4\n2017,2017,2018,2018\n\n\nEurope\n    \n\n\nRussian Federation\n\n러시아\n2\n2017,2018\n\n\n\nDenmark\n\n덴마크\n1\n2018\n\n\n\nGermany\n\n독일\n1\n2017\n\n\n\n\n바티칸 시국\n1\n2018\n\n\n\nBelgium\n\n벨기에\n1\n2018\n\n\n\nItaly\n\n이탈리아\n1\n2018\n\n\n\nFrance\n\n프랑스\n1\n2018\n\n\nAsia\n    \n\n\nVietnam\n\n베트남\n2\n2017,2018\n\n\n\nKorea, Dem. People's Rep.\n\n조선민주주의인민공화국\n2\n2018,2018\n\n\n\nSingapore\n\n싱가포르\n1\n2018\n\n\n\nUnited Arab Emirates\n\n아랍에미리트\n1\n2018\n\n\n\nIndia\n\n인도\n1\n2018\n\n\n\nIndonesia\n\n인도네시아\n1\n2017\n\n\n\nJapan\n\n일본\n1\n2018\n\n\n\nChina\n\n중화인민공화국\n1\n2017\n\n\n\nPhilippines\n\n필리핀\n1\n2017\n\n\n\n—\n—\n23\n—\n\n\n\n 데이터 출처: 위키백과"
  },
  {
    "objectID": "tour.html#태평양-중심지도-2",
    "href": "tour.html#태평양-중심지도-2",
    "title": "지도제작 대회",
    "section": "\n4.2 태평양 중심지도",
    "text": "4.2 태평양 중심지도\n\n코드\nmoon_early_tour &lt;- moon_early_tbl |&gt; \n  group_by(국가) |&gt; \n  summarise(방문수 = n(),\n            연도 = str_c(str_glue(\"{lubridate::year(출국일)}\"), collapse = \",\")) |&gt; \n  left_join(country_codes, by = \"국가\")\n\nmoon_early_pacific_map &lt;- left_join(world_pacific, moon_early_tour, by = c(\"iso_a2\" = \"iso2c\"))\n\nearly_pacific_centroid &lt;- inner_join(st_centroid(moon_early_pacific_map), moon_tour, \n                              by = c(\"iso_a2\" = \"iso2c\"))\n\nearly_pacific_country_centroid &lt;- bind_cols(early_pacific_centroid,\n          st_coordinates(early_pacific_centroid) |&gt; \n            as_tibble() |&gt; \n            set_names(c(\"lon\", \"lat\")))\n\n\nmoon_early_pacific_map |&gt; \n  mutate(방문수 = factor(방문수, levels = c(1, 2, 4),\n                      labels = c(\"1회\", \"2회\", \"4회\"))) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = 방문수)) +\n    scale_fill_manual(values = c(\"gray50\", \"skyblue\", \"blue\"), \n                      na.value = \"transparent\",\n                      breaks = c(\"1회\", \"2회\", \"4회\", NA),\n                      labels = c(\"1회\", \"2회\", \"4회\", \"방문 없음\")) +\n    # labs(title = \"문재인 대통령 해외순방\") +\n    theme_void(base_family = \"NanumGothic\") +\n    theme(legend.position = \"bottom\") +\n    ggrepel::geom_text_repel(\n      data = early_pacific_country_centroid |&gt; select(국가.x, lon, lat) |&gt; st_drop_geometry(),\n          aes(label = 국가.x, x = lon, y = lat),\n          size = 3, segment.size = 0.2\n      )"
  },
  {
    "objectID": "party_numbers.html",
    "href": "party_numbers.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\n\nparty_2021 &lt;- tribble(\n  ~구분, ~당원수, ~분포비, ~등록된_시도당수, ~시도당_평균당원수,\n  \"합계\", 10429577, 100, 355, 29379,\n  \"더불어민주당\", 4853266, 46.5, 17, 285486,\n  \"국민의힘\", 4070005, 39.0, 17, 239412,\n  \"정의당\", 50618, 0.5, 17, 2978,\n  \"국민의당\", 20185, 0.2, 7, 2884,\n  \"열린민주당\", 42944, 0.4, 5, 8589,\n  \"기본소득당\", 19814, 0.2, 5, 3963,\n  \"시대전환\", 8458, 0.1, 5, 1692,\n  \"가가례도인연합\", 6538, 0.1, 6, 1090,\n  \"가나코리아\", 5365, 0.1, 5, 1073,\n  \"가자평화인권당\", 6481, 0.1, 6, 1080,\n  \"가자환경당\", 7480, 0.1, 6, 1247,\n  \"거지당\", 10782, 0.1, 8, 1348,\n  \"국가혁명당\", 32153, 0.3, 16, 2010,\n  \"국민대통합당\", 6248, 0.1, 5, 1250,\n  \"국민참여신당\", 5773, 0.1, 5, 1155,\n  \"국민혁명당\", 148164, 1.4, 13, 11397,\n  \"기독당\", 5272, 0.1, 5, 1054,\n  \"깨어있는시민연대당\", 6490, 0.1, 5, 1298,\n  \"남북통일당\", 5324, 0.1, 5, 1065,\n  \"노동당\", 11039, 0.1, 7, 1577,\n  \"녹색당\", 8452, 0.1, 5, 1690,\n  \"대한국민당\", 5585, 0.1, 5, 1117,\n  \"대한당\", 5565, 0.1, 5, 1113,\n  \"대한민국당\", 6721, 0.1, 5, 1344,\n  \"독도한국당\", 6631, 0.1, 6, 1105,\n  \"미래당\", 12935, 0.1, 6, 2156,\n  \"민생당\", 378309, 3.6, 11, 34392,\n  \"민중민주당\", 9872, 0.1, 7, 1410,\n  \"새누리당\", 36170, 0.3, 7, 5167,\n  \"신자유민주연합\", 5362, 0.1, 5, 1072,\n  \"신한반도당\", 8872, 0.1, 8, 1109,\n  \"여성의당\", 9571, 0.1, 5, 1914,\n  \"우리공화당\", 411337, 3.9, 13, 31641,\n  \"자유당\", 5368, 0.1, 5, 1074,\n  \"자유민주당\", 7092, 0.1, 5, 1418,\n  \"자유의새벽당\", 11707, 0.1, 5, 2341,\n  \"중소자영업당\", 5823, 0.1, 5, 1165,\n  \"직능자영업당\", 5184, 0.0, 5, 1037,\n  \"진보당\", 85718, 0.8, 16, 5357,\n  \"친박신당\", 8310, 0.1, 6, 1385,\n  \"친박연대\", 5257, 0.1, 5, 1051,\n  \"통일한국당\", 11971, 0.1, 6, 1995,\n  \"한국국민당\", 6879, 0.1, 6, 1147,\n  \"한국복지당\", 7071, 0.1, 7, 1010,\n  \"한나라당\", 5790, 0.1, 5, 1158,\n  \"한류연합당\", 9305, 0.1, 7, 1329,\n  \"한반도미래연합\", 8498, 0.1, 8, 1062,\n  \"혁명21\", 11179, 0.1, 6, 1863,\n  \"홍익당\", 6644, 0.1, 5, 1329\n) |&gt; \n  slice(2:n()) \n\n\nparty_2021 |&gt; \n  summarise(당원수 = sum(당원수)) # 10,429,577\n#&gt; # A tibble: 1 × 1\n#&gt;     당원수\n#&gt;      &lt;dbl&gt;\n#&gt; 1 10429577\n\n\n\n\n코드library(tibble)\n\nsido_party_2021 &lt;- tribble(\n  ~구분, ~합계, ~더불어민주당, ~국민의힘, ~정의당, ~국민의당, ~열린민주당, ~기본소득당, ~시대전환, ~가가례도인연합, ~가나코리아, ~가자평화인권당, ~가자환경당,\n  \"합계\", 10429577, 4853266, 4070005, 50618, 20185, 42944, 19814, 8458, 6538, 5365, 6481, 7480,\n  \"서울\", 1830842, 858016, 633807, 9882, 6847, 24768, 3254, 1290, 1041, 1123, 1042, 1472,\n  \"부산\", 530951, 158779, 245492, 2257, NA, 3996, 4436, NA, NA, NA, 1103, 1414,\n  \"대구\", 340866, 41126, 221321, 1228, 1138, NA, NA, NA, NA, NA, NA, NA,\n  \"인천\", 462086, 180174, 226077, 4661, 1686, NA, 3063, NA, 1103, 1017, NA, NA,\n  \"광주\", 544234, 398357, 56614, 2372, 1814, 5680, 3363, 1051, NA, NA, NA, 1080,\n  \"대전\", 372618, 151895, 191034, 1345, 3099, NA, NA, NA, NA, NA, 1016, NA,\n  \"울산\", 250177, 59315, 159387, 1390, NA, 4009, NA, NA, NA, NA, NA, NA,\n  \"세종\", 39355, 18972, 13300, 1070, NA, NA, NA, NA, NA, NA, NA, NA,\n  \"경기\", 1992315, 915531, 795874, 10394, 3703, NA, 5698, 1400, 1142, 1035, 1106, 1178,\n  \"강원\", 353634, 121301, 211046, 1143, NA, NA, NA, NA, 1081, 1095, NA, NA,\n  \"충북\", 380942, 158913, 188375, 1149, 1898, NA, NA, NA, NA, NA, NA, NA,\n  \"충남\", 514251, 223238, 240892, 1519, NA, NA, NA, NA, 1086, 1095, NA, NA,\n  \"전북\", 832477, 676755, 70693, 3449, NA, NA, NA, 2308, 1085, NA, 1101, NA,\n  \"전남\", 772029, 591321, 54630, 3981, NA, 4491, NA, 2409, NA, NA, NA, 1023,\n  \"경북\", 492060, 44788, 363621, 1361, NA, NA, NA, NA, NA, NA, NA, NA,\n  \"경남\", 531808, 148649, 323319, 2226, NA, NA, NA, NA, NA, NA, 1113, 1313,\n  \"제주\", 188932, 106136, 74523, 1191, NA, NA, NA, NA, NA, NA, NA, NA\n) |&gt; \n  slice(2:n())\n  \nsido_party_2021 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;       합계\n#&gt;      &lt;dbl&gt;\n#&gt; 1 10429577\n\n\n\n\n코드library(tibble)\n\npayer_2021 &lt;- tribble(\n  ~정당, ~당원수, ~납부자수, ~당비납부비율, ~등록된_시도당수,\n  \"합계\", 10429577, 2133765, 20.5, 355,\n  \"더불어민주당\", 4853266, 1295909, 26.7, 17,\n  \"국민의힘\", 4070005, 609090, 15.0, 17,\n  \"정의당\", 50618, 26470, 52.3, 17,\n  \"국민의당\", 20185, 4683, 23.2, 7,\n  \"열린민주당\", 42944, 10383, 24.2, 5,\n  \"기본소득당\", 19814, 809, 4.1, 5,\n  \"시대전환\", 8458, 61, 0.7, 5,\n  \"가가례도인연합\", 6538, NA, NA, 6,\n  \"가나코리아\", 5365, 5, 0.1, 5,\n  \"가자평화인권당\", 6481, NA, NA, 6,\n  \"가자환경당\", 7480, NA, NA, 6,\n  \"거지당\", 10782, 301, 2.8, 8,\n  \"국가혁명당\", 32153, 8549, 26.6, 16,\n  \"국민대통합당\", 6248, NA, NA, 5,\n  \"국민참여신당\", 5773, NA, NA, 5,\n  \"국민혁명당\", 148164, 53720, 36.3, 13,\n  \"기독당\", 5272, NA, NA, 5,\n  \"깨어있는시민연대당\", 6490, 35, 0.5, 5,\n  \"남북통일당\", 5324, 216, 4.1, 5,\n  \"노동당\", 11039, 2781, 25.2, 7,\n  \"녹색당\", 8452, 3469, 41.0, 5,\n  \"대한국민당\", 5585, NA, NA, 5,\n  \"대한당\", 5565, NA, NA, 5,\n  \"대한민국당\", 6721, 167, 2.5, 5,\n  \"독도한국당\", 6631, NA, NA, 6,\n  \"미래당\", 12935, 1311, 10.1, 6,\n  \"민생당\", 378309, 9881, 2.6, 11,\n  \"민중민주당\", 9872, 57, 0.6, 7,\n  \"새누리당\", 36170, 844, 2.3, 7,\n  \"신자유민주연합\", 5362, 322, 6.0, 5,\n  \"신한반도당\", 8872, 20, 0.2, 8,\n  \"여성의당\", 9571, 2487, 26.0, 5,\n  \"우리공화당\", 411337, 50287, 12.2, 13,\n  \"자유당\", 5368, 40, 0.7, 5,\n  \"자유민주당\", 7092, 733, 10.3, 5,\n  \"자유의새벽당\", 11707, 2615, 22.3, 5,\n  \"중소자영업당\", 5823, NA, NA, 5,\n  \"직능자영업당\", 5184, NA, NA, 5,\n  \"진보당\", 85718, 46158, 53.8, 16,\n  \"친박신당\", 8310, 241, 2.9, 6,\n  \"친박연대\", 5257, NA, NA, 5,\n  \"통일한국당\", 11971, 94, 0.8, 6,\n  \"한국국민당\", 6879, 106, 1.5, 6,\n  \"한국복지당\", 7071, NA, NA, 7,\n  \"한나라당\", 5790, NA, NA, 5,\n  \"한류연합당\", 9305, 119, 1.3, 7,\n  \"한반도미래연합\", 8498, NA, NA, 8,\n  \"혁명21\", 11179, 1659, 14.8, 6,\n  \"홍익당\", 6644, 143, 2.2, 5\n)\n\npayer_2021 |&gt; \n  summarise( 당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;     당원수\n#&gt;      &lt;dbl&gt;\n#&gt; 1 20859154\n\n\n\n단위: 백만원\n\n코드# R에서 데이터프레임 생성\nincome_2021 &lt;- tribble(\n  ~\"구분\", ~\"합계\", ~\"전년도이월\", ~\"당비\", ~\"기탁금\", ~\"후원회기부금\", ~\"보조금\", ~\"차입금\", ~\"기타\",\n  \"합계\", 196317, 63629, 61507, 774, 4375, 46278, 3970, 15784,\n  \"더불어민주당\", 89396, 36400, 28402, 348, 350, 21060, 0, 2836,\n  \"국민의힘\", 57990, 15222, 12030, 305, 1352, 18500, 0, 10581,\n  \"정의당\", 12293, 2629, 3807, 51, 896, 3075, 1322, 513,\n  \"국민의당\", 2774, 547, 443, 22, 67, 1364, 0, 331,\n  \"열린민주당\", 3090, 731, 835, 21, 100, 1294, 0, 109,\n  \"기본소득당\", 1099, 25, 925, 0.5, 15, 32, 0, 101,\n  \"시대전환\", 263, 29, 84, 0.5, 32, 28, 0, 90,\n  \"기타정당\", 29412, 8046, 14981, 26, 1563, 925, 2648, 1223\n)\n\n# 데이터프레임 확인\nincome_2021 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;     당비\n#&gt;    &lt;dbl&gt;\n#&gt; 1 123014\n\n\n\n단위: 백만원\n\n코드# R에서 데이터프레임 생성\nexpense_2021 &lt;- tribble(\n  ~\"구분\", ~\"합계\", ~\"선거비용\", ~\"기본경비\", ~\"정책개발비\", ~\"조직활동비\", ~\"여성정치발전비\", ~\"그밖의경비\",\n  \"합계\", 137932, 549, 65988, 17203, 44927, 4930, 4333,\n  \"더불어민주당\", 55624, 0, 24578, 5354, 23348, 2136, 208,\n  \"국민의힘\", 44224, 0, 20789, 9175, 9817, 1952, 2491,\n  \"정의당\", 10511, 260, 6478, 1175, 1602, 367, 629,\n  \"국민의당\", 2222, 0, 848, 485, 577, 195, 117,\n  \"열린민주당\", 1518, 0, 912, 94, 351, 150, 11,\n  \"기본소득당\", 873, 229, 427, 76, 136, 4, 1,\n  \"시대전환\", 243, 0, 223, 4, 8, 4, 4,\n  \"기타정당\", 22717, 60, 11733, 841, 9088, 122, 873\n)\n\n# 데이터프레임 확인\nexpense_2021 |&gt; \n  summarise(선거비용 = sum(선거비용))\n#&gt; # A tibble: 1 × 1\n#&gt;   선거비용\n#&gt;      &lt;dbl&gt;\n#&gt; 1     1098\n\n\n\n\n\n코드# R에서 데이터프레임 생성\nsido_party_2020 &lt;- data.frame(\n  구분 = c(\"합계\", \"서울\", \"부산\", \"대구\", \"인천\", \"광주\", \"대전\", \"울산\", \"세종\", \"경기\", \"강원\", \"충북\", \"충남\", \"전북\", \"전남\", \"경북\", \"경남\", \"제주\"),\n  더불어민주당 = c(4053466, 732483, 148679, 38874, 148971, 334034, 122231, 49331, 15889, 764856, 91291, 135103, 168409, 578593, 478573, 41698, 131459, 72992),\n  국민의힘 = c(3489924, 552794, 218624, 196849, 197176, 51999, 170297, 147025, 10539, 670052, 168159, 155963, 183772, 65861, 50544, 304372, 280395, 65503),\n  정의당 = c(53080, 11190, 2311, 1265, 4968, 2369, 1434, 1498, 1094, 10370, 1186, 1234, 1529, 3563, 4030, 1479, 2362, 1198),\n  국민의당 = c(16023, 4721, NA, 1030, 1606, 1746, 2805, NA, NA, 2393, NA, 1722, NA, NA, NA, NA, NA, NA),\n  열린민주당 = c(40456, 23431, 3731, NA, NA, 5202, NA, 3834, NA, NA, NA, NA, NA, NA, 4258, NA, NA, NA),\n  기본소득당 = c(19879, 3281, 4457, NA, 3616, 3050, NA, NA, NA, 5475, NA, NA, NA, NA, NA, NA, NA, NA),\n  시대전환 = c(6945, 1771, NA, NA, NA, 1051, NA, NA, NA, 1210, NA, NA, NA, 1121, 1792, NA, NA, NA),\n  가나코리아 = c(5365, 1123, NA, NA, 1017, NA, NA, NA, NA, 1035, 1095, NA, 1095, NA, NA, NA, NA, NA),\n  가자평화 = c(6707, 1026, 1026, NA, NA, NA, 1016, NA, NA, 1106, NA, NA, NA, 1101, NA, NA, 1432, NA),\n  인권당 = c(7487, 1471, 1415, NA, NA, 1080, NA, NA, NA, 1178, NA, NA, NA, NA, 1030, NA, 1313, NA)\n) |&gt; \n  slice(2:n()) |&gt; \n  as_tibble()\n\n# 데이터프레임 확인\nsido_party_2020 |&gt; \n  as_tibble() |&gt; \n  summarise(민주당 = sum(더불어민주당))\n#&gt; # A tibble: 1 × 1\n#&gt;    민주당\n#&gt;     &lt;dbl&gt;\n#&gt; 1 4053466\n\n\n\n\n코드# R에서 데이터프레임 생성\npayer_2020 &lt;- data.frame(\n  정당 = c(\"합계\", \"더불어민주당\", \"국민의힘\", \"정의당\", \"국민의당\", \"열린민주당\", \"기본소득당\", \"시대전환\", \"가나코리아\", \"가자!평화인권당\", \"가자환경당\", \"거지당\", \"국가혁명당\", \"국민새정당\", \"국민참여신당\"),\n  당원수 = c(8771263, 4053466, 3489924, 53080, 16023, 40456, 19879, 6945, 5365, 6707, 7487, 9505, 29757, 9032, 5773),\n  납부자수 = c(1433446, 896296, 347322, 39872, 3369, 12098, 1435, 77, 10, NA, 2, NA, 5889, NA, NA),\n  당비납부비율 = c(16.3, 22.1, 10.0, 75.1, 21.0, 29.9, 7.2, 1.1, 0.2, NA, NA, NA, 19.8, NA, NA),\n  등록된시도당수 = c(332, 17, 17, 17, 7, 5, 5, 5, 5, 6, 6, 8, 17, 8, 5)\n) |&gt; \n  slice(2:n()) |&gt; \n  as_tibble()\n\n# 데이터프레임 확인\npayer_2020 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7753399\n\n\n\n\n코드# R에서 데이터프레임 생성\nincome_2020 &lt;- tribble(\n  ~\"구분\", ~\"합계\", ~\"전년도이월\", ~\"당비\", ~\"기탁금\", ~\"후원회기부금\", ~\"보조금\", ~\"차입금\", ~\"기타\",\n  \"합계\", 311220, 45278, 67895, 962, 6095, 90718, 60154, 40118,\n  \"더불어민주당\", 95045, 20643, 31211, 305, 403, 32706, 1840, 7937,\n  \"국민의힘\", 120989, 11301, 13383, 350, 541, 36115, 43897, 15402,\n  \"정의당\", 22597, 2084, 5156, 60, 1723, 5679, 2070, 5825,\n  \"국민의당\", 9045, 0, 242, 0, 60, 1017, 3482, 4244,\n  \"열린민주당\", 10245, 0, 881, 0, 505, 968, 4234, 3657,\n  \"기본소득당\", 633, 18, 392, 0, 55, 16, 48, 104,\n  \"시대전환\", 220, 6, 65, 0, 25, 15, 50, 59,\n  \"기타정당\", 52446, 11226, 16565, 247, 2783, 14202, 4533, 2890\n) |&gt; \n  as_tibble()\n\n# 데이터프레임 확인\nincome_2020 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;     당비\n#&gt;    &lt;dbl&gt;\n#&gt; 1 135790\n\n\n\n\n코드# 추가로 만들어야 하는 데이터프레임\nexpense_2020 &lt;- tribble(\n  ~\"구분\", ~\"합계\", ~\"선거비용\", ~\"기본경비\", ~\"정책개발비\", ~\"조직활동비\", ~\"여성정치발전비\", ~\"그밖의경비\",\n  \"합계\", 248036, 31066, 115856, 14449, 58610, 5235, 22820,\n  \"더불어민주당\", 58549, 4058, 21682, 4274, 22438, 1891, 4206,\n  \"국민의힘\", 104155, 4844, 69579, 6410, 14364, 1877, 7081,\n  \"정의당\", 21042, 4709, 7384, 1180, 6345, 340, 1084,\n  \"국민의당\", 8512, 3911, 1022, 130, 415, 115, 2919,\n  \"열린민주당\", 9517, 3544, 685, 53, 603, 96, 4536,\n  \"기본소득당\", 633, 53, 341, 53, 165, 1, 20,\n  \"시대전환\", 197, 0, 121, 71, 2, 0, 3,\n  \"기타정당\", 45431, 9947, 15042, 2278, 14278, 915, 2971\n)\n\n# 데이터프레임 확인\nexpense_2020 |&gt; \n  summarise(선거비용 = sum(선거비용))\n#&gt; # A tibble: 1 × 1\n#&gt;   선거비용\n#&gt;      &lt;dbl&gt;\n#&gt; 1    62132\n\n\n\n\n\n코드library(readxl)\n\nsido_party_2019 &lt;- read_excel(\"data/2019.xlsx\", sheet=\"page01\")\n\nsido_party_2019 &lt;- sido_party_2019 |&gt; \n  filter(구분 != \"합계\")\n\nsido_party_2019 |&gt; \n  summarise(당원수 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 8657559\n\n\n\n\n코드payer_2019 &lt;- read_excel(\"data/2019.xlsx\", sheet=\"page02\")\n\npayer_2019 &lt;- payer_2019 |&gt; \n  filter(정당 != \"합계\") |&gt; \n  mutate(납부자수 = parse_number(납부자수))\n\npayer_2019 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 8657559\n\n\n\n\n코드income_2019 &lt;- read_excel(\"data/2019.xlsx\", sheet=\"page03\")\n\nincome_2019 &lt;- income_2019 |&gt; \n  filter(구분 != \"합계\")\n\nincome_2019 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;    당비\n#&gt;   &lt;dbl&gt;\n#&gt; 1 44581\n\n\n\n\n코드expense_2019 &lt;- read_excel(\"data/2019.xlsx\", sheet=\"page04\")\n\nexpense_2019 &lt;- expense_2019 |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2019 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 113009\n\n\n\n\n\n코드library(readxl)\n\nsido_party_2018 &lt;- read_excel(\"data/2018.xlsx\", sheet=\"page01\")\n\nsido_party_2018 &lt;- sido_party_2018 |&gt; \n  filter(구분 != \"합계\")\n\nsido_party_2018 |&gt; \n  summarise(당원수 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7825929\n\n\n\n\n코드payer_2018 &lt;- read_excel(\"data/2018.xlsx\", sheet=\"page02\")\n\npayer_2018 &lt;- payer_2018 |&gt; \n  filter(정당 != \"합계\") |&gt; \n  mutate(납부자수 = parse_number(납부자수))\n\npayer_2018 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7825929\n\n\n\n\n코드income_2018 &lt;- read_excel(\"data/2018.xlsx\", sheet=\"page03\")\n\nincome_2018 &lt;- income_2018 |&gt; \n  filter(구분 != \"합계\")\n\nincome_2018 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;    당비\n#&gt;   &lt;dbl&gt;\n#&gt; 1 71631\n\n\n\n\n코드expense_2018 &lt;- read_excel(\"data/2018.xlsx\", sheet=\"page04\")\n\nexpense_2018 &lt;- expense_2018 |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2018 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 194196\n\n\n\n\n\n코드\n# tribble 함수를 이용해 DataFrame 생성\nsido_party_2017 &lt;- tribble(\n  ~구분, ~합계, ~더불어민주당, ~자유한국당, ~국민의당, ~바른정당, ~정의당, ~민중당, ~대한애국당, ~가자코리아, ~경제애국당, ~공화당,\n  \"합계\", 7507952, 3568111, 3227708, 285023, 67053, 40362, 46539, 41685, 5288, 6779, 6568,\n  \"서울\", 1283838, 640138, 511970, 39119, 10777, 8224, 4684, 10272, 1114, 1185, 1034,\n  \"부산\", 360443, 135736, 190581, 8890, 2673, 1895, 2955, 2597, 1030, NA, NA,\n  \"대구\", 245098, 32984, 179375, 4147, 4557, 1796, 1120, 6200, 1059, NA, NA,\n  \"인천\", 361923, 135400, 188407, 6430, 3310, 2937, 1595, 2262, 1011, NA, NA,\n  \"광주\", 407488, 300064, 51398, 38655, 1419, 1443, 7131, 1090, NA, NA, NA,\n  \"대전\", 297531, 106025, 167572, 6366, 1451, 1928, 2206, 1920, 1072, NA, NA,\n  \"울산\", 183212, 34606, 135216, 2181, 2389, 1385, 3289, 1082, NA, NA, NA,\n  \"세종\", 24495, 13104, 9306, 1008, NA, NA, NA, NA, NA, NA, NA,\n  \"경기\", 1353048, 628929, 620356, 31616, 15947, 7171, 7839, 8970, 1031, 1159, 1069,\n  \"강원\", 264107, 80527, 162328, 7696, 1679, 1248, 1172, 1924, 1039, NA, NA,\n  \"충북\", 283900, 121696, 145490, 6021, 1358, 1003, 1106, 1293, NA, NA, NA,\n  \"충남\", 351195, 148353, 177742, 8025, 1922, 1115, 1554, 1412, 1093, NA, NA,\n  \"전북\", 674426, 545688, 63866, 48931, 1773, 2585, 2155, 1070, NA, NA, NA,\n  \"전남\", 561645, 427648, 50169, 66262, 1208, 3364, 6111, NA, NA, NA, NA,\n  \"경북\", 323115, 33684, 257338, 4417, 9145, 1920, 1575, 2248, 1180, NA, NA,\n  \"경남\", 391553, 115964, 251957, 4199, 5208, 1527, 1795, 1795, NA, NA, NA,\n  \"제주\", 140935, 67565, 64637, 2068, 2587, 1824, NA, NA, NA, NA, NA\n) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nsido_party_2017 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;      합계\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7507952\n\n\n\n\n코드# tribble 함수를 사용하여 데이터 프레임을 생성한다\npayer_2017 &lt;- tribble(\n  ~\"정당\", ~\"당원수\", ~\"납부자수\", ~\"당비납부\", ~\"비율(%)\", ~\"등록된시·도당수\",\n  \"합계\", 7507952, 1320976, NA, 17.6, 285,\n  \"더불어민주당\", 3568111, 834573, NA, 23.4, 17,\n  \"자유한국당\", 3227708, 335000, NA, 10.4, 17,\n  \"국민의당\", 285023, 44371, NA, 15.6, 16,\n  \"바른정당\", 67053, 29712, NA, 44.3, 16,\n  \"정의당\", 40362, 25687, NA, 63.6, 15,\n  \"민중당\", 46539, 25960, NA, 55.8, 15,\n  \"대한애국당\", 41685, 9579, NA, 23.0, 12,\n  \"가자코리아\", 5288, NA, NA, NA, 5,\n  \"경제애국당\", 6779, 6, NA, 0.1, 6,\n  \"공화당\", 6568, NA, NA, NA, 6,\n  \"국민대통합당\", 7161, NA, NA, NA, 6,\n  \"국민새정당\", 8983, NA, NA, NA, 8,\n  \"국민행복당\", 5253, 125, NA, 2.4, 5,\n  \"국제녹색당\", 12019, NA, NA, NA, 11,\n  \"그린불교연합당\", 5411, NA, NA, NA, 5,\n  \"기독당\", 6442, NA, NA, NA, 5,\n  \"기독자유당\", 9206, 2, NA, NA, 8,\n  \"노동당\", 11823, 4784, NA, 40.5, 7,\n  \"녹색당\", 9308, 5725, NA, 61.5, 5,\n  \"늘푸른한국당\", 20863, 262, NA, 1.3, 17,\n  \"대한민국당\", 6360, 134, NA, 2.1, 5,\n  \"민중민주당\", 6461, 19, NA, 0.3, 5,\n  \"사회민주당\", 4653, 38, NA, 0.8, 5,\n  \"새누리당\", 30603, 3784, NA, 12.4, 7,\n  \"우리미래\", 6269, 993, NA, 15.8, 5,\n  \"인권정당\", 6537, NA, NA, NA, 6,\n  \"진리대한당\", 5458, NA, NA, NA, 5,\n  \"친박연대\", 5257, NA, NA, NA, 5,\n  \"통일한국당\", 5787, 20, NA, 0.3, 5,\n  \"통합민주당\", 5262, NA, NA, NA, 5,\n  \"한국국민당\", 6832, 106, NA, 1.6, 6,\n  \"한나라당\", 5789, NA, NA, NA, 5,\n  \"한누리평화통일당\", 7064, NA, NA, NA, 7,\n  \"한반도미래연합\", 7392, NA, NA, NA, 7,\n  \"홍익당\", 6643, 96, NA, 1.4, 5\n) |&gt; \n  filter(정당 != \"합계\")\n\npayer_2017 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7507952\n\n\n\n\n코드# tibble 패키지 로드\nlibrary(tibble)\n\n# tribble 함수를 이용해 DataFrame 생성\nincome_2017 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`전년도이월`, ~`당비`, ~`기탁금`, ~`후원회기부금`, ~`보조금`, ~`차입금`, ~`기타`,\n  \"합 계\", 399421, 39181, 46017, 4479, 4859, 84276, 88290, 132319,\n  \"더 불 어 민 주 당\", 139442, 8239, 14040, 1444, 330, 24965, 40887, 49537,\n  \"자 유 한 국 당\", 124191, 25005, 12191, 1413, 294, 24583, 25143, 35562, \n  \"국 민 의 당\", 90282, 4620, 2097, 1342, 4, 17678, 19570, 44971,\n  \"바 른 정 당\", 16108, 32, 3273, 5, 903, 11483, 12, 400,\n  \"정 의 당\", 13652, 669, 4059, 275, 1446, 5492, 656, 1055,\n  \"민 중 당\", 5158, 125, 3160, 0, 790, 28, 595, 460,\n  \"대 한 애 국 당\", 945, 0, 521, 0, 400, 7, 2, 15,\n  \"기 타 정 당\", 9643, 491, 6676, 0, 692, 40, 1425, 319\n) |&gt; \n  mutate(구분 = str_remove_all(구분, \"\\\\s\")) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nincome_2017\n#&gt; # A tibble: 8 × 9\n#&gt;   구분           합계 전년도이월  당비 기탁금 후원회기부금 보조금 차입금  기타\n#&gt;   &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;\n#&gt; 1 더불어민주당 139442       8239 14040   1444          330  24965  40887 49537\n#&gt; 2 자유한국당   124191      25005 12191   1413          294  24583  25143 35562\n#&gt; 3 국민의당      90282       4620  2097   1342            4  17678  19570 44971\n#&gt; 4 바른정당      16108         32  3273      5          903  11483     12   400\n#&gt; 5 정의당        13652        669  4059    275         1446   5492    656  1055\n#&gt; 6 민중당         5158        125  3160      0          790     28    595   460\n#&gt; 7 대한애국당      945          0   521      0          400      7      2    15\n#&gt; 8 기타정당       9643        491  6676      0          692     40   1425   319\n\n\n\n\n코드# tribble 함수를 이용해 DataFrame 생성\nexpense_2017 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`선거비용`, ~`기본경비`, ~`정책개발비`, ~`조직활동비`, ~`여성정치발전비`, ~`그밖의경비`,\n  \"합 계\", 366341, 133900, 76293, 16992, 42509, 4727, 91920,\n  \"더 불 어 민 주 당\", 132145, 46114, 24973, 4254, 15288, 1287, 40229,\n  \"자 유 한 국 당\", 109761, 32835, 27333, 8371, 11042, 1706, 28474,\n  \"국 민 의 당\", 83101, 41915, 9343, 2907, 7869, 918, 20149,\n  \"바 른 정 당\", 13437, 4774, 5121, 336, 2543, 536, 127,\n  \"정 의 당\", 12866, 3532, 5318, 1046, 1620, 274, 1076,\n  \"민 중 당\", 5016, 909, 1694, 18, 1624, 4, 767,\n  \"대 한 애 국 당\", 873, 0, 276, 0, 595, 0, 2,\n  \"기 타 정 당\", 9142, 3821, 2235, 60, 1928, 2, 1096\n) |&gt; \n  mutate(구분 = str_remove_all(구분, \"\\\\s\")) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nexpense_2017\n#&gt; # A tibble: 8 × 8\n#&gt;   구분    합계 선거비용 기본경비 정책개발비 조직활동비 여성정치발전비 그밖의경비\n#&gt;   &lt;chr&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;          &lt;dbl&gt;      &lt;dbl&gt;\n#&gt; 1 더불… 132145    46114    24973       4254      15288           1287      40229\n#&gt; 2 자유… 109761    32835    27333       8371      11042           1706      28474\n#&gt; 3 국민…  83101    41915     9343       2907       7869            918      20149\n#&gt; 4 바른…  13437     4774     5121        336       2543            536        127\n#&gt; 5 정의…  12866     3532     5318       1046       1620            274       1076\n#&gt; 6 민중…   5016      909     1694         18       1624              4        767\n#&gt; 7 대한…    873        0      276          0        595              0          2\n#&gt; 8 기타…   9142     3821     2235         60       1928              2       1096\n\n\n\n\n\n코드library(readxl)\n\nsido_party_2016 &lt;- read_excel(\"data/2016.xlsx\", sheet=\"page01\")\n\nsido_party_2016 &lt;- sido_party_2016 |&gt; \n  filter(구분 != \"합계\")\n\nsido_party_2016 |&gt; \n  summarise(당원수 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 6101987\n\n\n\n\n코드payer_2016 &lt;- read_excel(\"data/2016.xlsx\", sheet=\"page02\")\n\npayer_2016 &lt;- payer_2016 |&gt; \n  filter(정당 != \"합계\")\n\npayer_2016 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 6101987\n\n\n\n\n코드income_2016 &lt;- read_excel(\"data/2016.xlsx\", sheet=\"page03\")\n\nincome_2016 &lt;- income_2016 |&gt; \n  filter(구분 != \"합계\")\n\nincome_2016 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;    당비\n#&gt;   &lt;dbl&gt;\n#&gt; 1 42068\n\n\n\n\n코드expense_2016 &lt;- read_excel(\"data/2016.xlsx\", sheet=\"page04\")\n\nexpense_2016 &lt;- expense_2016 |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2016 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 175825\n\n\n\n\n\n코드library(readxl)\n\nsido_party_2015 &lt;- read_excel(\"data/2015.xlsx\", sheet=\"page01\")\n\nsido_party_2015 &lt;- sido_party_2015 |&gt; \n  filter(구분 != \"합계\")\n\nsido_party_2015 |&gt; \n  summarise(당원수 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 5837061\n\n\n\n\n코드payer_2015 &lt;- read_excel(\"data/2015.xlsx\", sheet=\"page02\")\n\npayer_2015 &lt;- payer_2015 |&gt; \n  filter(정당 != \"합계\")\n\npayer_2015 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 5743354\n\n\n\n\n코드income_2015 &lt;- read_excel(\"data/2015.xlsx\", sheet=\"page03\")\n\nincome_2015 &lt;- income_2015 |&gt; \n  filter(구분 != \"합계\")\n\nincome_2015 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;    당비\n#&gt;   &lt;dbl&gt;\n#&gt; 1 22154\n\n\n\n\n코드expense_2015 &lt;- read_excel(\"data/2015.xlsx\", sheet=\"page04\")\n\nexpense_2015 &lt;- expense_2015 |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2015 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    합계\n#&gt;   &lt;dbl&gt;\n#&gt; 1 82361\n\n\n\n\n\n코드# tibble 패키지 로드\nlibrary(tibble)\n\n# tribble 함수로 DataFrame 생성\nsido_party_2014 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`새누리당`, ~`새정치 민주연합`, ~`정의당`, ~`겨레자유`, ~`평화통일당 경제민주당`, ~`공화당`, ~`국제녹색당`,\n  \"합계\", 5245611, 2708085, 2430111, 18184, 5340, 6121, 6661, 11993,\n  \"서울\", 854469, 440230, 392397, 2870, 1073, 1119, 1031, 1080,\n  \"부산\", 261053, 155380, 100032, 1152, 0, 0, 1130, 1084,\n  \"대구\", 142209, 116729, 22132, 1274, 0, 0, 0, 0,\n  \"인천\", 264772, 164672, 88937, 1483, 1050, 1039, 0, 1198,\n  \"광주\", 290523, 50746, 236369, 0, 0, 0, 0, 1079,\n  \"대전\", 235967, 152724, 75706, 1105, 0, 1014, 1072, 0,\n  \"울산\", 128820, 112527, 14198, 1073, 0, 0, 0, 0,\n  \"세종\", 15216, 8942, 6274, 0, 0, 0, 0, 0,\n  \"경기\", 945114, 543051, 383963, 2756, 1031, 1489, 1068, 1062,\n  \"강원\", 189618, 136025, 47140, 1078, 1093, 0, 0, 1050,\n  \"충북\", 203365, 118325, 81530, 0, 0, 0, 1290, 1030,\n  \"충남\", 224028, 150430, 68173, 0, 1093, 0, 0, 1030,\n  \"전북\", 506132, 59028, 442007, 1554, 0, 0, 1070, 1190,\n  \"전남\", 405205, 45805, 354887, 1224, 0, 0, 0, 1092,\n  \"경북\", 214150, 184736, 23390, 1365, 0, 1460, 0, 1098,\n  \"경남\", 259914, 200703, 57202, 0, 0, 0, 0, 0,\n  \"제주\", 105056, 68032, 35774, 1250, 0, 0, 0, 0\n) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nsido_party_2014 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;      합계\n#&gt;     &lt;dbl&gt;\n#&gt; 1 5245611\n\n\n\n\n코드# tribble 함수를 사용하여 데이터 프레임을 생성한다\npayer_2014 &lt;- tribble(\n  ~\"정당\", ~\"당원수\", ~\"납부자수\", ~\"비율(%)\", ~\"시·도당수\",\n  \"합계\", 5245611, 591045, 11.2, 120,\n  \"새누리당\", 2708085, 253552, 9.4, 17,\n  \"새정치민주연합\", 2430111, 316836, 13.0, 17,\n  \"정의당\", 18184, 9921, 54.6, 12,\n  \"겨레자유평화통일당\", 5340, 0, NA, 5,\n  \"경제민주당\", 6121, 0, NA, 5,\n  \"공화당\", 6661, 35, 0.5, 6,\n  \"국제녹색당\", 11993, 0, NA, 11,\n  \"그린불교연합당\", 5155, 0, NA, 5,\n  \"기독민주당\", 5300, 6, 0.1, 5,\n  \"노동당\", 13015, 6552, 50.3, 7,\n  \"녹색당\", 6870, 4122, 60.0, 5,\n  \"대한민국당\", 6029, 0, NA, 5,\n  \"민주당\", 6225, 16, 0.3, 5,\n  \"새마을당\", 5549, 0, NA, 5,\n  \"새정치국민의당\", 5207, 5, 0.1, 5,\n  \"한나라당\", 5766, 0, NA, 5\n) |&gt; \n  filter(정당 != \"합계\")\n\npayer_2014 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 5245611\n\n\n\n\n코드# tibble 패키지 로드\nlibrary(tibble)\n\n# tribble 함수로 DataFrame 생성\nincome_2014 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`전년도이월`, ~`당비`, ~`기탁금`, ~`보조금`, ~`차입금`, ~`기타`,\n  \"합계\", 201388, 20935, 52086, 9907, 74343, 1186, 42931,\n  \"새누리당\", 97608, 8449, 26404, 4871, 36355, 220, 21309,\n  \"새정치민주연합\", 91737, 11392, 21284, 4466, 33831, 256, 20508,\n  \"정의당\", 8259, 560, 1647, 570, 4157, 514, 811,\n  \"기타정당\", 3784, 534, 2751, NA, NA, 196, 303\n) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nincome_2014 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 201388\n\n\n\n\n코드\nexpense_2014 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`선거비용`, ~`기본경비`, ~`정책개발비`, ~`조직활동비`, ~`여성정치발전비`, ~`그밖의경비`,\n  \"합계\", 159263, 16152, 44310, 14208, 69070, 3693, 11830,\n  \"새누리당\", 77691, 7373, 21257, 9292, 30536, 1832, 7401,\n  \"새정치민주연합\", 70591, 7963, 18955, 4101, 34372, 1646, 3554,\n  \"정의당\", 7592, 422, 2689, 793, 2778, 215, 695,\n  \"기타정당\", 3389, 394, 1409, 22, 1384, NA, 180\n) |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2014 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 159263\n\n\n\n\n\n코드object_list &lt;- ls()\n\nparty_members &lt;- object_list[str_detect(object_list, pattern = \"^sido_party_\\\\d{4}\")]\n\nparty_members_list &lt;- mget(party_members)\n\nparty_members_sido_tbl &lt;- party_members_list |&gt; \n  enframe() |&gt; \n  mutate(year = parse_number(name)) |&gt; \n  mutate(data = map(value, select, 1:4)) |&gt; \n  unnest(data) |&gt; \n  pivot_longer(새누리당:국민의힘, names_to = \"정당\", values_to = \"당원수\") |&gt; \n  select(year, 구분, 합계, 정당, 당원수) |&gt;\n  mutate(정당명 = case_when(\n    str_detect(정당, \"국민의힘|새누리당|자유한국당\") ~ \"국민의힘\",\n    str_detect(정당, \"더불어민주당|민주당|(새정치 민주연합)\") ~ \"민주당\",\n    TRUE ~ \"기타정당\"\n  )) |&gt; \n  filter(!is.na(당원수)) |&gt; \n  select(year, 구분, 합계, 정당명, 당원수)\n\n\n\n\n코드\npayers &lt;- object_list[str_detect(object_list, pattern = \"^payer_\\\\d{4}\")]\n\npayers_list &lt;- mget(payers)\n\npayers_members_tbl &lt;- payers_list |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, select, 1:3)) |&gt; \n  unnest(data) |&gt; \n  mutate(연도 = parse_number(name)) |&gt; \n  mutate(정당명 = case_when(\n    str_detect(정당, \"국민의힘|새누리당|자유한국당\") ~ \"국민의힘\",\n    str_detect(정당, \"더불어민주당|(새정치민주연합)\") ~ \"민주당\",\n    TRUE ~ \"기타정당\"\n  )) |&gt;\n  filter(정당명 != \"기타정당\",\n         납부자수 &gt; 10000) |&gt; \n  select(연도, 당원수, 정당명, 납부자수)\n\npayers_members_tbl\n#&gt; # A tibble: 16 × 4\n#&gt;     연도  당원수 정당명   납부자수\n#&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n#&gt;  1  2014 2708085 국민의힘   253552\n#&gt;  2  2014 2430111 민주당     316836\n#&gt;  3  2015 3020776 국민의힘   378463\n#&gt;  4  2015 2671954 민주당     256197\n#&gt;  5  2016 2705938 민주당     287114\n#&gt;  6  2016 2991365 국민의힘   329952\n#&gt;  7  2017 3568111 민주당     834573\n#&gt;  8  2017 3227708 국민의힘   335000\n#&gt;  9  2018 3579111 민주당     878114\n#&gt; 10  2018 3340979 국민의힘   430736\n#&gt; 11  2019 4065408 민주당    1026804\n#&gt; 12  2019 3475372 국민의힘   373342\n#&gt; 13  2020 4053466 민주당     896296\n#&gt; 14  2020 3489924 국민의힘   347322\n#&gt; 15  2021 4853266 민주당    1295909\n#&gt; 16  2021 4070005 국민의힘   609090\n\n\n\n\n코드\nincome &lt;- object_list[str_detect(object_list, pattern = \"^income_\\\\d{4}\")]\n\nincome_list &lt;- mget(income)\n\nincome_party_tbl &lt;- income_list |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, select, c(구분, 합계, 당비, 기탁금, 보조금, 차입금))) |&gt;  \n  unnest(data) |&gt; \n  mutate(연도 = parse_number(name)) |&gt; \n  mutate(정당명 = case_when(\n    str_detect(구분, \"국민의힘|새누리당|자유한국당\") ~ \"국민의힘\",\n    str_detect(구분, \"더불어민주당|(새정치민주연합)\") ~ \"민주당\",\n    TRUE ~ \"기타정당\"\n  )) |&gt;\n  filter(정당명 != \"기타정당\",\n         당비 &gt; 5000) |&gt; \n  select(연도, 정당명, 합계, 당비, 기탁금, 보조금, 차입금)\n\nincome_party_tbl\n#&gt; # A tibble: 16 × 7\n#&gt;     연도 정당명     합계  당비 기탁금 보조금 차입금\n#&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n#&gt;  1  2014 국민의힘  97608 26404   4871  36355    220\n#&gt;  2  2014 민주당    91737 21284   4466  33831    256\n#&gt;  3  2015 국민의힘  56108 11494   2198  19570      0\n#&gt;  4  2015 민주당    47523  6125   1999  17747      0\n#&gt;  5  2016 민주당    76835 11793   2482  29225  15000\n#&gt;  6  2016 국민의힘  86286 17553   2805  33118      0\n#&gt;  7  2017 민주당   139442 14040   1444  24965  40887\n#&gt;  8  2017 국민의힘 124191 12191   1413  24583  25143\n#&gt;  9  2018 민주당    93243 37614   1269  29669   2028\n#&gt; 10  2018 국민의힘  82894 14969   1293  27415   4854\n#&gt; 11  2019 민주당    58981 19933    647  13822      0\n#&gt; 12  2019 국민의힘  47916  9869    642  13593    500\n#&gt; 13  2020 민주당    95045 31211    305  32706   1840\n#&gt; 14  2020 국민의힘 120989 13383    350  36115  43897\n#&gt; 15  2021 민주당    89396 28402    348  21060      0\n#&gt; 16  2021 국민의힘  57990 12030    305  18500      0\n\n\n\n\n코드\nexpense &lt;- object_list[str_detect(object_list, pattern = \"^expense_\\\\d{4}\")]\n\nexpense_list &lt;- mget(expense)\n\nexpense_party_tbl &lt;- expense_list |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, select, c(구분, 합계, 선거비용, 기본경비, 정책개발비, 조직활동비))) |&gt;  \n  unnest(data) |&gt; \n  mutate(연도 = parse_number(name)) |&gt; \n  mutate(정당명 = case_when(\n    str_detect(구분, \"국민의힘|새누리당|자유한국당\") ~ \"국민의힘\",\n    str_detect(구분, \"더불어민주당|(새정치민주연합)\") ~ \"민주당\",\n    TRUE ~ \"기타정당\"\n  )) |&gt;\n  filter(정당명 != \"기타정당\") |&gt;\n  select(연도, 정당명, 합계, 선거비용, 기본경비, 정책개발비, 조직활동비) \n\nexpense_party_tbl\n#&gt; # A tibble: 16 × 7\n#&gt;     연도 정당명     합계 선거비용 기본경비 정책개발비 조직활동비\n#&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n#&gt;  1  2014 국민의힘  77691     7373    21257       9292      30536\n#&gt;  2  2014 민주당    70591     7963    18955       4101      34372\n#&gt;  3  2015 국민의힘  39564        0    18903       8332       6662\n#&gt;  4  2015 민주당    33818      110    17273       4179      10102\n#&gt;  5  2016 민주당    68294     4588    37645       3223      20197\n#&gt;  6  2016 국민의힘  61772     4705    19855       8631      22875\n#&gt;  7  2017 민주당   132145    46114    24973       4254      15288\n#&gt;  8  2017 국민의힘 109761    32835    27333       8371      11042\n#&gt;  9  2018 민주당    70685     8840    22146       3768      29149\n#&gt; 10  2018 국민의힘  59805     7060    20458       6514      13521\n#&gt; 11  2019 민주당    38308        0    20317       3420      12599\n#&gt; 12  2019 국민의힘  36202        0    15981       6744       8673\n#&gt; 13  2020 민주당    58549     4058    21682       4274      22438\n#&gt; 14  2020 국민의힘 104155     4844    69579       6410      14364\n#&gt; 15  2021 민주당    55624        0    24578       5354      23348\n#&gt; 16  2021 국민의힘  44224        0    20789       9175       9817"
  },
  {
    "objectID": "party_numbers.html#년",
    "href": "party_numbers.html#년",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\n\nparty_2021 &lt;- tribble(\n  ~구분, ~당원수, ~분포비, ~등록된_시도당수, ~시도당_평균당원수,\n  \"합계\", 10429577, 100, 355, 29379,\n  \"더불어민주당\", 4853266, 46.5, 17, 285486,\n  \"국민의힘\", 4070005, 39.0, 17, 239412,\n  \"정의당\", 50618, 0.5, 17, 2978,\n  \"국민의당\", 20185, 0.2, 7, 2884,\n  \"열린민주당\", 42944, 0.4, 5, 8589,\n  \"기본소득당\", 19814, 0.2, 5, 3963,\n  \"시대전환\", 8458, 0.1, 5, 1692,\n  \"가가례도인연합\", 6538, 0.1, 6, 1090,\n  \"가나코리아\", 5365, 0.1, 5, 1073,\n  \"가자평화인권당\", 6481, 0.1, 6, 1080,\n  \"가자환경당\", 7480, 0.1, 6, 1247,\n  \"거지당\", 10782, 0.1, 8, 1348,\n  \"국가혁명당\", 32153, 0.3, 16, 2010,\n  \"국민대통합당\", 6248, 0.1, 5, 1250,\n  \"국민참여신당\", 5773, 0.1, 5, 1155,\n  \"국민혁명당\", 148164, 1.4, 13, 11397,\n  \"기독당\", 5272, 0.1, 5, 1054,\n  \"깨어있는시민연대당\", 6490, 0.1, 5, 1298,\n  \"남북통일당\", 5324, 0.1, 5, 1065,\n  \"노동당\", 11039, 0.1, 7, 1577,\n  \"녹색당\", 8452, 0.1, 5, 1690,\n  \"대한국민당\", 5585, 0.1, 5, 1117,\n  \"대한당\", 5565, 0.1, 5, 1113,\n  \"대한민국당\", 6721, 0.1, 5, 1344,\n  \"독도한국당\", 6631, 0.1, 6, 1105,\n  \"미래당\", 12935, 0.1, 6, 2156,\n  \"민생당\", 378309, 3.6, 11, 34392,\n  \"민중민주당\", 9872, 0.1, 7, 1410,\n  \"새누리당\", 36170, 0.3, 7, 5167,\n  \"신자유민주연합\", 5362, 0.1, 5, 1072,\n  \"신한반도당\", 8872, 0.1, 8, 1109,\n  \"여성의당\", 9571, 0.1, 5, 1914,\n  \"우리공화당\", 411337, 3.9, 13, 31641,\n  \"자유당\", 5368, 0.1, 5, 1074,\n  \"자유민주당\", 7092, 0.1, 5, 1418,\n  \"자유의새벽당\", 11707, 0.1, 5, 2341,\n  \"중소자영업당\", 5823, 0.1, 5, 1165,\n  \"직능자영업당\", 5184, 0.0, 5, 1037,\n  \"진보당\", 85718, 0.8, 16, 5357,\n  \"친박신당\", 8310, 0.1, 6, 1385,\n  \"친박연대\", 5257, 0.1, 5, 1051,\n  \"통일한국당\", 11971, 0.1, 6, 1995,\n  \"한국국민당\", 6879, 0.1, 6, 1147,\n  \"한국복지당\", 7071, 0.1, 7, 1010,\n  \"한나라당\", 5790, 0.1, 5, 1158,\n  \"한류연합당\", 9305, 0.1, 7, 1329,\n  \"한반도미래연합\", 8498, 0.1, 8, 1062,\n  \"혁명21\", 11179, 0.1, 6, 1863,\n  \"홍익당\", 6644, 0.1, 5, 1329\n) |&gt; \n  slice(2:n()) \n\n\nparty_2021 |&gt; \n  summarise(당원수 = sum(당원수)) # 10,429,577\n#&gt; # A tibble: 1 × 1\n#&gt;     당원수\n#&gt;      &lt;dbl&gt;\n#&gt; 1 10429577\n\n\n\n\n코드library(tibble)\n\nsido_party_2021 &lt;- tribble(\n  ~구분, ~합계, ~더불어민주당, ~국민의힘, ~정의당, ~국민의당, ~열린민주당, ~기본소득당, ~시대전환, ~가가례도인연합, ~가나코리아, ~가자평화인권당, ~가자환경당,\n  \"합계\", 10429577, 4853266, 4070005, 50618, 20185, 42944, 19814, 8458, 6538, 5365, 6481, 7480,\n  \"서울\", 1830842, 858016, 633807, 9882, 6847, 24768, 3254, 1290, 1041, 1123, 1042, 1472,\n  \"부산\", 530951, 158779, 245492, 2257, NA, 3996, 4436, NA, NA, NA, 1103, 1414,\n  \"대구\", 340866, 41126, 221321, 1228, 1138, NA, NA, NA, NA, NA, NA, NA,\n  \"인천\", 462086, 180174, 226077, 4661, 1686, NA, 3063, NA, 1103, 1017, NA, NA,\n  \"광주\", 544234, 398357, 56614, 2372, 1814, 5680, 3363, 1051, NA, NA, NA, 1080,\n  \"대전\", 372618, 151895, 191034, 1345, 3099, NA, NA, NA, NA, NA, 1016, NA,\n  \"울산\", 250177, 59315, 159387, 1390, NA, 4009, NA, NA, NA, NA, NA, NA,\n  \"세종\", 39355, 18972, 13300, 1070, NA, NA, NA, NA, NA, NA, NA, NA,\n  \"경기\", 1992315, 915531, 795874, 10394, 3703, NA, 5698, 1400, 1142, 1035, 1106, 1178,\n  \"강원\", 353634, 121301, 211046, 1143, NA, NA, NA, NA, 1081, 1095, NA, NA,\n  \"충북\", 380942, 158913, 188375, 1149, 1898, NA, NA, NA, NA, NA, NA, NA,\n  \"충남\", 514251, 223238, 240892, 1519, NA, NA, NA, NA, 1086, 1095, NA, NA,\n  \"전북\", 832477, 676755, 70693, 3449, NA, NA, NA, 2308, 1085, NA, 1101, NA,\n  \"전남\", 772029, 591321, 54630, 3981, NA, 4491, NA, 2409, NA, NA, NA, 1023,\n  \"경북\", 492060, 44788, 363621, 1361, NA, NA, NA, NA, NA, NA, NA, NA,\n  \"경남\", 531808, 148649, 323319, 2226, NA, NA, NA, NA, NA, NA, 1113, 1313,\n  \"제주\", 188932, 106136, 74523, 1191, NA, NA, NA, NA, NA, NA, NA, NA\n) |&gt; \n  slice(2:n())\n  \nsido_party_2021 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;       합계\n#&gt;      &lt;dbl&gt;\n#&gt; 1 10429577\n\n\n\n\n코드library(tibble)\n\npayer_2021 &lt;- tribble(\n  ~정당, ~당원수, ~납부자수, ~당비납부비율, ~등록된_시도당수,\n  \"합계\", 10429577, 2133765, 20.5, 355,\n  \"더불어민주당\", 4853266, 1295909, 26.7, 17,\n  \"국민의힘\", 4070005, 609090, 15.0, 17,\n  \"정의당\", 50618, 26470, 52.3, 17,\n  \"국민의당\", 20185, 4683, 23.2, 7,\n  \"열린민주당\", 42944, 10383, 24.2, 5,\n  \"기본소득당\", 19814, 809, 4.1, 5,\n  \"시대전환\", 8458, 61, 0.7, 5,\n  \"가가례도인연합\", 6538, NA, NA, 6,\n  \"가나코리아\", 5365, 5, 0.1, 5,\n  \"가자평화인권당\", 6481, NA, NA, 6,\n  \"가자환경당\", 7480, NA, NA, 6,\n  \"거지당\", 10782, 301, 2.8, 8,\n  \"국가혁명당\", 32153, 8549, 26.6, 16,\n  \"국민대통합당\", 6248, NA, NA, 5,\n  \"국민참여신당\", 5773, NA, NA, 5,\n  \"국민혁명당\", 148164, 53720, 36.3, 13,\n  \"기독당\", 5272, NA, NA, 5,\n  \"깨어있는시민연대당\", 6490, 35, 0.5, 5,\n  \"남북통일당\", 5324, 216, 4.1, 5,\n  \"노동당\", 11039, 2781, 25.2, 7,\n  \"녹색당\", 8452, 3469, 41.0, 5,\n  \"대한국민당\", 5585, NA, NA, 5,\n  \"대한당\", 5565, NA, NA, 5,\n  \"대한민국당\", 6721, 167, 2.5, 5,\n  \"독도한국당\", 6631, NA, NA, 6,\n  \"미래당\", 12935, 1311, 10.1, 6,\n  \"민생당\", 378309, 9881, 2.6, 11,\n  \"민중민주당\", 9872, 57, 0.6, 7,\n  \"새누리당\", 36170, 844, 2.3, 7,\n  \"신자유민주연합\", 5362, 322, 6.0, 5,\n  \"신한반도당\", 8872, 20, 0.2, 8,\n  \"여성의당\", 9571, 2487, 26.0, 5,\n  \"우리공화당\", 411337, 50287, 12.2, 13,\n  \"자유당\", 5368, 40, 0.7, 5,\n  \"자유민주당\", 7092, 733, 10.3, 5,\n  \"자유의새벽당\", 11707, 2615, 22.3, 5,\n  \"중소자영업당\", 5823, NA, NA, 5,\n  \"직능자영업당\", 5184, NA, NA, 5,\n  \"진보당\", 85718, 46158, 53.8, 16,\n  \"친박신당\", 8310, 241, 2.9, 6,\n  \"친박연대\", 5257, NA, NA, 5,\n  \"통일한국당\", 11971, 94, 0.8, 6,\n  \"한국국민당\", 6879, 106, 1.5, 6,\n  \"한국복지당\", 7071, NA, NA, 7,\n  \"한나라당\", 5790, NA, NA, 5,\n  \"한류연합당\", 9305, 119, 1.3, 7,\n  \"한반도미래연합\", 8498, NA, NA, 8,\n  \"혁명21\", 11179, 1659, 14.8, 6,\n  \"홍익당\", 6644, 143, 2.2, 5\n)\n\npayer_2021 |&gt; \n  summarise( 당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;     당원수\n#&gt;      &lt;dbl&gt;\n#&gt; 1 20859154\n\n\n\n단위: 백만원\n\n코드# R에서 데이터프레임 생성\nincome_2021 &lt;- tribble(\n  ~\"구분\", ~\"합계\", ~\"전년도이월\", ~\"당비\", ~\"기탁금\", ~\"후원회기부금\", ~\"보조금\", ~\"차입금\", ~\"기타\",\n  \"합계\", 196317, 63629, 61507, 774, 4375, 46278, 3970, 15784,\n  \"더불어민주당\", 89396, 36400, 28402, 348, 350, 21060, 0, 2836,\n  \"국민의힘\", 57990, 15222, 12030, 305, 1352, 18500, 0, 10581,\n  \"정의당\", 12293, 2629, 3807, 51, 896, 3075, 1322, 513,\n  \"국민의당\", 2774, 547, 443, 22, 67, 1364, 0, 331,\n  \"열린민주당\", 3090, 731, 835, 21, 100, 1294, 0, 109,\n  \"기본소득당\", 1099, 25, 925, 0.5, 15, 32, 0, 101,\n  \"시대전환\", 263, 29, 84, 0.5, 32, 28, 0, 90,\n  \"기타정당\", 29412, 8046, 14981, 26, 1563, 925, 2648, 1223\n)\n\n# 데이터프레임 확인\nincome_2021 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;     당비\n#&gt;    &lt;dbl&gt;\n#&gt; 1 123014\n\n\n\n단위: 백만원\n\n코드# R에서 데이터프레임 생성\nexpense_2021 &lt;- tribble(\n  ~\"구분\", ~\"합계\", ~\"선거비용\", ~\"기본경비\", ~\"정책개발비\", ~\"조직활동비\", ~\"여성정치발전비\", ~\"그밖의경비\",\n  \"합계\", 137932, 549, 65988, 17203, 44927, 4930, 4333,\n  \"더불어민주당\", 55624, 0, 24578, 5354, 23348, 2136, 208,\n  \"국민의힘\", 44224, 0, 20789, 9175, 9817, 1952, 2491,\n  \"정의당\", 10511, 260, 6478, 1175, 1602, 367, 629,\n  \"국민의당\", 2222, 0, 848, 485, 577, 195, 117,\n  \"열린민주당\", 1518, 0, 912, 94, 351, 150, 11,\n  \"기본소득당\", 873, 229, 427, 76, 136, 4, 1,\n  \"시대전환\", 243, 0, 223, 4, 8, 4, 4,\n  \"기타정당\", 22717, 60, 11733, 841, 9088, 122, 873\n)\n\n# 데이터프레임 확인\nexpense_2021 |&gt; \n  summarise(선거비용 = sum(선거비용))\n#&gt; # A tibble: 1 × 1\n#&gt;   선거비용\n#&gt;      &lt;dbl&gt;\n#&gt; 1     1098"
  },
  {
    "objectID": "party_numbers.html#년-1",
    "href": "party_numbers.html#년-1",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드# R에서 데이터프레임 생성\nsido_party_2020 &lt;- data.frame(\n  구분 = c(\"합계\", \"서울\", \"부산\", \"대구\", \"인천\", \"광주\", \"대전\", \"울산\", \"세종\", \"경기\", \"강원\", \"충북\", \"충남\", \"전북\", \"전남\", \"경북\", \"경남\", \"제주\"),\n  더불어민주당 = c(4053466, 732483, 148679, 38874, 148971, 334034, 122231, 49331, 15889, 764856, 91291, 135103, 168409, 578593, 478573, 41698, 131459, 72992),\n  국민의힘 = c(3489924, 552794, 218624, 196849, 197176, 51999, 170297, 147025, 10539, 670052, 168159, 155963, 183772, 65861, 50544, 304372, 280395, 65503),\n  정의당 = c(53080, 11190, 2311, 1265, 4968, 2369, 1434, 1498, 1094, 10370, 1186, 1234, 1529, 3563, 4030, 1479, 2362, 1198),\n  국민의당 = c(16023, 4721, NA, 1030, 1606, 1746, 2805, NA, NA, 2393, NA, 1722, NA, NA, NA, NA, NA, NA),\n  열린민주당 = c(40456, 23431, 3731, NA, NA, 5202, NA, 3834, NA, NA, NA, NA, NA, NA, 4258, NA, NA, NA),\n  기본소득당 = c(19879, 3281, 4457, NA, 3616, 3050, NA, NA, NA, 5475, NA, NA, NA, NA, NA, NA, NA, NA),\n  시대전환 = c(6945, 1771, NA, NA, NA, 1051, NA, NA, NA, 1210, NA, NA, NA, 1121, 1792, NA, NA, NA),\n  가나코리아 = c(5365, 1123, NA, NA, 1017, NA, NA, NA, NA, 1035, 1095, NA, 1095, NA, NA, NA, NA, NA),\n  가자평화 = c(6707, 1026, 1026, NA, NA, NA, 1016, NA, NA, 1106, NA, NA, NA, 1101, NA, NA, 1432, NA),\n  인권당 = c(7487, 1471, 1415, NA, NA, 1080, NA, NA, NA, 1178, NA, NA, NA, NA, 1030, NA, 1313, NA)\n) |&gt; \n  slice(2:n()) |&gt; \n  as_tibble()\n\n# 데이터프레임 확인\nsido_party_2020 |&gt; \n  as_tibble() |&gt; \n  summarise(민주당 = sum(더불어민주당))\n#&gt; # A tibble: 1 × 1\n#&gt;    민주당\n#&gt;     &lt;dbl&gt;\n#&gt; 1 4053466\n\n\n\n\n코드# R에서 데이터프레임 생성\npayer_2020 &lt;- data.frame(\n  정당 = c(\"합계\", \"더불어민주당\", \"국민의힘\", \"정의당\", \"국민의당\", \"열린민주당\", \"기본소득당\", \"시대전환\", \"가나코리아\", \"가자!평화인권당\", \"가자환경당\", \"거지당\", \"국가혁명당\", \"국민새정당\", \"국민참여신당\"),\n  당원수 = c(8771263, 4053466, 3489924, 53080, 16023, 40456, 19879, 6945, 5365, 6707, 7487, 9505, 29757, 9032, 5773),\n  납부자수 = c(1433446, 896296, 347322, 39872, 3369, 12098, 1435, 77, 10, NA, 2, NA, 5889, NA, NA),\n  당비납부비율 = c(16.3, 22.1, 10.0, 75.1, 21.0, 29.9, 7.2, 1.1, 0.2, NA, NA, NA, 19.8, NA, NA),\n  등록된시도당수 = c(332, 17, 17, 17, 7, 5, 5, 5, 5, 6, 6, 8, 17, 8, 5)\n) |&gt; \n  slice(2:n()) |&gt; \n  as_tibble()\n\n# 데이터프레임 확인\npayer_2020 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7753399\n\n\n\n\n코드# R에서 데이터프레임 생성\nincome_2020 &lt;- tribble(\n  ~\"구분\", ~\"합계\", ~\"전년도이월\", ~\"당비\", ~\"기탁금\", ~\"후원회기부금\", ~\"보조금\", ~\"차입금\", ~\"기타\",\n  \"합계\", 311220, 45278, 67895, 962, 6095, 90718, 60154, 40118,\n  \"더불어민주당\", 95045, 20643, 31211, 305, 403, 32706, 1840, 7937,\n  \"국민의힘\", 120989, 11301, 13383, 350, 541, 36115, 43897, 15402,\n  \"정의당\", 22597, 2084, 5156, 60, 1723, 5679, 2070, 5825,\n  \"국민의당\", 9045, 0, 242, 0, 60, 1017, 3482, 4244,\n  \"열린민주당\", 10245, 0, 881, 0, 505, 968, 4234, 3657,\n  \"기본소득당\", 633, 18, 392, 0, 55, 16, 48, 104,\n  \"시대전환\", 220, 6, 65, 0, 25, 15, 50, 59,\n  \"기타정당\", 52446, 11226, 16565, 247, 2783, 14202, 4533, 2890\n) |&gt; \n  as_tibble()\n\n# 데이터프레임 확인\nincome_2020 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;     당비\n#&gt;    &lt;dbl&gt;\n#&gt; 1 135790\n\n\n\n\n코드# 추가로 만들어야 하는 데이터프레임\nexpense_2020 &lt;- tribble(\n  ~\"구분\", ~\"합계\", ~\"선거비용\", ~\"기본경비\", ~\"정책개발비\", ~\"조직활동비\", ~\"여성정치발전비\", ~\"그밖의경비\",\n  \"합계\", 248036, 31066, 115856, 14449, 58610, 5235, 22820,\n  \"더불어민주당\", 58549, 4058, 21682, 4274, 22438, 1891, 4206,\n  \"국민의힘\", 104155, 4844, 69579, 6410, 14364, 1877, 7081,\n  \"정의당\", 21042, 4709, 7384, 1180, 6345, 340, 1084,\n  \"국민의당\", 8512, 3911, 1022, 130, 415, 115, 2919,\n  \"열린민주당\", 9517, 3544, 685, 53, 603, 96, 4536,\n  \"기본소득당\", 633, 53, 341, 53, 165, 1, 20,\n  \"시대전환\", 197, 0, 121, 71, 2, 0, 3,\n  \"기타정당\", 45431, 9947, 15042, 2278, 14278, 915, 2971\n)\n\n# 데이터프레임 확인\nexpense_2020 |&gt; \n  summarise(선거비용 = sum(선거비용))\n#&gt; # A tibble: 1 × 1\n#&gt;   선거비용\n#&gt;      &lt;dbl&gt;\n#&gt; 1    62132"
  },
  {
    "objectID": "party_numbers.html#년-2",
    "href": "party_numbers.html#년-2",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(readxl)\n\nsido_party_2019 &lt;- read_excel(\"data/2019.xlsx\", sheet=\"page01\")\n\nsido_party_2019 &lt;- sido_party_2019 |&gt; \n  filter(구분 != \"합계\")\n\nsido_party_2019 |&gt; \n  summarise(당원수 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 8657559\n\n\n\n\n코드payer_2019 &lt;- read_excel(\"data/2019.xlsx\", sheet=\"page02\")\n\npayer_2019 &lt;- payer_2019 |&gt; \n  filter(정당 != \"합계\") |&gt; \n  mutate(납부자수 = parse_number(납부자수))\n\npayer_2019 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 8657559\n\n\n\n\n코드income_2019 &lt;- read_excel(\"data/2019.xlsx\", sheet=\"page03\")\n\nincome_2019 &lt;- income_2019 |&gt; \n  filter(구분 != \"합계\")\n\nincome_2019 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;    당비\n#&gt;   &lt;dbl&gt;\n#&gt; 1 44581\n\n\n\n\n코드expense_2019 &lt;- read_excel(\"data/2019.xlsx\", sheet=\"page04\")\n\nexpense_2019 &lt;- expense_2019 |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2019 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 113009"
  },
  {
    "objectID": "party_numbers.html#년-4",
    "href": "party_numbers.html#년-4",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\n# tribble 함수를 이용해 DataFrame 생성\nsido_party_2017 &lt;- tribble(\n  ~구분, ~합계, ~더불어민주당, ~자유한국당, ~국민의당, ~바른정당, ~정의당, ~민중당, ~대한애국당, ~가자코리아, ~경제애국당, ~공화당,\n  \"합계\", 7507952, 3568111, 3227708, 285023, 67053, 40362, 46539, 41685, 5288, 6779, 6568,\n  \"서울\", 1283838, 640138, 511970, 39119, 10777, 8224, 4684, 10272, 1114, 1185, 1034,\n  \"부산\", 360443, 135736, 190581, 8890, 2673, 1895, 2955, 2597, 1030, NA, NA,\n  \"대구\", 245098, 32984, 179375, 4147, 4557, 1796, 1120, 6200, 1059, NA, NA,\n  \"인천\", 361923, 135400, 188407, 6430, 3310, 2937, 1595, 2262, 1011, NA, NA,\n  \"광주\", 407488, 300064, 51398, 38655, 1419, 1443, 7131, 1090, NA, NA, NA,\n  \"대전\", 297531, 106025, 167572, 6366, 1451, 1928, 2206, 1920, 1072, NA, NA,\n  \"울산\", 183212, 34606, 135216, 2181, 2389, 1385, 3289, 1082, NA, NA, NA,\n  \"세종\", 24495, 13104, 9306, 1008, NA, NA, NA, NA, NA, NA, NA,\n  \"경기\", 1353048, 628929, 620356, 31616, 15947, 7171, 7839, 8970, 1031, 1159, 1069,\n  \"강원\", 264107, 80527, 162328, 7696, 1679, 1248, 1172, 1924, 1039, NA, NA,\n  \"충북\", 283900, 121696, 145490, 6021, 1358, 1003, 1106, 1293, NA, NA, NA,\n  \"충남\", 351195, 148353, 177742, 8025, 1922, 1115, 1554, 1412, 1093, NA, NA,\n  \"전북\", 674426, 545688, 63866, 48931, 1773, 2585, 2155, 1070, NA, NA, NA,\n  \"전남\", 561645, 427648, 50169, 66262, 1208, 3364, 6111, NA, NA, NA, NA,\n  \"경북\", 323115, 33684, 257338, 4417, 9145, 1920, 1575, 2248, 1180, NA, NA,\n  \"경남\", 391553, 115964, 251957, 4199, 5208, 1527, 1795, 1795, NA, NA, NA,\n  \"제주\", 140935, 67565, 64637, 2068, 2587, 1824, NA, NA, NA, NA, NA\n) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nsido_party_2017 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;      합계\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7507952\n\n\n\n\n코드# tribble 함수를 사용하여 데이터 프레임을 생성한다\npayer_2017 &lt;- tribble(\n  ~\"정당\", ~\"당원수\", ~\"납부자수\", ~\"당비납부\", ~\"비율(%)\", ~\"등록된시·도당수\",\n  \"합계\", 7507952, 1320976, NA, 17.6, 285,\n  \"더불어민주당\", 3568111, 834573, NA, 23.4, 17,\n  \"자유한국당\", 3227708, 335000, NA, 10.4, 17,\n  \"국민의당\", 285023, 44371, NA, 15.6, 16,\n  \"바른정당\", 67053, 29712, NA, 44.3, 16,\n  \"정의당\", 40362, 25687, NA, 63.6, 15,\n  \"민중당\", 46539, 25960, NA, 55.8, 15,\n  \"대한애국당\", 41685, 9579, NA, 23.0, 12,\n  \"가자코리아\", 5288, NA, NA, NA, 5,\n  \"경제애국당\", 6779, 6, NA, 0.1, 6,\n  \"공화당\", 6568, NA, NA, NA, 6,\n  \"국민대통합당\", 7161, NA, NA, NA, 6,\n  \"국민새정당\", 8983, NA, NA, NA, 8,\n  \"국민행복당\", 5253, 125, NA, 2.4, 5,\n  \"국제녹색당\", 12019, NA, NA, NA, 11,\n  \"그린불교연합당\", 5411, NA, NA, NA, 5,\n  \"기독당\", 6442, NA, NA, NA, 5,\n  \"기독자유당\", 9206, 2, NA, NA, 8,\n  \"노동당\", 11823, 4784, NA, 40.5, 7,\n  \"녹색당\", 9308, 5725, NA, 61.5, 5,\n  \"늘푸른한국당\", 20863, 262, NA, 1.3, 17,\n  \"대한민국당\", 6360, 134, NA, 2.1, 5,\n  \"민중민주당\", 6461, 19, NA, 0.3, 5,\n  \"사회민주당\", 4653, 38, NA, 0.8, 5,\n  \"새누리당\", 30603, 3784, NA, 12.4, 7,\n  \"우리미래\", 6269, 993, NA, 15.8, 5,\n  \"인권정당\", 6537, NA, NA, NA, 6,\n  \"진리대한당\", 5458, NA, NA, NA, 5,\n  \"친박연대\", 5257, NA, NA, NA, 5,\n  \"통일한국당\", 5787, 20, NA, 0.3, 5,\n  \"통합민주당\", 5262, NA, NA, NA, 5,\n  \"한국국민당\", 6832, 106, NA, 1.6, 6,\n  \"한나라당\", 5789, NA, NA, NA, 5,\n  \"한누리평화통일당\", 7064, NA, NA, NA, 7,\n  \"한반도미래연합\", 7392, NA, NA, NA, 7,\n  \"홍익당\", 6643, 96, NA, 1.4, 5\n) |&gt; \n  filter(정당 != \"합계\")\n\npayer_2017 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7507952\n\n\n\n\n코드# tibble 패키지 로드\nlibrary(tibble)\n\n# tribble 함수를 이용해 DataFrame 생성\nincome_2017 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`전년도이월`, ~`당비`, ~`기탁금`, ~`후원회기부금`, ~`보조금`, ~`차입금`, ~`기타`,\n  \"합 계\", 399421, 39181, 46017, 4479, 4859, 84276, 88290, 132319,\n  \"더 불 어 민 주 당\", 139442, 8239, 14040, 1444, 330, 24965, 40887, 49537,\n  \"자 유 한 국 당\", 124191, 25005, 12191, 1413, 294, 24583, 25143, 35562, \n  \"국 민 의 당\", 90282, 4620, 2097, 1342, 4, 17678, 19570, 44971,\n  \"바 른 정 당\", 16108, 32, 3273, 5, 903, 11483, 12, 400,\n  \"정 의 당\", 13652, 669, 4059, 275, 1446, 5492, 656, 1055,\n  \"민 중 당\", 5158, 125, 3160, 0, 790, 28, 595, 460,\n  \"대 한 애 국 당\", 945, 0, 521, 0, 400, 7, 2, 15,\n  \"기 타 정 당\", 9643, 491, 6676, 0, 692, 40, 1425, 319\n) |&gt; \n  mutate(구분 = str_remove_all(구분, \"\\\\s\")) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nincome_2017\n#&gt; # A tibble: 8 × 9\n#&gt;   구분           합계 전년도이월  당비 기탁금 후원회기부금 보조금 차입금  기타\n#&gt;   &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;\n#&gt; 1 더불어민주당 139442       8239 14040   1444          330  24965  40887 49537\n#&gt; 2 자유한국당   124191      25005 12191   1413          294  24583  25143 35562\n#&gt; 3 국민의당      90282       4620  2097   1342            4  17678  19570 44971\n#&gt; 4 바른정당      16108         32  3273      5          903  11483     12   400\n#&gt; 5 정의당        13652        669  4059    275         1446   5492    656  1055\n#&gt; 6 민중당         5158        125  3160      0          790     28    595   460\n#&gt; 7 대한애국당      945          0   521      0          400      7      2    15\n#&gt; 8 기타정당       9643        491  6676      0          692     40   1425   319\n\n\n\n\n코드# tribble 함수를 이용해 DataFrame 생성\nexpense_2017 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`선거비용`, ~`기본경비`, ~`정책개발비`, ~`조직활동비`, ~`여성정치발전비`, ~`그밖의경비`,\n  \"합 계\", 366341, 133900, 76293, 16992, 42509, 4727, 91920,\n  \"더 불 어 민 주 당\", 132145, 46114, 24973, 4254, 15288, 1287, 40229,\n  \"자 유 한 국 당\", 109761, 32835, 27333, 8371, 11042, 1706, 28474,\n  \"국 민 의 당\", 83101, 41915, 9343, 2907, 7869, 918, 20149,\n  \"바 른 정 당\", 13437, 4774, 5121, 336, 2543, 536, 127,\n  \"정 의 당\", 12866, 3532, 5318, 1046, 1620, 274, 1076,\n  \"민 중 당\", 5016, 909, 1694, 18, 1624, 4, 767,\n  \"대 한 애 국 당\", 873, 0, 276, 0, 595, 0, 2,\n  \"기 타 정 당\", 9142, 3821, 2235, 60, 1928, 2, 1096\n) |&gt; \n  mutate(구분 = str_remove_all(구분, \"\\\\s\")) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nexpense_2017\n#&gt; # A tibble: 8 × 8\n#&gt;   구분    합계 선거비용 기본경비 정책개발비 조직활동비 여성정치발전비 그밖의경비\n#&gt;   &lt;chr&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;          &lt;dbl&gt;      &lt;dbl&gt;\n#&gt; 1 더불… 132145    46114    24973       4254      15288           1287      40229\n#&gt; 2 자유… 109761    32835    27333       8371      11042           1706      28474\n#&gt; 3 국민…  83101    41915     9343       2907       7869            918      20149\n#&gt; 4 바른…  13437     4774     5121        336       2543            536        127\n#&gt; 5 정의…  12866     3532     5318       1046       1620            274       1076\n#&gt; 6 민중…   5016      909     1694         18       1624              4        767\n#&gt; 7 대한…    873        0      276          0        595              0          2\n#&gt; 8 기타…   9142     3821     2235         60       1928              2       1096"
  },
  {
    "objectID": "party_numbers.html#년-5",
    "href": "party_numbers.html#년-5",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(readxl)\n\nsido_party_2016 &lt;- read_excel(\"data/2016.xlsx\", sheet=\"page01\")\n\nsido_party_2016 &lt;- sido_party_2016 |&gt; \n  filter(구분 != \"합계\")\n\nsido_party_2016 |&gt; \n  summarise(당원수 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 6101987\n\n\n\n\n코드payer_2016 &lt;- read_excel(\"data/2016.xlsx\", sheet=\"page02\")\n\npayer_2016 &lt;- payer_2016 |&gt; \n  filter(정당 != \"합계\")\n\npayer_2016 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 6101987\n\n\n\n\n코드income_2016 &lt;- read_excel(\"data/2016.xlsx\", sheet=\"page03\")\n\nincome_2016 &lt;- income_2016 |&gt; \n  filter(구분 != \"합계\")\n\nincome_2016 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;    당비\n#&gt;   &lt;dbl&gt;\n#&gt; 1 42068\n\n\n\n\n코드expense_2016 &lt;- read_excel(\"data/2016.xlsx\", sheet=\"page04\")\n\nexpense_2016 &lt;- expense_2016 |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2016 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 175825"
  },
  {
    "objectID": "party_numbers.html#년-7",
    "href": "party_numbers.html#년-7",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드# tibble 패키지 로드\nlibrary(tibble)\n\n# tribble 함수로 DataFrame 생성\nsido_party_2014 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`새누리당`, ~`새정치 민주연합`, ~`정의당`, ~`겨레자유`, ~`평화통일당 경제민주당`, ~`공화당`, ~`국제녹색당`,\n  \"합계\", 5245611, 2708085, 2430111, 18184, 5340, 6121, 6661, 11993,\n  \"서울\", 854469, 440230, 392397, 2870, 1073, 1119, 1031, 1080,\n  \"부산\", 261053, 155380, 100032, 1152, 0, 0, 1130, 1084,\n  \"대구\", 142209, 116729, 22132, 1274, 0, 0, 0, 0,\n  \"인천\", 264772, 164672, 88937, 1483, 1050, 1039, 0, 1198,\n  \"광주\", 290523, 50746, 236369, 0, 0, 0, 0, 1079,\n  \"대전\", 235967, 152724, 75706, 1105, 0, 1014, 1072, 0,\n  \"울산\", 128820, 112527, 14198, 1073, 0, 0, 0, 0,\n  \"세종\", 15216, 8942, 6274, 0, 0, 0, 0, 0,\n  \"경기\", 945114, 543051, 383963, 2756, 1031, 1489, 1068, 1062,\n  \"강원\", 189618, 136025, 47140, 1078, 1093, 0, 0, 1050,\n  \"충북\", 203365, 118325, 81530, 0, 0, 0, 1290, 1030,\n  \"충남\", 224028, 150430, 68173, 0, 1093, 0, 0, 1030,\n  \"전북\", 506132, 59028, 442007, 1554, 0, 0, 1070, 1190,\n  \"전남\", 405205, 45805, 354887, 1224, 0, 0, 0, 1092,\n  \"경북\", 214150, 184736, 23390, 1365, 0, 1460, 0, 1098,\n  \"경남\", 259914, 200703, 57202, 0, 0, 0, 0, 0,\n  \"제주\", 105056, 68032, 35774, 1250, 0, 0, 0, 0\n) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nsido_party_2014 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;      합계\n#&gt;     &lt;dbl&gt;\n#&gt; 1 5245611\n\n\n\n\n코드# tribble 함수를 사용하여 데이터 프레임을 생성한다\npayer_2014 &lt;- tribble(\n  ~\"정당\", ~\"당원수\", ~\"납부자수\", ~\"비율(%)\", ~\"시·도당수\",\n  \"합계\", 5245611, 591045, 11.2, 120,\n  \"새누리당\", 2708085, 253552, 9.4, 17,\n  \"새정치민주연합\", 2430111, 316836, 13.0, 17,\n  \"정의당\", 18184, 9921, 54.6, 12,\n  \"겨레자유평화통일당\", 5340, 0, NA, 5,\n  \"경제민주당\", 6121, 0, NA, 5,\n  \"공화당\", 6661, 35, 0.5, 6,\n  \"국제녹색당\", 11993, 0, NA, 11,\n  \"그린불교연합당\", 5155, 0, NA, 5,\n  \"기독민주당\", 5300, 6, 0.1, 5,\n  \"노동당\", 13015, 6552, 50.3, 7,\n  \"녹색당\", 6870, 4122, 60.0, 5,\n  \"대한민국당\", 6029, 0, NA, 5,\n  \"민주당\", 6225, 16, 0.3, 5,\n  \"새마을당\", 5549, 0, NA, 5,\n  \"새정치국민의당\", 5207, 5, 0.1, 5,\n  \"한나라당\", 5766, 0, NA, 5\n) |&gt; \n  filter(정당 != \"합계\")\n\npayer_2014 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 5245611\n\n\n\n\n코드# tibble 패키지 로드\nlibrary(tibble)\n\n# tribble 함수로 DataFrame 생성\nincome_2014 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`전년도이월`, ~`당비`, ~`기탁금`, ~`보조금`, ~`차입금`, ~`기타`,\n  \"합계\", 201388, 20935, 52086, 9907, 74343, 1186, 42931,\n  \"새누리당\", 97608, 8449, 26404, 4871, 36355, 220, 21309,\n  \"새정치민주연합\", 91737, 11392, 21284, 4466, 33831, 256, 20508,\n  \"정의당\", 8259, 560, 1647, 570, 4157, 514, 811,\n  \"기타정당\", 3784, 534, 2751, NA, NA, 196, 303\n) |&gt; \n  filter(구분 != \"합계\")\n\n# DataFrame 확인\nincome_2014 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 201388\n\n\n\n\n코드\nexpense_2014 &lt;- tribble(\n  ~`구분`, ~`합계`, ~`선거비용`, ~`기본경비`, ~`정책개발비`, ~`조직활동비`, ~`여성정치발전비`, ~`그밖의경비`,\n  \"합계\", 159263, 16152, 44310, 14208, 69070, 3693, 11830,\n  \"새누리당\", 77691, 7373, 21257, 9292, 30536, 1832, 7401,\n  \"새정치민주연합\", 70591, 7963, 18955, 4101, 34372, 1646, 3554,\n  \"정의당\", 7592, 422, 2689, 793, 2778, 215, 695,\n  \"기타정당\", 3389, 394, 1409, 22, 1384, NA, 180\n) |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2014 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 159263"
  },
  {
    "objectID": "party_numbers.html#년-3",
    "href": "party_numbers.html#년-3",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(readxl)\n\nsido_party_2018 &lt;- read_excel(\"data/2018.xlsx\", sheet=\"page01\")\n\nsido_party_2018 &lt;- sido_party_2018 |&gt; \n  filter(구분 != \"합계\")\n\nsido_party_2018 |&gt; \n  summarise(당원수 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7825929\n\n\n\n\n코드payer_2018 &lt;- read_excel(\"data/2018.xlsx\", sheet=\"page02\")\n\npayer_2018 &lt;- payer_2018 |&gt; \n  filter(정당 != \"합계\") |&gt; \n  mutate(납부자수 = parse_number(납부자수))\n\npayer_2018 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 7825929\n\n\n\n\n코드income_2018 &lt;- read_excel(\"data/2018.xlsx\", sheet=\"page03\")\n\nincome_2018 &lt;- income_2018 |&gt; \n  filter(구분 != \"합계\")\n\nincome_2018 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;    당비\n#&gt;   &lt;dbl&gt;\n#&gt; 1 71631\n\n\n\n\n코드expense_2018 &lt;- read_excel(\"data/2018.xlsx\", sheet=\"page04\")\n\nexpense_2018 &lt;- expense_2018 |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2018 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;     합계\n#&gt;    &lt;dbl&gt;\n#&gt; 1 194196"
  },
  {
    "objectID": "party_numbers.html#년-6",
    "href": "party_numbers.html#년-6",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(readxl)\n\nsido_party_2015 &lt;- read_excel(\"data/2015.xlsx\", sheet=\"page01\")\n\nsido_party_2015 &lt;- sido_party_2015 |&gt; \n  filter(구분 != \"합계\")\n\nsido_party_2015 |&gt; \n  summarise(당원수 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 5837061\n\n\n\n\n코드payer_2015 &lt;- read_excel(\"data/2015.xlsx\", sheet=\"page02\")\n\npayer_2015 &lt;- payer_2015 |&gt; \n  filter(정당 != \"합계\")\n\npayer_2015 |&gt; \n  summarise(당원수 = sum(당원수))\n#&gt; # A tibble: 1 × 1\n#&gt;    당원수\n#&gt;     &lt;dbl&gt;\n#&gt; 1 5743354\n\n\n\n\n코드income_2015 &lt;- read_excel(\"data/2015.xlsx\", sheet=\"page03\")\n\nincome_2015 &lt;- income_2015 |&gt; \n  filter(구분 != \"합계\")\n\nincome_2015 |&gt; \n  summarise(당비 = sum(당비))\n#&gt; # A tibble: 1 × 1\n#&gt;    당비\n#&gt;   &lt;dbl&gt;\n#&gt; 1 22154\n\n\n\n\n코드expense_2015 &lt;- read_excel(\"data/2015.xlsx\", sheet=\"page04\")\n\nexpense_2015 &lt;- expense_2015 |&gt; \n  filter(구분 != \"합계\")\n\nexpense_2015 |&gt; \n  summarise(합계 = sum(합계))\n#&gt; # A tibble: 1 × 1\n#&gt;    합계\n#&gt;   &lt;dbl&gt;\n#&gt; 1 82361"
  },
  {
    "objectID": "party_numbers.html#데이터-정제",
    "href": "party_numbers.html#데이터-정제",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드object_list &lt;- ls()\n\nparty_members &lt;- object_list[str_detect(object_list, pattern = \"^sido_party_\\\\d{4}\")]\n\nparty_members_list &lt;- mget(party_members)\n\nparty_members_sido_tbl &lt;- party_members_list |&gt; \n  enframe() |&gt; \n  mutate(year = parse_number(name)) |&gt; \n  mutate(data = map(value, select, 1:4)) |&gt; \n  unnest(data) |&gt; \n  pivot_longer(새누리당:국민의힘, names_to = \"정당\", values_to = \"당원수\") |&gt; \n  select(year, 구분, 합계, 정당, 당원수) |&gt;\n  mutate(정당명 = case_when(\n    str_detect(정당, \"국민의힘|새누리당|자유한국당\") ~ \"국민의힘\",\n    str_detect(정당, \"더불어민주당|민주당|(새정치 민주연합)\") ~ \"민주당\",\n    TRUE ~ \"기타정당\"\n  )) |&gt; \n  filter(!is.na(당원수)) |&gt; \n  select(year, 구분, 합계, 정당명, 당원수)\n\n\n\n\n코드\npayers &lt;- object_list[str_detect(object_list, pattern = \"^payer_\\\\d{4}\")]\n\npayers_list &lt;- mget(payers)\n\npayers_members_tbl &lt;- payers_list |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, select, 1:3)) |&gt; \n  unnest(data) |&gt; \n  mutate(연도 = parse_number(name)) |&gt; \n  mutate(정당명 = case_when(\n    str_detect(정당, \"국민의힘|새누리당|자유한국당\") ~ \"국민의힘\",\n    str_detect(정당, \"더불어민주당|(새정치민주연합)\") ~ \"민주당\",\n    TRUE ~ \"기타정당\"\n  )) |&gt;\n  filter(정당명 != \"기타정당\",\n         납부자수 &gt; 10000) |&gt; \n  select(연도, 당원수, 정당명, 납부자수)\n\npayers_members_tbl\n#&gt; # A tibble: 16 × 4\n#&gt;     연도  당원수 정당명   납부자수\n#&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;\n#&gt;  1  2014 2708085 국민의힘   253552\n#&gt;  2  2014 2430111 민주당     316836\n#&gt;  3  2015 3020776 국민의힘   378463\n#&gt;  4  2015 2671954 민주당     256197\n#&gt;  5  2016 2705938 민주당     287114\n#&gt;  6  2016 2991365 국민의힘   329952\n#&gt;  7  2017 3568111 민주당     834573\n#&gt;  8  2017 3227708 국민의힘   335000\n#&gt;  9  2018 3579111 민주당     878114\n#&gt; 10  2018 3340979 국민의힘   430736\n#&gt; 11  2019 4065408 민주당    1026804\n#&gt; 12  2019 3475372 국민의힘   373342\n#&gt; 13  2020 4053466 민주당     896296\n#&gt; 14  2020 3489924 국민의힘   347322\n#&gt; 15  2021 4853266 민주당    1295909\n#&gt; 16  2021 4070005 국민의힘   609090\n\n\n\n\n코드\nincome &lt;- object_list[str_detect(object_list, pattern = \"^income_\\\\d{4}\")]\n\nincome_list &lt;- mget(income)\n\nincome_party_tbl &lt;- income_list |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, select, c(구분, 합계, 당비, 기탁금, 보조금, 차입금))) |&gt;  \n  unnest(data) |&gt; \n  mutate(연도 = parse_number(name)) |&gt; \n  mutate(정당명 = case_when(\n    str_detect(구분, \"국민의힘|새누리당|자유한국당\") ~ \"국민의힘\",\n    str_detect(구분, \"더불어민주당|(새정치민주연합)\") ~ \"민주당\",\n    TRUE ~ \"기타정당\"\n  )) |&gt;\n  filter(정당명 != \"기타정당\",\n         당비 &gt; 5000) |&gt; \n  select(연도, 정당명, 합계, 당비, 기탁금, 보조금, 차입금)\n\nincome_party_tbl\n#&gt; # A tibble: 16 × 7\n#&gt;     연도 정당명     합계  당비 기탁금 보조금 차입금\n#&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n#&gt;  1  2014 국민의힘  97608 26404   4871  36355    220\n#&gt;  2  2014 민주당    91737 21284   4466  33831    256\n#&gt;  3  2015 국민의힘  56108 11494   2198  19570      0\n#&gt;  4  2015 민주당    47523  6125   1999  17747      0\n#&gt;  5  2016 민주당    76835 11793   2482  29225  15000\n#&gt;  6  2016 국민의힘  86286 17553   2805  33118      0\n#&gt;  7  2017 민주당   139442 14040   1444  24965  40887\n#&gt;  8  2017 국민의힘 124191 12191   1413  24583  25143\n#&gt;  9  2018 민주당    93243 37614   1269  29669   2028\n#&gt; 10  2018 국민의힘  82894 14969   1293  27415   4854\n#&gt; 11  2019 민주당    58981 19933    647  13822      0\n#&gt; 12  2019 국민의힘  47916  9869    642  13593    500\n#&gt; 13  2020 민주당    95045 31211    305  32706   1840\n#&gt; 14  2020 국민의힘 120989 13383    350  36115  43897\n#&gt; 15  2021 민주당    89396 28402    348  21060      0\n#&gt; 16  2021 국민의힘  57990 12030    305  18500      0\n\n\n\n\n코드\nexpense &lt;- object_list[str_detect(object_list, pattern = \"^expense_\\\\d{4}\")]\n\nexpense_list &lt;- mget(expense)\n\nexpense_party_tbl &lt;- expense_list |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, select, c(구분, 합계, 선거비용, 기본경비, 정책개발비, 조직활동비))) |&gt;  \n  unnest(data) |&gt; \n  mutate(연도 = parse_number(name)) |&gt; \n  mutate(정당명 = case_when(\n    str_detect(구분, \"국민의힘|새누리당|자유한국당\") ~ \"국민의힘\",\n    str_detect(구분, \"더불어민주당|(새정치민주연합)\") ~ \"민주당\",\n    TRUE ~ \"기타정당\"\n  )) |&gt;\n  filter(정당명 != \"기타정당\") |&gt;\n  select(연도, 정당명, 합계, 선거비용, 기본경비, 정책개발비, 조직활동비) \n\nexpense_party_tbl\n#&gt; # A tibble: 16 × 7\n#&gt;     연도 정당명     합계 선거비용 기본경비 정책개발비 조직활동비\n#&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n#&gt;  1  2014 국민의힘  77691     7373    21257       9292      30536\n#&gt;  2  2014 민주당    70591     7963    18955       4101      34372\n#&gt;  3  2015 국민의힘  39564        0    18903       8332       6662\n#&gt;  4  2015 민주당    33818      110    17273       4179      10102\n#&gt;  5  2016 민주당    68294     4588    37645       3223      20197\n#&gt;  6  2016 국민의힘  61772     4705    19855       8631      22875\n#&gt;  7  2017 민주당   132145    46114    24973       4254      15288\n#&gt;  8  2017 국민의힘 109761    32835    27333       8371      11042\n#&gt;  9  2018 민주당    70685     8840    22146       3768      29149\n#&gt; 10  2018 국민의힘  59805     7060    20458       6514      13521\n#&gt; 11  2019 민주당    38308        0    20317       3420      12599\n#&gt; 12  2019 국민의힘  36202        0    15981       6744       8673\n#&gt; 13  2020 민주당    58549     4058    21682       4274      22438\n#&gt; 14  2020 국민의힘 104155     4844    69579       6410      14364\n#&gt; 15  2021 민주당    55624        0    24578       5354      23348\n#&gt; 16  2021 국민의힘  44224        0    20789       9175       9817"
  },
  {
    "objectID": "party_numbers.html#당원",
    "href": "party_numbers.html#당원",
    "title": "지도제작 대회",
    "section": "\n2.1 당원",
    "text": "2.1 당원\n\n코드\nparty_members_sido_tbl |&gt; \n  ggplot(aes(x = year, y = 당원수, color = 정당명, group = 정당명)) +\n    geom_point() +\n    geom_line() +\n    facet_wrap(vars(구분)) +\n    theme_minimal() +\n    theme(legend.position = \"top\") +\n    labs(x = \"\",\n         y = \"당원수\",\n         title = \"양당 시도별 당원수 추세\",\n         caption = \"출처: 중앙선관위 '정당의 활동개황 및 회계보고'\") +\n    scale_y_continuous(labels = scales::comma) +\n    scale_color_manual(values = c(\"국민의힘\" = \"red\",\n                                  \"민주당\" = \"blue\"))"
  },
  {
    "objectID": "party_numbers.html#납부당원",
    "href": "party_numbers.html#납부당원",
    "title": "지도제작 대회",
    "section": "\n2.2 납부당원",
    "text": "2.2 납부당원\n\n코드\npayers_members_tbl |&gt; \n  pivot_longer(c(당원수, 납부자수), names_to = \"구분\", values_to = \"당원수\") |&gt;\n  mutate(구분 = factor(구분, levels = c(\"당원수\", \"납부자수\"))) |&gt; \n  ggplot(aes(x = 연도, y = 당원수, color = 정당명, group = 정당명)) +\n    geom_point() +\n    geom_line() +\n    facet_wrap(vars(구분)) +\n    theme_minimal() +\n    theme(legend.position = \"top\") +\n    labs(x = \"\",\n         y = \"당원수\",\n         title = \"양당 당비 납부자 추세\",\n         caption = \"출처: 중앙선관위 '정당의 활동개황 및 회계보고'\") +\n    scale_y_continuous(labels = scales::comma) +\n    scale_color_manual(values = c(\"국민의힘\" = \"red\",\n                                  \"민주당\" = \"blue\"))"
  },
  {
    "objectID": "party_numbers.html#수입내역-9",
    "href": "party_numbers.html#수입내역-9",
    "title": "지도제작 대회",
    "section": "\n2.3 수입내역",
    "text": "2.3 수입내역\n\n코드\nincome_party_tbl |&gt; \n  pivot_longer(합계:차입금, names_to = \"구분\", values_to = \"금액\") |&gt;\n  # mutate(구분 = factor(구분, levels = c(\"합계\", \"당비\"))) |&gt; \n  ggplot(aes(x = 연도, y = 금액, color = 정당명, group = 정당명)) +\n    geom_point() +\n    geom_line() +\n    facet_wrap(vars(구분)) +\n    theme_minimal() +\n    theme(legend.position = \"top\") +\n    labs(x = \"\",\n         y = \"당원수\",\n         title = \"양당 수입내역 추세\",\n         caption = \"출처: 중앙선관위 '정당의 활동개황 및 회계보고'\") +\n    scale_y_continuous(labels = scales::comma) +\n    scale_color_manual(values = c(\"국민의힘\" = \"red\",\n                                  \"민주당\" = \"blue\"))"
  },
  {
    "objectID": "party_numbers.html#지출내역-9",
    "href": "party_numbers.html#지출내역-9",
    "title": "지도제작 대회",
    "section": "\n2.4 지출내역",
    "text": "2.4 지출내역\n\n코드\nexpense_party_tbl |&gt; \n  pivot_longer(합계:조직활동비, names_to = \"구분\", values_to = \"금액\") |&gt;\n  ggplot(aes(x = 연도, y = 금액, color = 정당명, group = 정당명)) +\n    geom_point() +\n    geom_line() +\n    facet_wrap(vars(구분)) +\n    theme_minimal() +\n    theme(legend.position = \"top\") +\n    labs(x = \"\",\n         y = \"금액(백만원)\",\n         title = \"양당 지출내역 추세\",\n         caption = \"출처: 중앙선관위 '정당의 활동개황 및 회계보고'\") +\n    scale_y_continuous(labels = scales::comma) +\n    scale_color_manual(values = c(\"국민의힘\" = \"red\",\n                                  \"민주당\" = \"blue\"))"
  },
  {
    "objectID": "elected_numbers.html",
    "href": "elected_numbers.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "역대 선거구\n\n제17대: 243\n제18대: 245\n제19대: 246\n제20대: 253\n\n제21대: 253\n\n\n\n\n\n코드library(tidyverse)\nlibrary(rvest)\n\n# 웹사이트의 URL\nurl_2020 &lt;- \"https://namu.wiki/w/%EC%A0%9C21%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2020 &lt;- read_html(url_2020)\n\n# 지역구 시도 H4 텍스트 추출\nh4_text &lt;- page_2020 %&gt;%\n  html_elements(css = \"h4\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh4_sido &lt;- h4_text[str_detect(h4_text, \"^4\\\\.1\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^4\\\\.1\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2020_text &lt;- page_2020 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2020_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2020_text, \"제주시 갑.*서귀포시\"))\n\npage_2020_list &lt;- page_2020 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = TRUE)\n\npage_2020_raw &lt;- page_2020_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h4_sido) |&gt;\n  mutate(value = map(value, select, 1:5)) |&gt; \n  unnest(cols = c(value)) \n  \npage_2020_tbl &lt;- page_2020_raw |&gt; \n  select(시도명, 지역구, 이름, 정당=소속, 선수, 비고) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  select(\"시도명\", \"지역구\", \"이름\", \"정당\", \"선수\", \"비고\")\n\n\n\n\n코드# 웹사이트의 URL\nurl_2016 &lt;- \"https://namu.wiki/w/%EC%A0%9C20%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2016 &lt;- read_html(url_2016)\n\n# 지역구 시도 H4 텍스트 추출\nh3_text &lt;- page_2016 %&gt;%\n  html_elements(css = \"h3\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh3_sido &lt;- h3_text[str_detect(h3_text, \"^2\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^2\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2016_text &lt;- page_2016 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2016_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2016_text, \"제주시 갑.*서귀포시\"))\n\npage_2016_list &lt;- page_2016 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = FALSE)\n\npage_2016_raw &lt;- page_2016_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h3_sido) |&gt;\n  unnest(cols = c(value)) \n\npage_2016_tbl  &lt;- page_2016_raw |&gt; \n  set_names(c(\"name\", \"지역구\", \"이름\", \"시작정당\", \"종료정당\", \"선수\", \"비고\", \"시도명\")) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  filter(!is.na(선수)) |&gt; \n  select(-name) |&gt; \n  relocate(시도명, .before = 지역구) |&gt; \n  select(\"시도명\", \"지역구\", \"이름\", \"정당\" = \"시작정당\", \"선수\", \"비고\")\n\n\n\n\n코드# 웹사이트의 URL\nurl_2012 &lt;- \"https://namu.wiki/w/%EC%A0%9C19%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2012 &lt;- read_html(url_2012)\n\n# 지역구 시도 H4 텍스트 추출\nh3_text &lt;- page_2012 %&gt;%\n  html_elements(css = \"h3\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh3_sido &lt;- h3_text[str_detect(h3_text, \"^2\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^2\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2012_text &lt;- page_2012 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2012_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2012_text, \"제주시 갑.*서귀포시\"))\n\npage_2012_list &lt;- page_2012 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = FALSE)\n\npage_2012_raw &lt;- page_2012_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h3_sido) |&gt;\n  unnest(cols = c(value)) \n\npage_2012_tbl  &lt;- page_2012_raw |&gt; \n  set_names(c(\"name\", \"지역구\", \"이름\", \"시작정당\", \"종료정당\", \"선수\", \"비고\", \"시도명\")) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  filter(!is.na(선수)) |&gt; \n  select(-name) |&gt; \n  relocate(시도명, .before = 지역구) |&gt; \n  select(\"시도명\", \"지역구\", \"이름\", \"정당\" = \"시작정당\", \"선수\", \"비고\")\n\n\n\n\n정당명이 이미지로 되어 있음.\n\n\n코드# 웹사이트의 URL\nurl_2008 &lt;- \"https://namu.wiki/w/%EC%A0%9C18%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2008 &lt;- read_html(url_2008)\n\n# 지역구 시도 H4 텍스트 추출\nh3_text &lt;- page_2008 %&gt;%\n  html_elements(css = \"h3\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh3_sido &lt;- h3_text[str_detect(h3_text, \"^2\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^2\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2008_text &lt;- page_2008 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2008_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2008_text, \"제주시 갑.*서귀포시\"))\n\npage_2008_list &lt;- page_2008 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = FALSE)\n\npage_2008_raw &lt;- page_2008_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h3_sido) |&gt;\n  unnest(cols = c(value)) \n\npage_2008_tbl  &lt;- page_2008_raw |&gt; \n  set_names(c(\"name\", \"지역구\", \"이름\", \"시작정당\", \"종료정당\", \"선수\", \"비고\", \"시도명\")) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  filter(!is.na(선수)) |&gt; \n  select(-name) |&gt; \n  relocate(시도명, .before = 지역구) |&gt; \n  select(\"시도명\", \"지역구\", \"이름\", \"정당\" = \"시작정당\", \"선수\", \"비고\")\n\n\n\n\n정당명이 이미지로 되어 있음.\n\n\n코드# 웹사이트의 URL\nurl_2004 &lt;- \"https://namu.wiki/w/%EC%A0%9C17%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2004 &lt;- read_html(url_2004)\n\n# 지역구 시도 H4 텍스트 추출\nh3_text &lt;- page_2004 %&gt;%\n  html_elements(css = \"h3\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh3_sido &lt;- h3_text[str_detect(h3_text, \"^2\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^2\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2004_text &lt;- page_2004 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2004_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2004_text, \"북제주군 을.*서귀포시\"))\n\npage_2004_list &lt;- page_2004 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = FALSE)\n\npage_2004_raw &lt;- page_2004_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h3_sido) |&gt;\n  unnest(cols = c(value)) \n\npage_2004_tbl  &lt;- page_2004_raw |&gt; \n  set_names(c(\"name\", \"지역구\", \"이름\", \"시작정당\", \"종료정당\", \"선수\", \"비고\", \"시도명\")) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  filter(!is.na(선수)) |&gt; \n  select(-name) |&gt; \n  relocate(시도명, .before = 지역구) \n\n\n\n\n코드library(gt)\n\nobject_list &lt;- ls()\n\nfirst_elected &lt;- object_list[str_detect(object_list, \"page_\\\\d{4}_tbl\")]\n\nelected &lt;- mget(setdiff(first_elected, c(\"page_2004_tbl\", \"page_2008_tbl\")))\n\nelected_tbl &lt;- elected |&gt; \n  enframe() |&gt; \n  unnest(value) |&gt; \n  mutate(연도 = str_extract(name, \"\\\\d{4}\")) |&gt; \n  mutate(정당 = case_when(연도 == \"2020\" & 이름 == \"윤관석\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"이성만\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"김진표\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"김남국\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"박완주\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"양향자\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"이상직\" ~ \"더불어민주당\",\n                        \n                          연도 == \"2020\" & 이름 == \"곽상도\" ~ \"국민의힘\",\n                          연도 == \"2020\" & 이름 == \"황보승희\" ~ \"국민의힘\",\n                          연도 == \"2020\" & 이름 == \"하영제\" ~ \"국민의힘\",\n                          TRUE ~ 정당)) |&gt; \n  mutate(정당 = case_when(\n    정당 %in% c(\"더불어민주당\", \"민주통합당\") ~ \"민주당\",\n    정당 %in% c(\"새누리당\", \"국민의힘\") ~ \"국민의힘\",\n    TRUE ~ \"기타정당\")) |&gt; \n  select(-name) |&gt; \n  relocate(연도, .before = 시도명) |&gt; \n  mutate(시도명 = case_when(\n    str_detect(시도명, \"강원\") ~ \"강원도\",\n    str_detect(시도명, \"제주\") ~ \"제주도\",\n    TRUE ~ 시도명)) \n\nelected_tbl |&gt; \n  # mutate(비고 = str_sub(비고, 1, 30)) |&gt;\n  reactable::reactable()\n\n\n\n\n코드\nelected_tbl |&gt; \n  write_rds(\"data/elected_tbl_초선.rds\")"
  },
  {
    "objectID": "elected_numbers.html#제21대-2020년",
    "href": "elected_numbers.html#제21대-2020년",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(rvest)\n\n# 웹사이트의 URL\nurl_2020 &lt;- \"https://namu.wiki/w/%EC%A0%9C21%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2020 &lt;- read_html(url_2020)\n\n# 지역구 시도 H4 텍스트 추출\nh4_text &lt;- page_2020 %&gt;%\n  html_elements(css = \"h4\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh4_sido &lt;- h4_text[str_detect(h4_text, \"^4\\\\.1\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^4\\\\.1\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2020_text &lt;- page_2020 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2020_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2020_text, \"제주시 갑.*서귀포시\"))\n\npage_2020_list &lt;- page_2020 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = TRUE)\n\npage_2020_raw &lt;- page_2020_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h4_sido) |&gt;\n  mutate(value = map(value, select, 1:5)) |&gt; \n  unnest(cols = c(value)) \n  \npage_2020_tbl &lt;- page_2020_raw |&gt; \n  select(시도명, 지역구, 이름, 정당=소속, 선수, 비고) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  select(\"시도명\", \"지역구\", \"이름\", \"정당\", \"선수\", \"비고\")"
  },
  {
    "objectID": "elected_numbers.html#제20대-2016년",
    "href": "elected_numbers.html#제20대-2016년",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드# 웹사이트의 URL\nurl_2016 &lt;- \"https://namu.wiki/w/%EC%A0%9C20%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2016 &lt;- read_html(url_2016)\n\n# 지역구 시도 H4 텍스트 추출\nh3_text &lt;- page_2016 %&gt;%\n  html_elements(css = \"h3\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh3_sido &lt;- h3_text[str_detect(h3_text, \"^2\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^2\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2016_text &lt;- page_2016 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2016_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2016_text, \"제주시 갑.*서귀포시\"))\n\npage_2016_list &lt;- page_2016 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = FALSE)\n\npage_2016_raw &lt;- page_2016_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h3_sido) |&gt;\n  unnest(cols = c(value)) \n\npage_2016_tbl  &lt;- page_2016_raw |&gt; \n  set_names(c(\"name\", \"지역구\", \"이름\", \"시작정당\", \"종료정당\", \"선수\", \"비고\", \"시도명\")) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  filter(!is.na(선수)) |&gt; \n  select(-name) |&gt; \n  relocate(시도명, .before = 지역구) |&gt; \n  select(\"시도명\", \"지역구\", \"이름\", \"정당\" = \"시작정당\", \"선수\", \"비고\")"
  },
  {
    "objectID": "elected_numbers.html#제19대-2012년",
    "href": "elected_numbers.html#제19대-2012년",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드# 웹사이트의 URL\nurl_2012 &lt;- \"https://namu.wiki/w/%EC%A0%9C19%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2012 &lt;- read_html(url_2012)\n\n# 지역구 시도 H4 텍스트 추출\nh3_text &lt;- page_2012 %&gt;%\n  html_elements(css = \"h3\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh3_sido &lt;- h3_text[str_detect(h3_text, \"^2\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^2\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2012_text &lt;- page_2012 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2012_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2012_text, \"제주시 갑.*서귀포시\"))\n\npage_2012_list &lt;- page_2012 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = FALSE)\n\npage_2012_raw &lt;- page_2012_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h3_sido) |&gt;\n  unnest(cols = c(value)) \n\npage_2012_tbl  &lt;- page_2012_raw |&gt; \n  set_names(c(\"name\", \"지역구\", \"이름\", \"시작정당\", \"종료정당\", \"선수\", \"비고\", \"시도명\")) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  filter(!is.na(선수)) |&gt; \n  select(-name) |&gt; \n  relocate(시도명, .before = 지역구) |&gt; \n  select(\"시도명\", \"지역구\", \"이름\", \"정당\" = \"시작정당\", \"선수\", \"비고\")"
  },
  {
    "objectID": "elected_numbers.html#제18대-2008년",
    "href": "elected_numbers.html#제18대-2008년",
    "title": "지도제작 대회",
    "section": "",
    "text": "정당명이 이미지로 되어 있음.\n\n\n코드# 웹사이트의 URL\nurl_2008 &lt;- \"https://namu.wiki/w/%EC%A0%9C18%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2008 &lt;- read_html(url_2008)\n\n# 지역구 시도 H4 텍스트 추출\nh3_text &lt;- page_2008 %&gt;%\n  html_elements(css = \"h3\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh3_sido &lt;- h3_text[str_detect(h3_text, \"^2\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^2\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2008_text &lt;- page_2008 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2008_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2008_text, \"제주시 갑.*서귀포시\"))\n\npage_2008_list &lt;- page_2008 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = FALSE)\n\npage_2008_raw &lt;- page_2008_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h3_sido) |&gt;\n  unnest(cols = c(value)) \n\npage_2008_tbl  &lt;- page_2008_raw |&gt; \n  set_names(c(\"name\", \"지역구\", \"이름\", \"시작정당\", \"종료정당\", \"선수\", \"비고\", \"시도명\")) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  filter(!is.na(선수)) |&gt; \n  select(-name) |&gt; \n  relocate(시도명, .before = 지역구) |&gt; \n  select(\"시도명\", \"지역구\", \"이름\", \"정당\" = \"시작정당\", \"선수\", \"비고\")"
  },
  {
    "objectID": "elected_numbers.html#제17대-2004년",
    "href": "elected_numbers.html#제17대-2004년",
    "title": "지도제작 대회",
    "section": "",
    "text": "정당명이 이미지로 되어 있음.\n\n\n코드# 웹사이트의 URL\nurl_2004 &lt;- \"https://namu.wiki/w/%EC%A0%9C17%EB%8C%80%20%EA%B5%AD%ED%9A%8C%EC%9D%98%EC%9B%90\"\n\n# 웹 페이지를 불러온다\npage_2004 &lt;- read_html(url_2004)\n\n# 지역구 시도 H4 텍스트 추출\nh3_text &lt;- page_2004 %&gt;%\n  html_elements(css = \"h3\") |&gt; \n  html_text() |&gt; \n  str_remove(pattern = \"\\\\[편집\\\\]\")\n\nh3_sido &lt;- h3_text[str_detect(h3_text, \"^2\\\\..+$\")] |&gt; \n  str_remove(pattern = \"^2\\\\.\\\\d{1,2}\\\\.\") |&gt; \n  str_squish()\n\n# 지역구 표 추출\n## 서울 ~ 제주\npage_2004_text &lt;- page_2004 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_text()\n\nseoul_tbl_index &lt;- which(str_detect(page_2004_text, \"종로구.*중구\"))\njeju_tbl_index &lt;- which(str_detect(page_2004_text, \"북제주군 을.*서귀포시\"))\n\npage_2004_list &lt;- page_2004 |&gt; \n  html_elements(css = \"table\") |&gt; \n  html_table(header = FALSE)\n\npage_2004_raw &lt;- page_2004_list[c(seoul_tbl_index:jeju_tbl_index)] |&gt; \n  enframe() |&gt; \n  mutate(시도명 = h3_sido) |&gt;\n  unnest(cols = c(value)) \n\npage_2004_tbl  &lt;- page_2004_raw |&gt; \n  set_names(c(\"name\", \"지역구\", \"이름\", \"시작정당\", \"종료정당\", \"선수\", \"비고\", \"시도명\")) |&gt; \n  group_by(시도명, 지역구) |&gt; \n  mutate(재보궐 = row_number()) |&gt; \n  ungroup() |&gt; \n  filter(재보궐 == 1) |&gt; \n  mutate(선수 = case_when( str_detect(선수, \"^초선\") ~ \"1선\", \n                          str_detect(선수, \"^재선\") ~ \"2선\",\n                          TRUE ~ 선수)) |&gt;\n  mutate(선수 = str_extract(선수, \"^\\\\d{1,2}\")) |&gt; \n  filter(!is.na(선수)) |&gt; \n  select(-name) |&gt; \n  relocate(시도명, .before = 지역구)"
  },
  {
    "objectID": "elected_numbers.html#데이터-결합",
    "href": "elected_numbers.html#데이터-결합",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(gt)\n\nobject_list &lt;- ls()\n\nfirst_elected &lt;- object_list[str_detect(object_list, \"page_\\\\d{4}_tbl\")]\n\nelected &lt;- mget(setdiff(first_elected, c(\"page_2004_tbl\", \"page_2008_tbl\")))\n\nelected_tbl &lt;- elected |&gt; \n  enframe() |&gt; \n  unnest(value) |&gt; \n  mutate(연도 = str_extract(name, \"\\\\d{4}\")) |&gt; \n  mutate(정당 = case_when(연도 == \"2020\" & 이름 == \"윤관석\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"이성만\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"김진표\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"김남국\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"박완주\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"양향자\" ~ \"더불어민주당\",\n                          연도 == \"2020\" & 이름 == \"이상직\" ~ \"더불어민주당\",\n                        \n                          연도 == \"2020\" & 이름 == \"곽상도\" ~ \"국민의힘\",\n                          연도 == \"2020\" & 이름 == \"황보승희\" ~ \"국민의힘\",\n                          연도 == \"2020\" & 이름 == \"하영제\" ~ \"국민의힘\",\n                          TRUE ~ 정당)) |&gt; \n  mutate(정당 = case_when(\n    정당 %in% c(\"더불어민주당\", \"민주통합당\") ~ \"민주당\",\n    정당 %in% c(\"새누리당\", \"국민의힘\") ~ \"국민의힘\",\n    TRUE ~ \"기타정당\")) |&gt; \n  select(-name) |&gt; \n  relocate(연도, .before = 시도명) |&gt; \n  mutate(시도명 = case_when(\n    str_detect(시도명, \"강원\") ~ \"강원도\",\n    str_detect(시도명, \"제주\") ~ \"제주도\",\n    TRUE ~ 시도명)) \n\nelected_tbl |&gt; \n  # mutate(비고 = str_sub(비고, 1, 30)) |&gt;\n  reactable::reactable()\n\n\n\n\n코드\nelected_tbl |&gt; \n  write_rds(\"data/elected_tbl_초선.rds\")"
  },
  {
    "objectID": "forecast.html",
    "href": "forecast.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "권역별 당선인 의석수 변화\n국회의원 당선인 API를 통해 선거구 및 정당변화를 확인한다.\n\n코드library(tidyverse)\nlibrary(ggrepel)\nextrafont::loadfonts()\n\ntotal_elected_all &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\ncomp_tbl &lt;- total_elected_all |&gt; \n  filter(sgId %in% c(\"20160413\", \"20200415\")) |&gt; \n  select(result) |&gt; \n  unnest(result) |&gt;\n  filter(sgTypecode != \"7\") |&gt;  # 지역구\n  mutate(정당 = case_when(jdName %in% c(\"더불어민주당\", \"더불어시민당\") ~ \"민주당\",\n                          jdName %in% c(\"미래통합당\", \"새누리당\") ~ \"국민의힘\",\n                          jdName %in% c(\"정의당\") ~ \"정의당\",\n                          jdName %in% c(\"국민의당\") ~ \"국민의당\",\n                          jdName %in% c(\"무소속\") ~ \"무소속\",\n                          TRUE ~ \"기타\")) |&gt;\n  select(선거=sgId, 시도명=sdName, 선거구=sggName, 정당, 당선자=name) |&gt; \n  mutate(시도 = case_when(\n    시도명 == \"강원도\" ~ \"강원\",\n    시도명 == \"경기도\" ~ \"경기\",\n    시도명 == \"경상남도\" ~ \"경남\",\n    시도명 == \"경상북도\" ~ \"경북\",\n    시도명 == \"광주광역시\" ~ \"광주\",\n    시도명 == \"대구광역시\" ~ \"대구\",\n    시도명 == \"대전광역시\" ~ \"대전\",\n    시도명 == \"부산광역시\" ~ \"부산\",\n    시도명 == \"서울특별시\" ~ \"서울\",\n    시도명 == \"세종특별자치시\" ~ \"세종\",\n    시도명 == \"울산광역시\" ~ \"울산\",\n    시도명 == \"인천광역시\" ~ \"인천\",\n    시도명 == \"전라남도\" ~ \"전남\",\n    시도명 == \"전라북도\" ~ \"전북\",\n    시도명 == \"제주특별자치도\" ~ \"제주\",\n    시도명 == \"충청남도\" ~ \"충남\",\n    시도명 == \"충청북도\" ~ \"충북\"\n  ))  |&gt; \n  mutate(정당 = factor(정당, levels = c(\"민주당\", \"국민의힘\", \"정의당\", \"국민의당\", \"무소속\")))\n\n# comp_tbl |&gt; \n#   count(정당) |&gt; \n#   pull(정당) |&gt; \n#   dput()"
  },
  {
    "objectID": "forecast.html#선거구",
    "href": "forecast.html#선거구",
    "title": "지도제작 대회",
    "section": "",
    "text": "권역별 당선인 의석수 변화\n국회의원 당선인 API를 통해 선거구 및 정당변화를 확인한다.\n\n코드library(tidyverse)\nlibrary(ggrepel)\nextrafont::loadfonts()\n\ntotal_elected_all &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\ncomp_tbl &lt;- total_elected_all |&gt; \n  filter(sgId %in% c(\"20160413\", \"20200415\")) |&gt; \n  select(result) |&gt; \n  unnest(result) |&gt;\n  filter(sgTypecode != \"7\") |&gt;  # 지역구\n  mutate(정당 = case_when(jdName %in% c(\"더불어민주당\", \"더불어시민당\") ~ \"민주당\",\n                          jdName %in% c(\"미래통합당\", \"새누리당\") ~ \"국민의힘\",\n                          jdName %in% c(\"정의당\") ~ \"정의당\",\n                          jdName %in% c(\"국민의당\") ~ \"국민의당\",\n                          jdName %in% c(\"무소속\") ~ \"무소속\",\n                          TRUE ~ \"기타\")) |&gt;\n  select(선거=sgId, 시도명=sdName, 선거구=sggName, 정당, 당선자=name) |&gt; \n  mutate(시도 = case_when(\n    시도명 == \"강원도\" ~ \"강원\",\n    시도명 == \"경기도\" ~ \"경기\",\n    시도명 == \"경상남도\" ~ \"경남\",\n    시도명 == \"경상북도\" ~ \"경북\",\n    시도명 == \"광주광역시\" ~ \"광주\",\n    시도명 == \"대구광역시\" ~ \"대구\",\n    시도명 == \"대전광역시\" ~ \"대전\",\n    시도명 == \"부산광역시\" ~ \"부산\",\n    시도명 == \"서울특별시\" ~ \"서울\",\n    시도명 == \"세종특별자치시\" ~ \"세종\",\n    시도명 == \"울산광역시\" ~ \"울산\",\n    시도명 == \"인천광역시\" ~ \"인천\",\n    시도명 == \"전라남도\" ~ \"전남\",\n    시도명 == \"전라북도\" ~ \"전북\",\n    시도명 == \"제주특별자치도\" ~ \"제주\",\n    시도명 == \"충청남도\" ~ \"충남\",\n    시도명 == \"충청북도\" ~ \"충북\"\n  ))  |&gt; \n  mutate(정당 = factor(정당, levels = c(\"민주당\", \"국민의힘\", \"정의당\", \"국민의당\", \"무소속\")))\n\n# comp_tbl |&gt; \n#   count(정당) |&gt; \n#   pull(정당) |&gt; \n#   dput()"
  },
  {
    "objectID": "forecast.html#시도별-현황",
    "href": "forecast.html#시도별-현황",
    "title": "지도제작 대회",
    "section": "\n2.1 시도별 현황",
    "text": "2.1 시도별 현황\n\n\n서울\n부산\n대구\n인천\n광주\n대전\n울산\n세종\n경기\n강원\n충북\n충남\n전북\n전남\n경북\n경남\n제주\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n35\n\n\n12\n\n\n0\n\n\n2\n\n\n0\n\n\n49\n\n\n\n\n20200415\n\n\n41\n\n\n8\n\n\n0\n\n\n0\n\n\n0\n\n\n49\n\n\n\n\n합계\n\n\n76\n\n\n20\n\n\n0\n\n\n2\n\n\n0\n\n\n98\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n5\n\n\n12\n\n\n0\n\n\n0\n\n\n1\n\n\n18\n\n\n\n\n20200415\n\n\n3\n\n\n15\n\n\n0\n\n\n0\n\n\n0\n\n\n18\n\n\n\n\n합계\n\n\n8\n\n\n27\n\n\n0\n\n\n0\n\n\n1\n\n\n36\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n1\n\n\n8\n\n\n0\n\n\n0\n\n\n3\n\n\n12\n\n\n\n\n20200415\n\n\n0\n\n\n11\n\n\n0\n\n\n0\n\n\n1\n\n\n12\n\n\n\n\n합계\n\n\n1\n\n\n19\n\n\n0\n\n\n0\n\n\n4\n\n\n24\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n7\n\n\n4\n\n\n0\n\n\n0\n\n\n2\n\n\n13\n\n\n\n\n20200415\n\n\n11\n\n\n1\n\n\n0\n\n\n0\n\n\n1\n\n\n13\n\n\n\n\n합계\n\n\n18\n\n\n5\n\n\n0\n\n\n0\n\n\n3\n\n\n26\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n0\n\n\n0\n\n\n0\n\n\n8\n\n\n0\n\n\n8\n\n\n\n\n20200415\n\n\n8\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n8\n\n\n\n\n합계\n\n\n8\n\n\n0\n\n\n0\n\n\n8\n\n\n0\n\n\n16\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n4\n\n\n3\n\n\n0\n\n\n0\n\n\n0\n\n\n7\n\n\n\n\n20200415\n\n\n7\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n7\n\n\n\n\n합계\n\n\n11\n\n\n3\n\n\n0\n\n\n0\n\n\n0\n\n\n14\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n0\n\n\n3\n\n\n0\n\n\n0\n\n\n3\n\n\n6\n\n\n\n\n20200415\n\n\n1\n\n\n5\n\n\n0\n\n\n0\n\n\n0\n\n\n6\n\n\n\n\n합계\n\n\n1\n\n\n8\n\n\n0\n\n\n0\n\n\n3\n\n\n12\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1\n\n\n1\n\n\n\n\n20200415\n\n\n2\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n2\n\n\n\n\n합계\n\n\n2\n\n\n0\n\n\n0\n\n\n0\n\n\n1\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n40\n\n\n19\n\n\n1\n\n\n0\n\n\n0\n\n\n60\n\n\n\n\n20200415\n\n\n51\n\n\n7\n\n\n1\n\n\n0\n\n\n0\n\n\n59\n\n\n\n\n합계\n\n\n91\n\n\n26\n\n\n2\n\n\n0\n\n\n0\n\n\n119\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n1\n\n\n6\n\n\n0\n\n\n0\n\n\n1\n\n\n8\n\n\n\n\n20200415\n\n\n3\n\n\n4\n\n\n0\n\n\n0\n\n\n1\n\n\n8\n\n\n\n\n합계\n\n\n4\n\n\n10\n\n\n0\n\n\n0\n\n\n2\n\n\n16\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n3\n\n\n5\n\n\n0\n\n\n0\n\n\n0\n\n\n8\n\n\n\n\n20200415\n\n\n5\n\n\n3\n\n\n0\n\n\n0\n\n\n0\n\n\n8\n\n\n\n\n합계\n\n\n8\n\n\n8\n\n\n0\n\n\n0\n\n\n0\n\n\n16\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n5\n\n\n6\n\n\n0\n\n\n0\n\n\n0\n\n\n11\n\n\n\n\n20200415\n\n\n6\n\n\n5\n\n\n0\n\n\n0\n\n\n0\n\n\n11\n\n\n\n\n합계\n\n\n11\n\n\n11\n\n\n0\n\n\n0\n\n\n0\n\n\n22\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n2\n\n\n1\n\n\n0\n\n\n7\n\n\n0\n\n\n10\n\n\n\n\n20200415\n\n\n9\n\n\n0\n\n\n0\n\n\n0\n\n\n1\n\n\n10\n\n\n\n\n합계\n\n\n11\n\n\n1\n\n\n0\n\n\n7\n\n\n1\n\n\n20\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n1\n\n\n1\n\n\n0\n\n\n8\n\n\n0\n\n\n10\n\n\n\n\n20200415\n\n\n10\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n10\n\n\n\n\n합계\n\n\n11\n\n\n1\n\n\n0\n\n\n8\n\n\n0\n\n\n20\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n0\n\n\n13\n\n\n0\n\n\n0\n\n\n0\n\n\n13\n\n\n\n\n20200415\n\n\n0\n\n\n13\n\n\n0\n\n\n0\n\n\n0\n\n\n13\n\n\n\n\n합계\n\n\n0\n\n\n26\n\n\n0\n\n\n0\n\n\n0\n\n\n26\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n3\n\n\n12\n\n\n1\n\n\n0\n\n\n0\n\n\n16\n\n\n\n\n20200415\n\n\n3\n\n\n12\n\n\n0\n\n\n0\n\n\n1\n\n\n16\n\n\n\n\n합계\n\n\n6\n\n\n24\n\n\n1\n\n\n0\n\n\n1\n\n\n32\n\n\n\n\n\n\n\n\n\n\n\n\n\n선거\n\n\n정당\n\n\n합계\n\n\n\n\n민주당\n\n\n국민의힘\n\n\n정의당\n\n\n국민의당\n\n\n무소속\n\n\n\n\n\n\n20160413\n\n\n3\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n3\n\n\n\n\n20200415\n\n\n3\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n3\n\n\n\n\n합계\n\n\n6\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n6"
  },
  {
    "objectID": "forecast.html#시도별-상세현황",
    "href": "forecast.html#시도별-상세현황",
    "title": "지도제작 대회",
    "section": "\n2.2 시도별 상세현황",
    "text": "2.2 시도별 상세현황\n\n\n서울\n부산\n대구\n인천\n광주\n대전\n울산\n세종\n경기\n강원\n충북\n충남\n전북\n전남\n경북\n경남\n제주\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n서울\n\n\n중랑구을\n\n\n민주당 (박홍근)\n\n\n민주당 (박홍근)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n중랑구갑\n\n\n민주당 (서영교)\n\n\n민주당 (서영교)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n중구성동구을\n\n\n국민의힘 (지상욱)\n\n\n민주당 (박성준)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n중구성동구갑\n\n\n민주당 (홍익표)\n\n\n민주당 (홍익표)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n종로구\n\n\n민주당 (정세균)\n\n\n민주당 (이낙연)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n은평구을\n\n\n민주당 (강병원)\n\n\n민주당 (강병원)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n은평구갑\n\n\n민주당 (박주민)\n\n\n민주당 (박주민)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n용산구\n\n\n민주당 (진영)\n\n\n국민의힘 (권영세)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n영등포구을\n\n\n민주당 (신경민)\n\n\n민주당 (김민석)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n영등포구갑\n\n\n민주당 (김영주)\n\n\n민주당 (김영주)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n양천구을\n\n\n국민의힘 (김용태)\n\n\n민주당 (이용선)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n양천구갑\n\n\n민주당 (황희)\n\n\n민주당 (황희)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n송파구을\n\n\n민주당 (최명길)\n\n\n국민의힘 (배현진)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n송파구병\n\n\n민주당 (남인순)\n\n\n민주당 (남인순)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n송파구갑\n\n\n국민의힘 (박인숙)\n\n\n국민의힘 (김웅)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n성북구을\n\n\n민주당 (기동민)\n\n\n민주당 (기동민)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n성북구갑\n\n\n민주당 (유승희)\n\n\n민주당 (김영배)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n서초구을\n\n\n국민의힘 (박성중)\n\n\n국민의힘 (박성중)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n서초구갑\n\n\n국민의힘 (이혜훈)\n\n\n국민의힘 (윤희숙)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n서대문구을\n\n\n민주당 (김영호)\n\n\n민주당 (김영호)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n서대문구갑\n\n\n민주당 (우상호)\n\n\n민주당 (우상호)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n마포구을\n\n\n민주당 (손혜원)\n\n\n민주당 (정청래)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n마포구갑\n\n\n민주당 (노웅래)\n\n\n민주당 (노웅래)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n동작구을\n\n\n국민의힘 (나경원)\n\n\n민주당 (이수진)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n동작구갑\n\n\n민주당 (김병기)\n\n\n민주당 (김병기)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n동대문구을\n\n\n민주당 (민병두)\n\n\n민주당 (장경태)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n동대문구갑\n\n\n민주당 (안규백)\n\n\n민주당 (안규백)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n도봉구을\n\n\n국민의힘 (김선동)\n\n\n민주당 (오기형)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n도봉구갑\n\n\n민주당 (인재근)\n\n\n민주당 (인재근)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n노원구을\n\n\n민주당 (우원식)\n\n\n민주당 (우원식)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n노원구병\n\n\n국민의당 (안철수)\n\n\n민주당 (김성환)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n노원구갑\n\n\n민주당 (고용진)\n\n\n민주당 (고용진)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n금천구\n\n\n민주당 (이훈)\n\n\n민주당 (최기상)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n구로구을\n\n\n민주당 (박영선)\n\n\n민주당 (윤건영)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n구로구갑\n\n\n민주당 (이인영)\n\n\n민주당 (이인영)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n광진구을\n\n\n민주당 (추미애)\n\n\n민주당 (고민정)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n광진구갑\n\n\n민주당 (전혜숙)\n\n\n민주당 (전혜숙)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n관악구을\n\n\n국민의힘 (오신환)\n\n\n민주당 (정태호)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n관악구갑\n\n\n국민의당 (김성식)\n\n\n민주당 (유기홍)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n강서구을\n\n\n국민의힘 (김성태)\n\n\n민주당 (진성준)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n강서구병\n\n\n민주당 (한정애)\n\n\n민주당 (한정애)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n강서구갑\n\n\n민주당 (금태섭)\n\n\n민주당 (강선우)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n강북구을\n\n\n민주당 (박용진)\n\n\n민주당 (박용진)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n강북구갑\n\n\n국민의힘 (정양석)\n\n\n민주당 (천준호)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n강동구을\n\n\n민주당 (심재권)\n\n\n민주당 (이해식)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n강동구갑\n\n\n민주당 (진선미)\n\n\n민주당 (진선미)\n\n\n유지\n\n\n유지\n\n\n\n\n서울\n\n\n강남구을\n\n\n민주당 (전현희)\n\n\n국민의힘 (박진)\n\n\n교체\n\n\n교체\n\n\n\n\n서울\n\n\n강남구병\n\n\n국민의힘 (이은재)\n\n\n국민의힘 (유경준)\n\n\n유지\n\n\n교체\n\n\n\n\n서울\n\n\n강남구갑\n\n\n국민의힘 (이종구)\n\n\n국민의힘 (태구민)\n\n\n유지\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n부산\n\n\n해운대구을\n\n\n국민의힘 (배덕광)\n\n\n국민의힘 (김미애)\n\n\n유지\n\n\n교체\n\n\n\n\n부산\n\n\n해운대구갑\n\n\n국민의힘 (하태경)\n\n\n국민의힘 (하태경)\n\n\n유지\n\n\n유지\n\n\n\n\n부산\n\n\n중구영도구\n\n\n국민의힘 (김무성)\n\n\n국민의힘 (황보승희)\n\n\n유지\n\n\n교체\n\n\n\n\n부산\n\n\n연제구\n\n\n민주당 (김해영)\n\n\n국민의힘 (이주환)\n\n\n교체\n\n\n교체\n\n\n\n\n부산\n\n\n수영구\n\n\n국민의힘 (유재중)\n\n\n국민의힘 (전봉민)\n\n\n유지\n\n\n교체\n\n\n\n\n부산\n\n\n서구동구\n\n\n국민의힘 (유기준)\n\n\n국민의힘 (안병길)\n\n\n유지\n\n\n교체\n\n\n\n\n부산\n\n\n사하구을\n\n\n국민의힘 (조경태)\n\n\n국민의힘 (조경태)\n\n\n유지\n\n\n유지\n\n\n\n\n부산\n\n\n사하구갑\n\n\n민주당 (최인호)\n\n\n민주당 (최인호)\n\n\n유지\n\n\n유지\n\n\n\n\n부산\n\n\n사상구\n\n\n무소속 (장제원)\n\n\n국민의힘 (장제원)\n\n\n교체\n\n\n유지\n\n\n\n\n부산\n\n\n북구강서구을\n\n\n국민의힘 (김도읍)\n\n\n국민의힘 (김도읍)\n\n\n유지\n\n\n유지\n\n\n\n\n부산\n\n\n북구강서구갑\n\n\n민주당 (전재수)\n\n\n민주당 (전재수)\n\n\n유지\n\n\n유지\n\n\n\n\n부산\n\n\n부산진구을\n\n\n국민의힘 (이헌승)\n\n\n국민의힘 (이헌승)\n\n\n유지\n\n\n유지\n\n\n\n\n부산\n\n\n부산진구갑\n\n\n민주당 (김영춘)\n\n\n국민의힘 (서병수)\n\n\n교체\n\n\n교체\n\n\n\n\n부산\n\n\n동래구\n\n\n국민의힘 (이진복)\n\n\n국민의힘 (김희곤)\n\n\n유지\n\n\n교체\n\n\n\n\n부산\n\n\n남구을\n\n\n민주당 (박재호)\n\n\n민주당 (박재호)\n\n\n유지\n\n\n유지\n\n\n\n\n부산\n\n\n남구갑\n\n\n국민의힘 (김정훈)\n\n\n국민의힘 (박수영)\n\n\n유지\n\n\n교체\n\n\n\n\n부산\n\n\n기장군\n\n\n국민의힘 (윤상직)\n\n\n국민의힘 (정동만)\n\n\n유지\n\n\n교체\n\n\n\n\n부산\n\n\n금정구\n\n\n국민의힘 (김세연)\n\n\n국민의힘 (백종헌)\n\n\n유지\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n대구\n\n\n중구남구\n\n\n국민의힘 (곽상도)\n\n\n국민의힘 (곽상도)\n\n\n유지\n\n\n유지\n\n\n\n\n대구\n\n\n수성구을\n\n\n무소속 (주호영)\n\n\n무소속 (홍준표)\n\n\n유지\n\n\n교체\n\n\n\n\n대구\n\n\n수성구갑\n\n\n민주당 (김부겸)\n\n\n국민의힘 (주호영)\n\n\n교체\n\n\n교체\n\n\n\n\n대구\n\n\n서구\n\n\n국민의힘 (김상훈)\n\n\n국민의힘 (김상훈)\n\n\n유지\n\n\n유지\n\n\n\n\n대구\n\n\n북구을\n\n\n무소속 (홍의락)\n\n\n국민의힘 (김승수)\n\n\n교체\n\n\n교체\n\n\n\n\n대구\n\n\n북구갑\n\n\n국민의힘 (정태옥)\n\n\n국민의힘 (양금희)\n\n\n유지\n\n\n교체\n\n\n\n\n대구\n\n\n동구을\n\n\n무소속 (유승민)\n\n\n국민의힘 (강대식)\n\n\n교체\n\n\n교체\n\n\n\n\n대구\n\n\n동구갑\n\n\n국민의힘 (정종섭)\n\n\n국민의힘 (류성걸)\n\n\n유지\n\n\n교체\n\n\n\n\n대구\n\n\n달성군\n\n\n국민의힘 (추경호)\n\n\n국민의힘 (추경호)\n\n\n유지\n\n\n유지\n\n\n\n\n대구\n\n\n달서구을\n\n\n국민의힘 (윤재옥)\n\n\n국민의힘 (윤재옥)\n\n\n유지\n\n\n유지\n\n\n\n\n대구\n\n\n달서구병\n\n\n국민의힘 (조원진)\n\n\n국민의힘 (김용판)\n\n\n유지\n\n\n교체\n\n\n\n\n대구\n\n\n달서구갑\n\n\n국민의힘 (곽대훈)\n\n\n국민의힘 (홍석준)\n\n\n유지\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n인천\n\n\n중구동구강화군옹진군\n\n\n무소속 (안상수)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n인천\n\n\n중구강화군옹진군\n\n\n-\n\n\n국민의힘 (배준영)\n\n\n-\n\n\n-\n\n\n\n\n인천\n\n\n연수구을\n\n\n국민의힘 (민경욱)\n\n\n민주당 (정일영)\n\n\n교체\n\n\n교체\n\n\n\n\n인천\n\n\n연수구갑\n\n\n민주당 (박찬대)\n\n\n민주당 (박찬대)\n\n\n유지\n\n\n유지\n\n\n\n\n인천\n\n\n서구을\n\n\n민주당 (신동근)\n\n\n민주당 (신동근)\n\n\n유지\n\n\n유지\n\n\n\n\n인천\n\n\n서구갑\n\n\n국민의힘 (이학재)\n\n\n민주당 (김교흥)\n\n\n교체\n\n\n교체\n\n\n\n\n인천\n\n\n부평구을\n\n\n민주당 (홍영표)\n\n\n민주당 (홍영표)\n\n\n유지\n\n\n유지\n\n\n\n\n인천\n\n\n부평구갑\n\n\n국민의힘 (정유섭)\n\n\n민주당 (이성만)\n\n\n교체\n\n\n교체\n\n\n\n\n인천\n\n\n동구미추홀구을\n\n\n-\n\n\n무소속 (윤상현)\n\n\n-\n\n\n-\n\n\n\n\n인천\n\n\n동구미추홀구갑\n\n\n-\n\n\n민주당 (허종식)\n\n\n-\n\n\n-\n\n\n\n\n인천\n\n\n남동구을\n\n\n민주당 (윤관석)\n\n\n민주당 (윤관석)\n\n\n유지\n\n\n유지\n\n\n\n\n인천\n\n\n남동구갑\n\n\n민주당 (박남춘)\n\n\n민주당 (맹성규)\n\n\n유지\n\n\n교체\n\n\n\n\n인천\n\n\n남구을\n\n\n무소속 (윤상현)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n인천\n\n\n남구갑\n\n\n국민의힘 (홍일표)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n인천\n\n\n계양구을\n\n\n민주당 (송영길)\n\n\n민주당 (송영길)\n\n\n유지\n\n\n유지\n\n\n\n\n인천\n\n\n계양구갑\n\n\n민주당 (유동수)\n\n\n민주당 (유동수)\n\n\n유지\n\n\n유지\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n광주\n\n\n서구을\n\n\n국민의당 (천정배)\n\n\n민주당 (양향자)\n\n\n교체\n\n\n교체\n\n\n\n\n광주\n\n\n서구갑\n\n\n국민의당 (송기석)\n\n\n민주당 (송갑석)\n\n\n교체\n\n\n교체\n\n\n\n\n광주\n\n\n북구을\n\n\n국민의당 (최경환)\n\n\n민주당 (이형석)\n\n\n교체\n\n\n교체\n\n\n\n\n광주\n\n\n북구갑\n\n\n국민의당 (김경진)\n\n\n민주당 (조오섭)\n\n\n교체\n\n\n교체\n\n\n\n\n광주\n\n\n동구남구을\n\n\n국민의당 (박주선)\n\n\n민주당 (이병훈)\n\n\n교체\n\n\n교체\n\n\n\n\n광주\n\n\n동구남구갑\n\n\n국민의당 (장병완)\n\n\n민주당 (윤영덕)\n\n\n교체\n\n\n교체\n\n\n\n\n광주\n\n\n광산구을\n\n\n국민의당 (권은희)\n\n\n민주당 (민형배)\n\n\n교체\n\n\n교체\n\n\n\n\n광주\n\n\n광산구갑\n\n\n국민의당 (김동철)\n\n\n민주당 (이용빈)\n\n\n교체\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n대전\n\n\n중구\n\n\n국민의힘 (이은권)\n\n\n민주당 (황운하)\n\n\n교체\n\n\n교체\n\n\n\n\n대전\n\n\n유성구을\n\n\n민주당 (이상민)\n\n\n민주당 (이상민)\n\n\n유지\n\n\n유지\n\n\n\n\n대전\n\n\n유성구갑\n\n\n민주당 (조승래)\n\n\n민주당 (조승래)\n\n\n유지\n\n\n유지\n\n\n\n\n대전\n\n\n서구을\n\n\n민주당 (박범계)\n\n\n민주당 (박범계)\n\n\n유지\n\n\n유지\n\n\n\n\n대전\n\n\n서구갑\n\n\n민주당 (박병석)\n\n\n민주당 (박병석)\n\n\n유지\n\n\n유지\n\n\n\n\n대전\n\n\n동구\n\n\n국민의힘 (이장우)\n\n\n민주당 (장철민)\n\n\n교체\n\n\n교체\n\n\n\n\n대전\n\n\n대덕구\n\n\n국민의힘 (정용기)\n\n\n민주당 (박영순)\n\n\n교체\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n울산\n\n\n중구\n\n\n국민의힘 (정갑윤)\n\n\n국민의힘 (박성민)\n\n\n유지\n\n\n교체\n\n\n\n\n울산\n\n\n울주군\n\n\n무소속 (강길부)\n\n\n국민의힘 (서범수)\n\n\n교체\n\n\n교체\n\n\n\n\n울산\n\n\n북구\n\n\n무소속 (윤종오)\n\n\n민주당 (이상헌)\n\n\n교체\n\n\n교체\n\n\n\n\n울산\n\n\n동구\n\n\n무소속 (김종훈)\n\n\n국민의힘 (권명호)\n\n\n교체\n\n\n교체\n\n\n\n\n울산\n\n\n남구을\n\n\n국민의힘 (박맹우)\n\n\n국민의힘 (김기현)\n\n\n유지\n\n\n교체\n\n\n\n\n울산\n\n\n남구갑\n\n\n국민의힘 (이채익)\n\n\n국민의힘 (이채익)\n\n\n유지\n\n\n유지\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n세종\n\n\n세종특별자치시을\n\n\n-\n\n\n민주당 (강준현)\n\n\n-\n\n\n-\n\n\n\n\n세종\n\n\n세종특별자치시갑\n\n\n-\n\n\n민주당 (홍성국)\n\n\n-\n\n\n-\n\n\n\n\n세종\n\n\n세종특별자치시\n\n\n무소속 (이해찬)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n경기\n\n\n화성시을\n\n\n민주당 (이원욱)\n\n\n민주당 (이원욱)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n화성시병\n\n\n민주당 (권칠승)\n\n\n민주당 (권칠승)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n화성시갑\n\n\n국민의힘 (서청원)\n\n\n민주당 (송옥주)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n하남시\n\n\n국민의힘 (이현재)\n\n\n민주당 (최종윤)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n포천시가평군\n\n\n국민의힘 (김영우)\n\n\n국민의힘 (최춘식)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n평택시을\n\n\n국민의힘 (유의동)\n\n\n국민의힘 (유의동)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n평택시갑\n\n\n국민의힘 (원유철)\n\n\n민주당 (홍기원)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n파주시을\n\n\n민주당 (박정)\n\n\n민주당 (박정)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n파주시갑\n\n\n민주당 (윤후덕)\n\n\n민주당 (윤후덕)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n이천시\n\n\n국민의힘 (송석준)\n\n\n국민의힘 (송석준)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n의정부시을\n\n\n국민의힘 (홍문종)\n\n\n민주당 (김민철)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n의정부시갑\n\n\n민주당 (문희상)\n\n\n민주당 (오영환)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n의왕시과천시\n\n\n민주당 (신창현)\n\n\n민주당 (이소영)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n용인시정\n\n\n민주당 (표창원)\n\n\n민주당 (이탄희)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n용인시을\n\n\n민주당 (김민기)\n\n\n민주당 (김민기)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n용인시병\n\n\n국민의힘 (한선교)\n\n\n민주당 (정춘숙)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n용인시갑\n\n\n국민의힘 (이우현)\n\n\n국민의힘 (정찬민)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n오산시\n\n\n민주당 (안민석)\n\n\n민주당 (안민석)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n여주시양평군\n\n\n국민의힘 (정병국)\n\n\n국민의힘 (김선교)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n양주시\n\n\n민주당 (정성호)\n\n\n민주당 (정성호)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n안양시만안구\n\n\n민주당 (이종걸)\n\n\n민주당 (강득구)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n안양시동안구을\n\n\n국민의힘 (심재철)\n\n\n민주당 (이재정)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n안양시동안구갑\n\n\n민주당 (이석현)\n\n\n민주당 (민병덕)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n안성시\n\n\n국민의힘 (김학용)\n\n\n민주당 (이규민)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n안산시상록구을\n\n\n민주당 (김철민)\n\n\n민주당 (김철민)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n안산시상록구갑\n\n\n민주당 (전해철)\n\n\n민주당 (전해철)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n안산시단원구을\n\n\n국민의힘 (박순자)\n\n\n민주당 (김남국)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n안산시단원구갑\n\n\n국민의힘 (김명연)\n\n\n민주당 (고영인)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n시흥시을\n\n\n민주당 (조정식)\n\n\n민주당 (조정식)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n시흥시갑\n\n\n국민의힘 (함진규)\n\n\n민주당 (문정복)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n수원시정\n\n\n민주당 (박광온)\n\n\n민주당 (박광온)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n수원시을\n\n\n민주당 (백혜련)\n\n\n민주당 (백혜련)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n수원시병\n\n\n민주당 (김영진)\n\n\n민주당 (김영진)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n수원시무\n\n\n민주당 (김진표)\n\n\n민주당 (김진표)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n수원시갑\n\n\n민주당 (이찬열)\n\n\n민주당 (김승원)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n성남시중원구\n\n\n국민의힘 (신상진)\n\n\n민주당 (윤영찬)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n성남시수정구\n\n\n민주당 (김태년)\n\n\n민주당 (김태년)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n성남시분당구을\n\n\n민주당 (김병욱)\n\n\n민주당 (김병욱)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n성남시분당구갑\n\n\n민주당 (김병관)\n\n\n국민의힘 (김은혜)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n부천시정\n\n\n-\n\n\n민주당 (서영석)\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n부천시을\n\n\n-\n\n\n민주당 (설훈)\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n부천시원미구을\n\n\n민주당 (설훈)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n부천시원미구갑\n\n\n민주당 (김경협)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n부천시오정구\n\n\n민주당 (원혜영)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n부천시소사구\n\n\n민주당 (김상희)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n부천시병\n\n\n-\n\n\n민주당 (김상희)\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n부천시갑\n\n\n-\n\n\n민주당 (김경협)\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n동두천시연천군\n\n\n국민의힘 (김성원)\n\n\n국민의힘 (김성원)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n남양주시을\n\n\n민주당 (김한정)\n\n\n민주당 (김한정)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n남양주시병\n\n\n국민의힘 (주광덕)\n\n\n민주당 (김용민)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n남양주시갑\n\n\n민주당 (조응천)\n\n\n민주당 (조응천)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n김포시을\n\n\n국민의힘 (홍철호)\n\n\n민주당 (박상혁)\n\n\n교체\n\n\n교체\n\n\n\n\n경기\n\n\n김포시갑\n\n\n민주당 (김두관)\n\n\n민주당 (김주영)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n군포시을\n\n\n민주당 (이학영)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n군포시갑\n\n\n민주당 (김정우)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n군포시\n\n\n-\n\n\n민주당 (이학영)\n\n\n-\n\n\n-\n\n\n\n\n경기\n\n\n구리시\n\n\n민주당 (윤호중)\n\n\n민주당 (윤호중)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n광주시을\n\n\n민주당 (임종성)\n\n\n민주당 (임종성)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n광주시갑\n\n\n민주당 (소병훈)\n\n\n민주당 (소병훈)\n\n\n유지\n\n\n유지\n\n\n\n\n경기\n\n\n광명시을\n\n\n민주당 (이언주)\n\n\n민주당 (양기대)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n광명시갑\n\n\n민주당 (백재현)\n\n\n민주당 (임오경)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n고양시정\n\n\n민주당 (김현미)\n\n\n민주당 (이용우)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n고양시을\n\n\n민주당 (정재호)\n\n\n민주당 (한준호)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n고양시병\n\n\n민주당 (유은혜)\n\n\n민주당 (홍정민)\n\n\n유지\n\n\n교체\n\n\n\n\n경기\n\n\n고양시갑\n\n\n정의당 (심상정)\n\n\n정의당 (심상정)\n\n\n유지\n\n\n유지\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n강원\n\n\n홍천군횡성군영월군평창군\n\n\n-\n\n\n국민의힘 (유상범)\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n홍천군철원군화천군양구군인제군\n\n\n국민의힘 (황영철)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n태백시횡성군영월군평창군정선군\n\n\n국민의힘 (염동열)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n춘천시철원군화천군양구군을\n\n\n-\n\n\n국민의힘 (한기호)\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n춘천시철원군화천군양구군갑\n\n\n-\n\n\n민주당 (허영)\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n춘천시\n\n\n국민의힘 (김진태)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n원주시을\n\n\n민주당 (송기헌)\n\n\n민주당 (송기헌)\n\n\n유지\n\n\n유지\n\n\n\n\n강원\n\n\n원주시갑\n\n\n국민의힘 (김기선)\n\n\n민주당 (이광재)\n\n\n교체\n\n\n교체\n\n\n\n\n강원\n\n\n속초시인제군고성군양양군\n\n\n-\n\n\n국민의힘 (이양수)\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n속초시고성군양양군\n\n\n국민의힘 (이양수)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n동해시태백시삼척시정선군\n\n\n-\n\n\n국민의힘 (이철규)\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n동해시삼척시\n\n\n무소속 (이철규)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n강원\n\n\n강릉시\n\n\n국민의힘 (권성동)\n\n\n무소속 (권성동)\n\n\n교체\n\n\n유지\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n충북\n\n\n충주시\n\n\n국민의힘 (이종배)\n\n\n국민의힘 (이종배)\n\n\n유지\n\n\n유지\n\n\n\n\n충북\n\n\n청주시흥덕구\n\n\n민주당 (도종환)\n\n\n민주당 (도종환)\n\n\n유지\n\n\n유지\n\n\n\n\n충북\n\n\n청주시청원구\n\n\n민주당 (변재일)\n\n\n민주당 (변재일)\n\n\n유지\n\n\n유지\n\n\n\n\n충북\n\n\n청주시서원구\n\n\n민주당 (오제세)\n\n\n민주당 (이장섭)\n\n\n유지\n\n\n교체\n\n\n\n\n충북\n\n\n청주시상당구\n\n\n국민의힘 (정우택)\n\n\n민주당 (정정순)\n\n\n교체\n\n\n교체\n\n\n\n\n충북\n\n\n증평군진천군음성군\n\n\n국민의힘 (경대수)\n\n\n민주당 (임호선)\n\n\n교체\n\n\n교체\n\n\n\n\n충북\n\n\n제천시단양군\n\n\n국민의힘 (권석창)\n\n\n국민의힘 (엄태영)\n\n\n유지\n\n\n교체\n\n\n\n\n충북\n\n\n보은군옥천군영동군괴산군\n\n\n국민의힘 (박덕흠)\n\n\n국민의힘 (박덕흠)\n\n\n유지\n\n\n유지\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n충남\n\n\n홍성군예산군\n\n\n국민의힘 (홍문표)\n\n\n국민의힘 (홍문표)\n\n\n유지\n\n\n유지\n\n\n\n\n충남\n\n\n천안시을\n\n\n민주당 (박완주)\n\n\n민주당 (박완주)\n\n\n유지\n\n\n유지\n\n\n\n\n충남\n\n\n천안시병\n\n\n민주당 (양승조)\n\n\n민주당 (이정문)\n\n\n유지\n\n\n교체\n\n\n\n\n충남\n\n\n천안시갑\n\n\n국민의힘 (박찬우)\n\n\n민주당 (문진석)\n\n\n교체\n\n\n교체\n\n\n\n\n충남\n\n\n아산시을\n\n\n민주당 (강훈식)\n\n\n민주당 (강훈식)\n\n\n유지\n\n\n유지\n\n\n\n\n충남\n\n\n아산시갑\n\n\n국민의힘 (이명수)\n\n\n국민의힘 (이명수)\n\n\n유지\n\n\n유지\n\n\n\n\n충남\n\n\n서산시태안군\n\n\n국민의힘 (성일종)\n\n\n국민의힘 (성일종)\n\n\n유지\n\n\n유지\n\n\n\n\n충남\n\n\n보령시서천군\n\n\n국민의힘 (김태흠)\n\n\n국민의힘 (김태흠)\n\n\n유지\n\n\n유지\n\n\n\n\n충남\n\n\n당진시\n\n\n민주당 (어기구)\n\n\n민주당 (어기구)\n\n\n유지\n\n\n유지\n\n\n\n\n충남\n\n\n논산시계룡시금산군\n\n\n민주당 (김종민)\n\n\n민주당 (김종민)\n\n\n유지\n\n\n유지\n\n\n\n\n충남\n\n\n공주시부여군청양군\n\n\n국민의힘 (정진석)\n\n\n국민의힘 (정진석)\n\n\n유지\n\n\n유지\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n전북\n\n\n정읍시고창군\n\n\n국민의당 (유성엽)\n\n\n민주당 (윤준병)\n\n\n교체\n\n\n교체\n\n\n\n\n전북\n\n\n전주시을\n\n\n국민의힘 (정운천)\n\n\n민주당 (이상직)\n\n\n교체\n\n\n교체\n\n\n\n\n전북\n\n\n전주시병\n\n\n국민의당 (정동영)\n\n\n민주당 (김성주)\n\n\n교체\n\n\n교체\n\n\n\n\n전북\n\n\n전주시갑\n\n\n국민의당 (김광수)\n\n\n민주당 (김윤덕)\n\n\n교체\n\n\n교체\n\n\n\n\n전북\n\n\n익산시을\n\n\n국민의당 (조배숙)\n\n\n민주당 (한병도)\n\n\n교체\n\n\n교체\n\n\n\n\n전북\n\n\n익산시갑\n\n\n민주당 (이춘석)\n\n\n민주당 (김수흥)\n\n\n유지\n\n\n교체\n\n\n\n\n전북\n\n\n완주군진안군무주군장수군\n\n\n민주당 (안호영)\n\n\n민주당 (안호영)\n\n\n유지\n\n\n유지\n\n\n\n\n전북\n\n\n남원시임실군순창군\n\n\n국민의당 (이용호)\n\n\n무소속 (이용호)\n\n\n교체\n\n\n유지\n\n\n\n\n전북\n\n\n김제시부안군\n\n\n국민의당 (김종회)\n\n\n민주당 (이원택)\n\n\n교체\n\n\n교체\n\n\n\n\n전북\n\n\n군산시\n\n\n국민의당 (김관영)\n\n\n민주당 (신영대)\n\n\n교체\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n전남\n\n\n해남군완도군진도군\n\n\n국민의당 (윤영일)\n\n\n민주당 (윤재갑)\n\n\n교체\n\n\n교체\n\n\n\n\n전남\n\n\n영암군무안군신안군\n\n\n국민의당 (박준영)\n\n\n민주당 (서삼석)\n\n\n교체\n\n\n교체\n\n\n\n\n전남\n\n\n여수시을\n\n\n국민의당 (주승용)\n\n\n민주당 (김회재)\n\n\n교체\n\n\n교체\n\n\n\n\n전남\n\n\n여수시갑\n\n\n국민의당 (이용주)\n\n\n민주당 (주철현)\n\n\n교체\n\n\n교체\n\n\n\n\n전남\n\n\n순천시광양시곡성군구례군을\n\n\n-\n\n\n민주당 (서동용)\n\n\n-\n\n\n-\n\n\n\n\n전남\n\n\n순천시광양시곡성군구례군갑\n\n\n-\n\n\n민주당 (소병철)\n\n\n-\n\n\n-\n\n\n\n\n전남\n\n\n순천시\n\n\n국민의힘 (이정현)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n전남\n\n\n목포시\n\n\n국민의당 (박지원)\n\n\n민주당 (김원이)\n\n\n교체\n\n\n교체\n\n\n\n\n전남\n\n\n담양군함평군영광군장성군\n\n\n민주당 (이개호)\n\n\n민주당 (이개호)\n\n\n유지\n\n\n유지\n\n\n\n\n전남\n\n\n나주시화순군\n\n\n국민의당 (손금주)\n\n\n민주당 (신정훈)\n\n\n교체\n\n\n교체\n\n\n\n\n전남\n\n\n광양시곡성군구례군\n\n\n국민의당 (정인화)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n전남\n\n\n고흥군보성군장흥군강진군\n\n\n국민의당 (황주홍)\n\n\n민주당 (김승남)\n\n\n교체\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n경북\n\n\n포항시북구\n\n\n국민의힘 (김정재)\n\n\n국민의힘 (김정재)\n\n\n유지\n\n\n유지\n\n\n\n\n경북\n\n\n포항시남구울릉군\n\n\n국민의힘 (박명재)\n\n\n국민의힘 (김병욱)\n\n\n유지\n\n\n교체\n\n\n\n\n경북\n\n\n영천시청도군\n\n\n국민의힘 (이만희)\n\n\n국민의힘 (이만희)\n\n\n유지\n\n\n유지\n\n\n\n\n경북\n\n\n영주시영양군봉화군울진군\n\n\n-\n\n\n국민의힘 (박형수)\n\n\n-\n\n\n-\n\n\n\n\n경북\n\n\n영주시문경시예천군\n\n\n국민의힘 (최교일)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경북\n\n\n영양군영덕군봉화군울진군\n\n\n국민의힘 (강석호)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경북\n\n\n안동시예천군\n\n\n-\n\n\n국민의힘 (김형동)\n\n\n-\n\n\n-\n\n\n\n\n경북\n\n\n안동시\n\n\n국민의힘 (김광림)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경북\n\n\n상주시문경시\n\n\n-\n\n\n국민의힘 (임이자)\n\n\n-\n\n\n-\n\n\n\n\n경북\n\n\n상주시군위군의성군청송군\n\n\n국민의힘 (김종태)\n\n\n-\n\n\n-\n\n\n-\n\n\n\n\n경북\n\n\n김천시\n\n\n국민의힘 (이철우)\n\n\n국민의힘 (송언석)\n\n\n유지\n\n\n교체\n\n\n\n\n경북\n\n\n군위군의성군청송군영덕군\n\n\n-\n\n\n국민의힘 (김희국)\n\n\n-\n\n\n-\n\n\n\n\n경북\n\n\n구미시을\n\n\n국민의힘 (장석춘)\n\n\n국민의힘 (김영식)\n\n\n유지\n\n\n교체\n\n\n\n\n경북\n\n\n구미시갑\n\n\n국민의힘 (백승주)\n\n\n국민의힘 (구자근)\n\n\n유지\n\n\n교체\n\n\n\n\n경북\n\n\n고령군성주군칠곡군\n\n\n국민의힘 (이완영)\n\n\n국민의힘 (정희용)\n\n\n유지\n\n\n교체\n\n\n\n\n경북\n\n\n경주시\n\n\n국민의힘 (김석기)\n\n\n국민의힘 (김석기)\n\n\n유지\n\n\n유지\n\n\n\n\n경북\n\n\n경산시\n\n\n국민의힘 (최경환)\n\n\n국민의힘 (윤두현)\n\n\n유지\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n경남\n\n\n통영시고성군\n\n\n국민의힘 (이군현)\n\n\n국민의힘 (정점식)\n\n\n유지\n\n\n교체\n\n\n\n\n경남\n\n\n창원시진해구\n\n\n국민의힘 (김성찬)\n\n\n국민의힘 (이달곤)\n\n\n유지\n\n\n교체\n\n\n\n\n경남\n\n\n창원시의창구\n\n\n국민의힘 (박완수)\n\n\n국민의힘 (박완수)\n\n\n유지\n\n\n유지\n\n\n\n\n경남\n\n\n창원시성산구\n\n\n정의당 (노회찬)\n\n\n국민의힘 (강기윤)\n\n\n교체\n\n\n교체\n\n\n\n\n경남\n\n\n창원시마산회원구\n\n\n국민의힘 (윤한홍)\n\n\n국민의힘 (윤한홍)\n\n\n유지\n\n\n유지\n\n\n\n\n경남\n\n\n창원시마산합포구\n\n\n국민의힘 (이주영)\n\n\n국민의힘 (최형두)\n\n\n유지\n\n\n교체\n\n\n\n\n경남\n\n\n진주시을\n\n\n국민의힘 (김재경)\n\n\n국민의힘 (강민국)\n\n\n유지\n\n\n교체\n\n\n\n\n경남\n\n\n진주시갑\n\n\n국민의힘 (박대출)\n\n\n국민의힘 (박대출)\n\n\n유지\n\n\n유지\n\n\n\n\n경남\n\n\n양산시을\n\n\n민주당 (서형수)\n\n\n민주당 (김두관)\n\n\n유지\n\n\n교체\n\n\n\n\n경남\n\n\n양산시갑\n\n\n국민의힘 (윤영석)\n\n\n국민의힘 (윤영석)\n\n\n유지\n\n\n유지\n\n\n\n\n경남\n\n\n산청군함양군거창군합천군\n\n\n국민의힘 (강석진)\n\n\n무소속 (김태호)\n\n\n교체\n\n\n교체\n\n\n\n\n경남\n\n\n사천시남해군하동군\n\n\n국민의힘 (여상규)\n\n\n국민의힘 (하영제)\n\n\n유지\n\n\n교체\n\n\n\n\n경남\n\n\n밀양시의령군함안군창녕군\n\n\n국민의힘 (엄용수)\n\n\n국민의힘 (조해진)\n\n\n유지\n\n\n교체\n\n\n\n\n경남\n\n\n김해시을\n\n\n민주당 (김경수)\n\n\n민주당 (김정호)\n\n\n유지\n\n\n교체\n\n\n\n\n경남\n\n\n김해시갑\n\n\n민주당 (민홍철)\n\n\n민주당 (민홍철)\n\n\n유지\n\n\n유지\n\n\n\n\n경남\n\n\n거제시\n\n\n국민의힘 (김한표)\n\n\n국민의힘 (서일준)\n\n\n유지\n\n\n교체\n\n\n\n\n\n\n\n\n\n\n\n\n\n시도\n\n\n선거구\n\n\n선거\n\n\n정당후보\n\n\n\n\n20160413\n\n\n20200415\n\n\n동일정당\n\n\n동일후보\n\n\n\n\n\n\n제주\n\n\n제주시을\n\n\n민주당 (오영훈)\n\n\n민주당 (오영훈)\n\n\n유지\n\n\n유지\n\n\n\n\n제주\n\n\n제주시갑\n\n\n민주당 (강창일)\n\n\n민주당 (송재호)\n\n\n유지\n\n\n교체\n\n\n\n\n제주\n\n\n서귀포시\n\n\n민주당 (위성곤)\n\n\n민주당 (위성곤)\n\n\n유지\n\n\n유지"
  },
  {
    "objectID": "nec_api.html",
    "href": "nec_api.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드code_election &lt;- krvote::code_election\n\nnames(code_election) &lt;- c(\"선거코드\", \"선거명\", \"선거구분\")\n\nlegislator_code &lt;- code_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\")) |&gt; \n  pull(선거코드) |&gt; \n  unique()\n\nlegislator_code\n\n\n\n\n코드legislator_raw &lt;- code_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\"),\n         선거구분 != \"0\") \n\nget_precinct &lt;- function(legislator_cd = \"20200415\", sgTypecode = \"2\") {\n  \n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거코드: \", legislator_cd)\n  cat(\"\\n---------------------------------------------\\n\")\n  \n  # httr의 GET 함수로 데이터를 추출한다\n  response &lt;- GET(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSggCodeList\",\n                  query = list(sgId = legislator_cd,\n                               sgTypecode = sgTypecode,\n                               numOfRows =  \"1000\",\n                               resultType = \"json\",\n                               serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n  \n  # 응답 상태와 내용을 확인한다\n  # print(status_code(response))\n  \n  response_list &lt;- content(response, \"text\") |&gt; \n    fromJSON()\n  \n  response_tbl &lt;- response_list$getCommonSggCodeList$item\n  \n  return(response_tbl |&gt; as_tibble())\n}\n\n# get_precinct(\"20220309\")\n\nlegislator_tbl &lt;- legislator_raw |&gt; \n  mutate(data = map2(선거코드, 선거구분, get_precinct))\n\nlegislator_tbl |&gt; \n  write_rds(\"data/legislator_precinct_tbl.rds\")\n\n\n\n\n코드library(tidyverse)\nlibrary(httr)\nlibrary(jsonlite)\n\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getVoteSttusInfoInqire\",\n                query = list(sgId = \"20200415\",\n                             sgTypecode = \"7\",\n                             sdName = \"서울특별시\",\n                             wiwName = \"종로구\",\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getVoteSttusInfoInqire$item\n\nresponse_tbl\n\n\n\n\n코드# 국회의원 선거구\nlegislator_precinct_tbl &lt;- \n  read_rds(\"data/legislator_precinct_tbl.rds\")\n\n# legislator_precinct_tbl |&gt; \n#   unnest(data)\n\nget_wiw_cast &lt;- function(sgId = \"20200415\", \n                         sdName = \"서울특별시\", wiwName = \"종로구\") {\n  \n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거코드: \", sgId, \"\\n\")\n  cat(\" 시도명: \", sdName, \"\\n\")\n  cat(\" 구시군명: \", wiwName, \"\\n\")\n  cat(\"---------------------------------------------\\n\")\n  \n  response &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getVoteSttusInfoInqire\",\n                query = list(sgId = sgId,\n                             sgTypecode = \"7\",\n                             sdName = sdName,\n                             wiwName = wiwName,\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n  # 응답 상태와 내용을 확인한다\n  # print(status_code(response))\n\n  response_list &lt;- content(response, \"text\") |&gt;\n    fromJSON()\n\n  response_tbl &lt;- response_list$getVoteSttusInfoInqire$item\n\n  response_tbl\n}\n\n# get_wiw_cast()\n\nget_wiw_cast_tbl &lt;- function(sgId = \"20200415\") {\n  \nlegislator_precinct_tbl |&gt; \n  filter(선거구분 != \"7\") |&gt; \n  dplyr::filter(선거코드 == sgId) |&gt; \n  unnest(data) |&gt; \n  # filter(str_detect(sdName, \"제주\")) |&gt; \n  mutate(data = pmap( list(sgId, sdName, wiwName), get_wiw_cast))\n}\n\n# get_wiw_cast_tbl(sgId =\"20200415\")\n\n# legislator_precinct_cast_tbl &lt;- legislator_precinct_tbl |&gt; \n#   filter(선거구분 == \"2\") |&gt; \n#   mutate(cast_data = map(선거코드, get_wiw_cast_tbl))\n\nlegislator_election_code &lt;- legislator_precinct_tbl |&gt;\n  filter(선거구분 == \"2\") |&gt; \n  pull(선거코드)\n\nfor(i in seq_along(legislator_election_code)) {\n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거코드: \", legislator_election_code[i], \"\\n\")\n  \n  get_wiw_cast_tbl(legislator_election_code[i]) |&gt;\n    write_rds(str_glue(\"data/legislator_precinct_cast_{legislator_election_code[i]}.rds\"))\n}\n\n\n\n\n코드data_filenames &lt;- fs::dir_ls(\"data\")\n\ndata_precinct_filenames &lt;- data_filenames[str_detect(data_filenames, \"data/legislator_precinct_cast_*\")]\n\nlegislator_cast_tbl &lt;- data_precinct_filenames |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, read_rds)) |&gt; \n  select(data) |&gt; \n  unnest(data)\n\n# 총선 투표율 데이터\nlegislator_cast_tbl |&gt; \n  write_rds(\"data/legislator_cast_tbl.rds\")\n\n\n\n\n\n코드library(tidyverse)\nlibrary(httr)\nlibrary(jsonlite)\n\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getXmntckSttusInfoInqire\",\n                query = list(sgId = \"20200415\",\n                             sgTypecode = \"7\",\n                             sdName = \"서울특별시\",\n                             wiwName = \"종로구\",\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getXmntckSttusInfoInqire$item\n\nresponse_tbl\n\n\n\n\n\n코드# 국회의원 선거구\nlegislator_precinct_tbl &lt;- \n  read_rds(\"data/legislator_precinct_tbl.rds\")\n\nlegislator_precinct_tbl |&gt;\n  filter(선거코드 == \"20220309\") |&gt; \n  unnest(data)\n\nget_precinct_vote &lt;- function(sgId = \"20200415\", \n                              sgTypecode = \"2\",\n                              sdName = \"서울특별시\", sggName = \"종로구\") {\n  \n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거ID: \", sgId, \"\\n\")\n  cat(\" 선거종류코드: \", sgTypecode, \"\\n\")\n  cat(\" 시도명: \", sdName, \"\\n\")\n  cat(\" 구시군명: \", sggName, \"\\n\")\n  cat(\"---------------------------------------------\\n\")\n  \n  response &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getXmntckSttusInfoInqire\",\n                query = list(sgId = sgId,\n                             sgTypecode = sgTypecode,\n                             sdName = sdName,\n                             sggName = sggName,\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n  # 응답 상태와 내용을 확인한다\n  # print(status_code(response))\n\n  response_list &lt;- content(response, \"text\") |&gt;\n    fromJSON()\n\n  response_tbl &lt;- response_list$getXmntckSttusInfoInqire$item\n\n  response_tbl\n}\n\nget_precinct_vote()\n\n\n\n\n코드get_precinct_vote_tbl &lt;- function(sgId = \"20200415\") {\n  \n  legislator_precinct_tbl |&gt; \n    dplyr::filter(선거코드 == sgId) |&gt; \n    dplyr::filter(선거구분 == \"2\") |&gt;   # 지역구만 선정\n    unnest(data) |&gt; \n    # filter(str_detect(sdName, \"제주\")) |&gt; \n    mutate(data = pmap( list(sgId, sgTypecode, sdName, sggName), get_precinct_vote))\n}\n\nvote_tbl &lt;- get_precinct_vote_tbl()\n\nvote_tbl\n\n\n\n\n코드legislator_election_code &lt;- legislator_precinct_tbl |&gt;\n  filter(선거구분 == \"2\") |&gt; \n  mutate(선거구수 = map_int(data, nrow)) |&gt; # 재보궐 제거\n  filter(선거구수 &gt; 100) |&gt; \n  pull(선거코드)\n\nfor(i in seq_along(legislator_election_code)) {\n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거코드: \", legislator_election_code[i], \"\\n\")\n  \n  get_precinct_vote_tbl(legislator_election_code[i]) |&gt;\n    write_rds(str_glue(\"data/legislator_precinct_vote_{legislator_election_code[i]}.rds\"))\n}\n\nsafely(get_precinct_vote_tbl(legislator_election_code[4])) |&gt;\n  write_rds(str_glue(\"data/legislator_precinct_vote_{legislator_election_code[4]}.rds\"))\n\n\n\n코드response &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getXmntckSttusInfoInqire\",\n                query = list(sgId = \"20160413\",\n                             sgTypecode = \"2\",\n                             sdName = \"경상남도\",\n                             wiwName = \"통영시고성군\",\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getXmntckSttusInfoInqire$item\n\nresponse_tbl"
  },
  {
    "objectID": "nec_api.html#투표-데이터",
    "href": "nec_api.html#투표-데이터",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드code_election &lt;- krvote::code_election\n\nnames(code_election) &lt;- c(\"선거코드\", \"선거명\", \"선거구분\")\n\nlegislator_code &lt;- code_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\")) |&gt; \n  pull(선거코드) |&gt; \n  unique()\n\nlegislator_code\n\n\n\n\n코드legislator_raw &lt;- code_election |&gt; \n  dplyr::filter(str_detect(선거명, \"국회의원\"),\n         선거구분 != \"0\") \n\nget_precinct &lt;- function(legislator_cd = \"20200415\", sgTypecode = \"2\") {\n  \n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거코드: \", legislator_cd)\n  cat(\"\\n---------------------------------------------\\n\")\n  \n  # httr의 GET 함수로 데이터를 추출한다\n  response &lt;- GET(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSggCodeList\",\n                  query = list(sgId = legislator_cd,\n                               sgTypecode = sgTypecode,\n                               numOfRows =  \"1000\",\n                               resultType = \"json\",\n                               serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n  \n  # 응답 상태와 내용을 확인한다\n  # print(status_code(response))\n  \n  response_list &lt;- content(response, \"text\") |&gt; \n    fromJSON()\n  \n  response_tbl &lt;- response_list$getCommonSggCodeList$item\n  \n  return(response_tbl |&gt; as_tibble())\n}\n\n# get_precinct(\"20220309\")\n\nlegislator_tbl &lt;- legislator_raw |&gt; \n  mutate(data = map2(선거코드, 선거구분, get_precinct))\n\nlegislator_tbl |&gt; \n  write_rds(\"data/legislator_precinct_tbl.rds\")\n\n\n\n\n코드library(tidyverse)\nlibrary(httr)\nlibrary(jsonlite)\n\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getVoteSttusInfoInqire\",\n                query = list(sgId = \"20200415\",\n                             sgTypecode = \"7\",\n                             sdName = \"서울특별시\",\n                             wiwName = \"종로구\",\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getVoteSttusInfoInqire$item\n\nresponse_tbl\n\n\n\n\n코드# 국회의원 선거구\nlegislator_precinct_tbl &lt;- \n  read_rds(\"data/legislator_precinct_tbl.rds\")\n\n# legislator_precinct_tbl |&gt; \n#   unnest(data)\n\nget_wiw_cast &lt;- function(sgId = \"20200415\", \n                         sdName = \"서울특별시\", wiwName = \"종로구\") {\n  \n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거코드: \", sgId, \"\\n\")\n  cat(\" 시도명: \", sdName, \"\\n\")\n  cat(\" 구시군명: \", wiwName, \"\\n\")\n  cat(\"---------------------------------------------\\n\")\n  \n  response &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getVoteSttusInfoInqire\",\n                query = list(sgId = sgId,\n                             sgTypecode = \"7\",\n                             sdName = sdName,\n                             wiwName = wiwName,\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n  # 응답 상태와 내용을 확인한다\n  # print(status_code(response))\n\n  response_list &lt;- content(response, \"text\") |&gt;\n    fromJSON()\n\n  response_tbl &lt;- response_list$getVoteSttusInfoInqire$item\n\n  response_tbl\n}\n\n# get_wiw_cast()\n\nget_wiw_cast_tbl &lt;- function(sgId = \"20200415\") {\n  \nlegislator_precinct_tbl |&gt; \n  filter(선거구분 != \"7\") |&gt; \n  dplyr::filter(선거코드 == sgId) |&gt; \n  unnest(data) |&gt; \n  # filter(str_detect(sdName, \"제주\")) |&gt; \n  mutate(data = pmap( list(sgId, sdName, wiwName), get_wiw_cast))\n}\n\n# get_wiw_cast_tbl(sgId =\"20200415\")\n\n# legislator_precinct_cast_tbl &lt;- legislator_precinct_tbl |&gt; \n#   filter(선거구분 == \"2\") |&gt; \n#   mutate(cast_data = map(선거코드, get_wiw_cast_tbl))\n\nlegislator_election_code &lt;- legislator_precinct_tbl |&gt;\n  filter(선거구분 == \"2\") |&gt; \n  pull(선거코드)\n\nfor(i in seq_along(legislator_election_code)) {\n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거코드: \", legislator_election_code[i], \"\\n\")\n  \n  get_wiw_cast_tbl(legislator_election_code[i]) |&gt;\n    write_rds(str_glue(\"data/legislator_precinct_cast_{legislator_election_code[i]}.rds\"))\n}\n\n\n\n\n코드data_filenames &lt;- fs::dir_ls(\"data\")\n\ndata_precinct_filenames &lt;- data_filenames[str_detect(data_filenames, \"data/legislator_precinct_cast_*\")]\n\nlegislator_cast_tbl &lt;- data_precinct_filenames |&gt; \n  enframe() |&gt; \n  mutate(data = map(value, read_rds)) |&gt; \n  select(data) |&gt; \n  unnest(data)\n\n# 총선 투표율 데이터\nlegislator_cast_tbl |&gt; \n  write_rds(\"data/legislator_cast_tbl.rds\")"
  },
  {
    "objectID": "single_member.html",
    "href": "single_member.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\n\n## 당선인 데이터\ntotal_elected_all &lt;- \n  read_rds(\"data/total_elected_all.rds\")\n\nchosun_tbl &lt;- total_elected_all |&gt; \n  filter(sgId == \"20200415\") |&gt; \n  select(result) |&gt; \n  unnest(result)"
  },
  {
    "objectID": "single_member.html#제21대-총선",
    "href": "single_member.html#제21대-총선",
    "title": "지도제작 대회",
    "section": "\n2.1 제21대 총선",
    "text": "2.1 제21대 총선\n\n코드chosun_tbl |&gt;\n  filter(sgTypecode == \"2\") |&gt; \n  group_by(jdName) |&gt; \n  mutate(across(dugsu:dugyul, as.numeric)) |&gt; \n  mutate(투표수 = dugsu/(dugyul/100)) |&gt;\n  select(sgId, sggName, jdName, dugsu, dugyul, 투표수) |&gt; \n  summarise(당선자수 = n(),\n            총득표수 = sum(dugsu),\n            총투표수 = sum(투표수)) |&gt; \n  mutate(총득표율 = 총득표수 / sum(총투표수),\n         당선자비율 = 당선자수 / sum(당선자수)) |&gt; \n  relocate(당선자비율, .after = 당선자수)\n#&gt; # A tibble: 4 × 6\n#&gt;   jdName       당선자수 당선자비율 총득표수  총투표수 총득표율\n#&gt;   &lt;chr&gt;           &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n#&gt; 1 더불어민주당      163    0.644   10528543 18489574.  0.366  \n#&gt; 2 무소속              5    0.0198    228367   542409.  0.00794\n#&gt; 3 미래통합당         84    0.332    5360550  9568298.  0.186  \n#&gt; 4 정의당              1    0.00395    56516   143514.  0.00197"
  },
  {
    "objectID": "single_member.html#총선-함수",
    "href": "single_member.html#총선-함수",
    "title": "지도제작 대회",
    "section": "\n2.2 총선 함수",
    "text": "2.2 총선 함수\n\n코드calc_pcnt &lt;- function(sgId_val = \"20200415\") {\n  \n  chongsun_tbl &lt;- total_elected_all |&gt; \n    filter(sgId == sgId_val,\n           sgTypecode == \"2\") |&gt;\n    select(result) |&gt; \n    unnest(result)\n  \n  chongsun_tbl |&gt;\n    group_by(jdName) |&gt;\n    mutate(across(dugsu:dugyul, as.numeric)) |&gt;\n    mutate(투표수 = dugsu/(dugyul/100)) |&gt;\n    summarise(당선자수 = n(),\n              총득표수 = sum(dugsu, na.rm = TRUE),\n              총투표수 = sum(투표수, na.rm = TRUE)) |&gt; \n    mutate(총득표율 = 총득표수 / sum(총투표수, na.rm = TRUE),\n           당선자비율 = 당선자수 / sum(당선자수, na.rm = TRUE)) |&gt; \n    relocate(당선자비율, .after = 당선자수)\n}\n\ncalc_pcnt(\"20160413\")\n#&gt; # A tibble: 5 × 6\n#&gt;   jdName       당선자수 당선자비율 총득표수  총투표수 총득표율\n#&gt;   &lt;chr&gt;           &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n#&gt; 1 국민의당           25    0.0988   1181715  2359827.  0.0492 \n#&gt; 2 더불어민주당      110    0.435    5059991 10656043.  0.211  \n#&gt; 3 무소속             11    0.0435    521726  1080669.  0.0217 \n#&gt; 4 새누리당          105    0.415    4864607  9654014.  0.203  \n#&gt; 5 정의당              2    0.00791   132940   254308.  0.00554"
  },
  {
    "objectID": "single_member.html#전체결과",
    "href": "single_member.html#전체결과",
    "title": "지도제작 대회",
    "section": "\n2.3 전체결과",
    "text": "2.3 전체결과\n\n코드two_party_tbl &lt;- total_elected_all |&gt; \n  count(sgId, name = \"당선인수\") |&gt; \n  filter(당선인수 &gt; 200) |&gt; \n  mutate(data = map(sgId, calc_pcnt)) |&gt; \n  unnest(data) |&gt; \n  mutate(정당 = case_when(jdName %in% c(\"한나라당\", \"새누리당\", \"자유한국당\",\n                                        \"미래통합당\", \"국민의힘\") ~ \"국민의힘\",\n                            jdName %in% c(\"새정치국민회의\", \"열린우리당\", \"통합민주당\",\n                                        \"민주통합당\", \"더불어민주당\") ~ \"민주당\",\n                            TRUE ~ \"그외정당\"))  |&gt; \n  mutate(양당 = ifelse(정당 %in% c(\"국민의힘\", \"민주당\"), \"양당\", \"그외정당\")) |&gt; \n  group_by(sgId, 양당) |&gt; \n  summarise(당선인수 = sum(당선자수),\n            총투표수 = sum(총투표수),\n            총득표수 = sum(총득표수)) |&gt;  \n  mutate(당선비율 = 당선인수 / sum(당선인수),\n         총투표율 = 총투표수 / sum(총투표수),\n         총득표율 = 총득표수 / sum(총투표수)) |&gt; \n  ungroup()\n\ntwo_party_tbl\n#&gt; # A tibble: 10 × 8\n#&gt;    sgId     양당     당선인수  총투표수 총득표수 당선비율 총투표율 총득표율\n#&gt;    &lt;chr&gt;    &lt;chr&gt;       &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n#&gt;  1 20040415 그외정당       14  1020766.   515345   0.0576   0.0478  0.0242 \n#&gt;  2 20040415 양당          229 20312140. 10185569   0.942    0.952   0.477  \n#&gt;  3 20080409 그외정당       48  3510747.  1731383   0.196    0.204   0.101  \n#&gt;  4 20080409 양당          197 13703486.  7397139   0.804    0.796   0.430  \n#&gt;  5 20120411 그외정당       13  1150327.   528422   0.0528   0.0534  0.0245 \n#&gt;  6 20120411 양당          233 20397842. 10912333   0.947    0.947   0.506  \n#&gt;  7 20160413 그외정당       38  3694803.  1836381   0.150    0.154   0.0765 \n#&gt;  8 20160413 양당          215 20310057.  9924598   0.850    0.846   0.413  \n#&gt;  9 20200415 그외정당        6   685923.   284883   0.0237   0.0239  0.00991\n#&gt; 10 20200415 양당          247 28057872. 15889093   0.976    0.976   0.553\n\n\n\n코드minju_power_tbl &lt;- total_elected_all |&gt; \n  count(sgId, name = \"당선인수\") |&gt; \n  filter(당선인수 &gt; 200) |&gt; \n  mutate(data = map(sgId, calc_pcnt)) |&gt; \n  unnest(data) |&gt; \n  mutate(정당 = case_when(jdName %in% c(\"한나라당\", \"새누리당\", \"자유한국당\",\n                                        \"미래통합당\", \"국민의힘\") ~ \"국민의힘\",\n                            jdName %in% c(\"새정치국민회의\", \"열린우리당\", \"통합민주당\",\n                                        \"민주통합당\", \"더불어민주당\") ~ \"민주당\",\n                            TRUE ~ \"그외정당\"))  |&gt; \n  group_by(sgId, 정당) |&gt; \n  summarise(당선인수 = sum(당선자수),\n            총투표수 = sum(총투표수),\n            총득표수 = sum(총득표수)) |&gt;  \n  mutate(당선비율 = 당선인수 / sum(당선인수),\n         총투표율 = 총투표수 / sum(총투표수),\n         총득표율 = 총득표수 / sum(총투표수)) |&gt; \n  ungroup()\n\nminju_power_tbl\n#&gt; # A tibble: 15 × 8\n#&gt;    sgId     정당     당선인수  총투표수 총득표수 당선비율 총투표율 총득표율\n#&gt;    &lt;chr&gt;    &lt;chr&gt;       &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n#&gt;  1 20040415 국민의힘      100  9060542.  4711716   0.412    0.425   0.221  \n#&gt;  2 20040415 그외정당       14  1020766.   515345   0.0576   0.0478  0.0242 \n#&gt;  3 20040415 민주당        129 11251598.  5473853   0.531    0.527   0.257  \n#&gt;  4 20080409 국민의힘      131  9395402.  5116931   0.535    0.546   0.297  \n#&gt;  5 20080409 그외정당       48  3510747.  1731383   0.196    0.204   0.101  \n#&gt;  6 20080409 민주당         66  4308084.  2280208   0.269    0.250   0.132  \n#&gt;  7 20120411 국민의힘      127 11170801.  5996207   0.516    0.518   0.278  \n#&gt;  8 20120411 그외정당       13  1150327.   528422   0.0528   0.0534  0.0245 \n#&gt;  9 20120411 민주당        106  9227042.  4916126   0.431    0.428   0.228  \n#&gt; 10 20160413 국민의힘      105  9654014.  4864607   0.415    0.402   0.203  \n#&gt; 11 20160413 그외정당       38  3694803.  1836381   0.150    0.154   0.0765 \n#&gt; 12 20160413 민주당        110 10656043.  5059991   0.435    0.444   0.211  \n#&gt; 13 20200415 국민의힘       84  9568298.  5360550   0.332    0.333   0.186  \n#&gt; 14 20200415 그외정당        6   685923.   284883   0.0237   0.0239  0.00991\n#&gt; 15 20200415 민주당        163 18489574. 10528543   0.644    0.643   0.366"
  },
  {
    "objectID": "single_member.html#당선인",
    "href": "single_member.html#당선인",
    "title": "지도제작 대회",
    "section": "\n3.1 당선인",
    "text": "3.1 당선인\n\n코드two_party_tbl |&gt; \n  ggplot(aes(x = sgId, y = 당선인수 , color = 양당, group = 양당 )) +\n    geom_line() +\n    geom_point()\n\n\n\n\n\n\n코드\ntwo_party_tbl |&gt; \n  ggplot(aes(x = 총득표율, y = 당선비율 , color = 양당, group = 양당 )) +\n    geom_line() +\n    geom_point()"
  },
  {
    "objectID": "single_member.html#통합",
    "href": "single_member.html#통합",
    "title": "지도제작 대회",
    "section": "\n3.1 통합",
    "text": "3.1 통합\n\n코드library(ggrepel)\n\nsgId_tbl &lt;- tribble(~\"sgId\", ~\"sgName\",\n\"20040415\", \"제17대\",\n\"20080409\", \"제18대\",\n\"20120411\", \"제19대\",\n\"20160413\", \"제20대\",\n\"20200415\", \"제21대\")\n\ntwo_party_tbl |&gt; \n  left_join(sgId_tbl) |&gt; \n  filter(양당 == \"양당\") |&gt;\n  ggplot(aes(x = 총득표율, y = 당선비율 , color = 양당, group = 양당 )) +\n    geom_line() +\n    geom_point() +\n    scale_x_continuous(labels = scales::percent, limits = c(0,1)) +\n    scale_y_continuous(labels = scales::percent, limits = c(0,1)) + \n    coord_fixed(ratio = 1) +\n    geom_text_repel(aes(label = sgName), nudge_x = 0.03, nudge_y = 0.00, force = 1.5, color = \"gray35\") +\n    theme_korean() +\n    theme(legend.position = \"none\") +\n    labs(title = \"양당 총득표율과 당선비율\",\n         caption = \"출처: 중앙선거관리위원회 당선인 API\") +\n    scale_color_manual(values = c(\"black\"))"
  },
  {
    "objectID": "single_member.html#민주-vs-국힘",
    "href": "single_member.html#민주-vs-국힘",
    "title": "지도제작 대회",
    "section": "\n3.2 민주 vs 국힘",
    "text": "3.2 민주 vs 국힘\n\n코드minju_power_tbl &lt;- total_elected_all |&gt; \n  count(sgId, name = \"당선인수\") |&gt; \n  filter(당선인수 &gt; 200) |&gt; \n  mutate(data = map(sgId, calc_pcnt)) |&gt; \n  unnest(data) |&gt; \n  mutate(정당 = case_when(jdName %in% c(\"한나라당\", \"새누리당\", \"자유한국당\",\n                                        \"미래통합당\", \"국민의힘\") ~ \"국민의힘\",\n                            jdName %in% c(\"새정치국민회의\", \"열린우리당\", \"통합민주당\",\n                                        \"민주통합당\", \"더불어민주당\") ~ \"민주당\",\n                            TRUE ~ \"그외정당\"))  |&gt; \n  group_by(sgId, 정당) |&gt; \n  summarise(당선인수 = sum(당선자수),\n            총투표수 = sum(총투표수),\n            총득표수 = sum(총득표수)) |&gt;  \n  mutate(당선비율 = 당선인수 / sum(당선인수),\n         총투표율 = 총투표수 / sum(총투표수),\n         총득표율 = 총득표수 / sum(총투표수)) |&gt; \n  ungroup()\n\nminju_power_tbl\n#&gt; # A tibble: 15 × 8\n#&gt;    sgId     정당     당선인수  총투표수 총득표수 당선비율 총투표율 총득표율\n#&gt;    &lt;chr&gt;    &lt;chr&gt;       &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;\n#&gt;  1 20040415 국민의힘      100  9060542.  4711716   0.412    0.425   0.221  \n#&gt;  2 20040415 그외정당       14  1020766.   515345   0.0576   0.0478  0.0242 \n#&gt;  3 20040415 민주당        129 11251598.  5473853   0.531    0.527   0.257  \n#&gt;  4 20080409 국민의힘      131  9395402.  5116931   0.535    0.546   0.297  \n#&gt;  5 20080409 그외정당       48  3510747.  1731383   0.196    0.204   0.101  \n#&gt;  6 20080409 민주당         66  4308084.  2280208   0.269    0.250   0.132  \n#&gt;  7 20120411 국민의힘      127 11170801.  5996207   0.516    0.518   0.278  \n#&gt;  8 20120411 그외정당       13  1150327.   528422   0.0528   0.0534  0.0245 \n#&gt;  9 20120411 민주당        106  9227042.  4916126   0.431    0.428   0.228  \n#&gt; 10 20160413 국민의힘      105  9654014.  4864607   0.415    0.402   0.203  \n#&gt; 11 20160413 그외정당       38  3694803.  1836381   0.150    0.154   0.0765 \n#&gt; 12 20160413 민주당        110 10656043.  5059991   0.435    0.444   0.211  \n#&gt; 13 20200415 국민의힘       84  9568298.  5360550   0.332    0.333   0.186  \n#&gt; 14 20200415 그외정당        6   685923.   284883   0.0237   0.0239  0.00991\n#&gt; 15 20200415 민주당        163 18489574. 10528543   0.644    0.643   0.366\n\n\nminju_power_tbl |&gt; \n  left_join(sgId_tbl) |&gt; \n  # filter(정당 != \"그외정당\") |&gt;\n  mutate(정당 = factor(정당, levels = c(\"민주당\", \"국민의힘\", \"그외정당\"))) |&gt; \n  ggplot(aes(x = 총득표율, y = 당선비율 , color = 정당, group = 정당 )) +\n    geom_line() +\n    geom_point() +\n    scale_x_continuous(labels = scales::percent, limits = c(0,1)) +\n    scale_y_continuous(labels = scales::percent, limits = c(0,1)) + \n    coord_fixed(ratio = 1) +\n    geom_text_repel(aes(label = sgName), nudge_x = 0.03, nudge_y = 0.00, force = 1.5, color = \"gray35\") +\n    theme_korean() +\n    theme(legend.position = \"top\") +\n    labs(title = \"양당 총득표율과 당선비율\",\n         caption = \"출처: 중앙선거관리위원회 당선인 API\") +\n    scale_color_manual(values = c(\"국민의힘\" = \"red\", \"민주당\" = \"blue\", \"그외정당\" = \"black\")) +\n    geom_abline(slope = 1, intercept = 0, linetype = 2, color = \"gray30\")"
  },
  {
    "objectID": "single_member.html#막대그래프",
    "href": "single_member.html#막대그래프",
    "title": "지도제작 대회",
    "section": "\n3.3 막대그래프",
    "text": "3.3 막대그래프\n\n3.3.1 양당 당선자\n\n코드single_member_gg &lt;- two_party_tbl |&gt; \n  select(sgId, 양당, 당선인수) |&gt; \n  pivot_wider(names_from = 양당, values_from = 당선인수) |&gt; \n  mutate(선거인수 = 양당 + 그외정당) |&gt; \n  select(-그외정당) |&gt; \n  pivot_longer(양당:선거인수, names_to = \"구분\", values_to = \"정수\") |&gt;\n  mutate(구분 = ifelse(구분 == \"양당\", \"민주+국힘\", \"선거정수\")) |&gt; \n  mutate(구분 = factor(구분, levels = c(\"민주+국힘\", \"선거정수\"))) |&gt;\n  left_join(sgId_tbl) |&gt;\n  ggplot(aes(x =  sgName, y = 정수, fill = 구분, width = ifelse(구분 == \"민주+국힘\", 0.3, 0.5))) +\n    geom_col(data = . %&gt;% filter(구분 == \"선거정수\"), alpha = 0.9) +\n    geom_col(data = . %&gt;% filter(구분 == \"민주+국힘\"), alpha = 0.9) +\n    scale_fill_manual(values = c(\"선거정수\" = \"gray77\", \"민주+국힘\" = \"darkblue\")) +\n    theme_korean() +\n    theme(legend.position = \"top\") +\n    labs(x = \"\",\n         y = \"선거정수 및 양당 당선자수\",\n         title = \"역대 국회의원 선거 선거정수와 양당 당선자수\") +\n    geom_text(data = two_party_tbl |&gt; filter(양당 == \"양당\") |&gt; \n                    left_join(sgId_tbl) |&gt; \n                    mutate(구분 = \"총득표수\"),\n                    aes(x = sgName, y = 당선인수, \n                        label = scales::percent(당선비율, accuracy = 0.1)), \n              vjust = -0.5, size = 6, family = \"NanumSquare\", fontface = \"bold\") +\n    scale_y_continuous(limits = c(0, 260))\n\nragg::agg_jpeg(\"images/single_member_gg.jpeg\",\n               width = 10, height = 7, units = \"in\", res = 600)\nsingle_member_gg\ndev.off()\n\n\n\n\n\n\n\n3.3.2 투표자 반영\n\n코드total_cast_tbl &lt;- two_party_tbl |&gt; \n  group_by(sgId) |&gt; \n  summarise(총투표수 = sum(총투표수))\n\nsingle_cast_gg &lt;- two_party_tbl |&gt;\n  filter(양당 == \"양당\") |&gt; \n  select(sgId, 총득표수) |&gt; \n  left_join(total_cast_tbl) |&gt; \n  pivot_longer(총득표수:총투표수, names_to = \"구분\", values_to = \"사람수\") |&gt;\n  left_join(sgId_tbl) |&gt;\n  ggplot(aes(x =  sgName, y = 사람수, fill = 구분, width = ifelse(구분 == \"총득표수\", 0.3, 0.5))) +\n    geom_col(data = . %&gt;% filter(구분 == \"총투표수\"), alpha = 0.9) +\n    geom_col(data = . %&gt;% filter(구분 == \"총득표수\"), alpha = 0.9) +\n    scale_fill_manual(values = c(\"총투표수\" = \"gray77\", \"총득표수\" = \"darkblue\")) +\n    theme_korean() +\n    theme(legend.position = \"top\") +\n    labs(x = \"\",\n         y = \"투표수 및 당선자 득표수\",\n         title = \"역대 국회의원 선거 총투표수와 양당 당선 득표수\") +\n    scale_y_continuous(labels = \\(x) paste0( scales::comma(x / 10000), \"만\")) +\n    geom_text(data = two_party_tbl |&gt; filter(양당 == \"양당\") |&gt; \n                    left_join(sgId_tbl) |&gt; \n                    mutate(구분 = \"총득표수\") |&gt; \n                    mutate(양당득표율 = 총득표수 / 총투표수),\n                    aes(x = sgName, y = 총득표수, \n                        label = scales::percent(양당득표율, accuracy = 0.1)), \n              vjust = -0.5, size = 6, family = \"NanumSquare\", fontface = \"bold\") \n\nragg::agg_jpeg(\"images/single_cast_gg.jpeg\",\n               width = 10, height = 7, units = \"in\", res = 600)\nsingle_cast_gg\ndev.off()"
  },
  {
    "objectID": "nec_api.html#득표-데이터",
    "href": "nec_api.html#득표-데이터",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(httr)\nlibrary(jsonlite)\n\nresponse &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getXmntckSttusInfoInqire\",\n                query = list(sgId = \"20200415\",\n                             sgTypecode = \"7\",\n                             sdName = \"서울특별시\",\n                             wiwName = \"종로구\",\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getXmntckSttusInfoInqire$item\n\nresponse_tbl\n\n\n\n\n\n코드# 국회의원 선거구\nlegislator_precinct_tbl &lt;- \n  read_rds(\"data/legislator_precinct_tbl.rds\")\n\nlegislator_precinct_tbl |&gt;\n  filter(선거코드 == \"20220309\") |&gt; \n  unnest(data)\n\nget_precinct_vote &lt;- function(sgId = \"20200415\", \n                              sgTypecode = \"2\",\n                              sdName = \"서울특별시\", sggName = \"종로구\") {\n  \n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거ID: \", sgId, \"\\n\")\n  cat(\" 선거종류코드: \", sgTypecode, \"\\n\")\n  cat(\" 시도명: \", sdName, \"\\n\")\n  cat(\" 구시군명: \", sggName, \"\\n\")\n  cat(\"---------------------------------------------\\n\")\n  \n  response &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getXmntckSttusInfoInqire\",\n                query = list(sgId = sgId,\n                             sgTypecode = sgTypecode,\n                             sdName = sdName,\n                             sggName = sggName,\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n  # 응답 상태와 내용을 확인한다\n  # print(status_code(response))\n\n  response_list &lt;- content(response, \"text\") |&gt;\n    fromJSON()\n\n  response_tbl &lt;- response_list$getXmntckSttusInfoInqire$item\n\n  response_tbl\n}\n\nget_precinct_vote()\n\n\n\n\n코드get_precinct_vote_tbl &lt;- function(sgId = \"20200415\") {\n  \n  legislator_precinct_tbl |&gt; \n    dplyr::filter(선거코드 == sgId) |&gt; \n    dplyr::filter(선거구분 == \"2\") |&gt;   # 지역구만 선정\n    unnest(data) |&gt; \n    # filter(str_detect(sdName, \"제주\")) |&gt; \n    mutate(data = pmap( list(sgId, sgTypecode, sdName, sggName), get_precinct_vote))\n}\n\nvote_tbl &lt;- get_precinct_vote_tbl()\n\nvote_tbl\n\n\n\n\n코드legislator_election_code &lt;- legislator_precinct_tbl |&gt;\n  filter(선거구분 == \"2\") |&gt; \n  mutate(선거구수 = map_int(data, nrow)) |&gt; # 재보궐 제거\n  filter(선거구수 &gt; 100) |&gt; \n  pull(선거코드)\n\nfor(i in seq_along(legislator_election_code)) {\n  cat(\"\\n---------------------------------------------\\n\")\n  cat(\" 선거코드: \", legislator_election_code[i], \"\\n\")\n  \n  get_precinct_vote_tbl(legislator_election_code[i]) |&gt;\n    write_rds(str_glue(\"data/legislator_precinct_vote_{legislator_election_code[i]}.rds\"))\n}\n\nsafely(get_precinct_vote_tbl(legislator_election_code[4])) |&gt;\n  write_rds(str_glue(\"data/legislator_precinct_vote_{legislator_election_code[4]}.rds\"))\n\n\n\n코드response &lt;- GET(\"http://apis.data.go.kr/9760000/VoteXmntckInfoInqireService2/getXmntckSttusInfoInqire\",\n                query = list(sgId = \"20160413\",\n                             sgTypecode = \"2\",\n                             sdName = \"경상남도\",\n                             wiwName = \"통영시고성군\",\n                             pageNo = \"1\",\n                             numOfRows = \"100\",\n                             resultType = \"json\",\n                             serviceKey = Sys.getenv('DATA_GO_DECODE_KEY')))\n\n# 응답 상태와 내용을 확인한다\nprint(status_code(response))\n\nresponse_list &lt;- content(response, \"text\") |&gt; \n  fromJSON()\n\nresponse_tbl &lt;- response_list$getXmntckSttusInfoInqire$item\n\nresponse_tbl"
  },
  {
    "objectID": "single_member.html#데이터",
    "href": "single_member.html#데이터",
    "title": "지도제작 대회",
    "section": "\n4.1 데이터",
    "text": "4.1 데이터\n\n코드chongsun_tbl &lt;- total_elected_all |&gt; \n  filter(sgId == \"20200415\",\n         sgTypecode == \"2\") |&gt; \n  select(result) |&gt; \n  unnest(result)\n\nsido_tbl &lt;- chongsun_tbl |&gt;\n  group_by(sdName, jdName) |&gt;\n  mutate(across(dugsu:dugyul, as.numeric)) |&gt;\n  mutate(투표수 = dugsu/(dugyul/100)) |&gt;\n  summarise(당선자수 = n(),\n            총득표수 = sum(dugsu, na.rm = TRUE),\n            총투표수 = sum(투표수, na.rm = TRUE)) |&gt; \n  mutate(총득표율 = 총득표수 / sum(총투표수, na.rm = TRUE),\n         당선자비율 = 당선자수 / sum(당선자수, na.rm = TRUE)) |&gt; \n  relocate(당선자비율, .after = 당선자수) |&gt; \n  mutate(정당 = case_when(jdName %in% c(\"한나라당\", \"새누리당\", \"자유한국당\",\n                                        \"미래통합당\", \"국민의힘\") ~ \"국민의힘\",\n                            jdName %in% c(\"새정치국민회의\", \"열린우리당\", \"통합민주당\",\n                                        \"민주통합당\", \"더불어민주당\") ~ \"민주당\",\n                            TRUE ~ \"그외정당\"))  |&gt; \n  mutate(양당 = ifelse(정당 %in% c(\"국민의힘\", \"민주당\"), \"양당\", \"그외정당\")) |&gt; \n  group_by(sdName, 양당) |&gt; \n  summarise(당선인수 = sum(당선자수),\n            총투표수 = sum(총투표수),\n            총득표수 = sum(총득표수)) |&gt;  \n  mutate(당선비율 = 당선인수 / sum(당선인수),\n         총투표율 = 총투표수 / sum(총투표수),\n         총득표율 = 총득표수 / sum(총투표수)) |&gt; \n  ungroup()\n\nsido_cast_tbl &lt;- chongsun_tbl |&gt; \n  mutate(across(dugsu:dugyul, as.numeric)) |&gt; \n  mutate(투표수 = dugsu/(dugyul/100)) |&gt;\n  group_by(sdName) |&gt; \n  summarise(총투표수 = sum(투표수))"
  },
  {
    "objectID": "single_member.html#시각화-1",
    "href": "single_member.html#시각화-1",
    "title": "지도제작 대회",
    "section": "\n4.2 시각화",
    "text": "4.2 시각화\n\n코드single_sido_gg &lt;- sido_tbl |&gt; \n  filter(양당 == \"양당\") |&gt;\n  select(sdName, 총득표수) |&gt; \n  left_join(sido_cast_tbl) |&gt; \n  pivot_longer(총득표수:총투표수, names_to = \"구분\", values_to = \"사람수\") |&gt; \n  ggplot(aes(x = fct_reorder(sdName, 사람수), y = 사람수, fill = 구분, \n             width = ifelse(구분 == \"총득표수\", 0.3, 0.6))) +\n    geom_col(data = . %&gt;% filter(구분 == \"총투표수\")) +\n    geom_col(data = . %&gt;% filter(구분 == \"총득표수\")) +\n    scale_fill_manual(values = c(\"총투표수\" = \"gray77\", \"총득표수\" = \"darkblue\")) +\n    theme_korean() +\n    theme(legend.position = \"top\") +\n    labs(x = \"\",\n         y = \"투표수 및 당선자 득표수\",\n         title = \"제21대 국회의원 선거 시도별 투표수와 양당 당선 득표수\") +\n    coord_flip() +\n    geom_text(data = sido_tbl |&gt; filter(양당 == \"양당\") |&gt; \n                mutate(득표율 = 총득표수 / 총투표수) |&gt; \n                mutate(색상 = ifelse(득표율 &gt; 0.572, \"red\", \"blue\")) |&gt;                 \n                mutate(구분 = \"\"),\n                    aes(x = sdName, y = 총득표수, \n                        label = scales::percent(총득표율, accuracy = 0.1), \n                        color = 색상), \n              hjust = -0.2, size = 4.5, family = \"NanumSquare\", fontface = \"bold\") +\n    scale_color_identity() +\n    scale_y_continuous(labels = \\(x) paste0( scales::comma(x / 10000), \"만\"))   \n\nsingle_sido_gg\n\nragg::agg_jpeg(\"images/single_sido_gg.jpeg\",\n               width = 10, height = 7, units = \"in\", res = 600)\nsingle_sido_gg\ndev.off()"
  },
  {
    "objectID": "district_issue.html",
    "href": "district_issue.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "중앙선거관리위원회 코드정보에서 다음 정보를 API로 불러올 수 있다.\n\ngetCommonSgCodeList: 선거코드 조회\ngetCommonGusigunCodeList: 구시군코드 조회\ngetCommonSggCodeList: 선거구코드 조회\ngetCommonPartyCodeList: 정당코드 조회\ngetCommonJobCodeList: 직업코드 조회\ngetCommonEduBckgrdCodeList: 학력코드 조회\n\n\n\n코드library(tidyverse)\nlibrary(httr2)\nlibrary(httr)\n\n##---------------------------------------------------------------- ---\n##                      선거코드                                --\n##---------------------------------------------------------------- ---\n\n# 1. 선거코드 -------------------------\n## 1.1. GET 요청 -------------------------\n\ndata_portal_election_code_request &lt;-\n  glue::glue(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSgCodeList\",\n             \"?resultType=json\",\n             \"&numOfRows=1000\",\n             \"&serviceKey={Sys.getenv('PORTAL_NEC_KEY')}\")\n\n\nelection_code_list &lt;- GET(data_portal_election_code_request) %&gt;%\n  content(as = \"text\") %&gt;%\n  jsonlite::fromJSON()\n\n## 1.2. 데이터 정제 -------------------------\ncode_election &lt;- election_code_list %&gt;%\n  pluck('getCommonSgCodeList') %&gt;%\n  pluck('item') %&gt;%\n  as_tibble() %&gt;%\n  janitor::clean_names(ascii = FALSE) %&gt;%\n  select(선거코드 = sg_id, 선거명 = sg_name, 선거구분 = sg_typecode)\n\ncode_election\n#&gt; # A tibble: 101 × 3\n#&gt;    선거코드 선거명               선거구분\n#&gt;    &lt;chr&gt;    &lt;chr&gt;                &lt;chr&gt;   \n#&gt;  1 19971218 제15대 대통령선거    0       \n#&gt;  2 19971218 대통령선거           1       \n#&gt;  3 20000413 제16대 국회의원선거  0       \n#&gt;  4 20000413 국회의원선거         2       \n#&gt;  5 20000413 비례대표국회의원선거 7       \n#&gt;  6 20021219 제16대 대통령선거    0       \n#&gt;  7 20021219 대통령선거           1       \n#&gt;  8 20040415 제17대 국회의원선거  0       \n#&gt;  9 20040415 국회의원선거         2       \n#&gt; 10 20040415 비례대표국회의원선거 7       \n#&gt; # ℹ 91 more rows\n\n\n\n\n코드\nsgg_resp &lt;- GET(url = \"http://apis.data.go.kr/9760000/CommonCodeService/getCommonGusigunCodeList\", \n           query = list(             \n             resultType='json',\n             sgId='20220309',\n             sdName='서울특별시',\n             numOfRows='1000',\n             pageNo='1',\n             serviceKey=I(Sys.getenv('PORTAL_NEC_KEY'))))\n\n\nsgg_code_list &lt;- sgg_resp %&gt;%\n  content(as = \"text\") %&gt;%\n  jsonlite::fromJSON()\n\n## 1.2. 데이터 정제 -------------------------\nsgg_code &lt;- sgg_code_list %&gt;%\n  pluck('getCommonGusigunCodeList') %&gt;%\n  pluck('item') %&gt;%\n  as_tibble() %&gt;%\n  janitor::clean_names(ascii=FALSE) |&gt; \n  select(선거코드 = sg_id, 선거구명 = wiw_name, 시도명 = sd_name)"
  },
  {
    "objectID": "district_issue.html#선거코드",
    "href": "district_issue.html#선거코드",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드library(tidyverse)\nlibrary(httr2)\nlibrary(httr)\n\n##---------------------------------------------------------------- ---\n##                      선거코드                                --\n##---------------------------------------------------------------- ---\n\n# 1. 선거코드 -------------------------\n## 1.1. GET 요청 -------------------------\n\ndata_portal_election_code_request &lt;-\n  glue::glue(\"http://apis.data.go.kr/9760000/CommonCodeService/getCommonSgCodeList\",\n             \"?resultType=json\",\n             \"&numOfRows=1000\",\n             \"&serviceKey={Sys.getenv('PORTAL_NEC_KEY')}\")\n\n\nelection_code_list &lt;- GET(data_portal_election_code_request) %&gt;%\n  content(as = \"text\") %&gt;%\n  jsonlite::fromJSON()\n\n## 1.2. 데이터 정제 -------------------------\ncode_election &lt;- election_code_list %&gt;%\n  pluck('getCommonSgCodeList') %&gt;%\n  pluck('item') %&gt;%\n  as_tibble() %&gt;%\n  janitor::clean_names(ascii = FALSE) %&gt;%\n  select(선거코드 = sg_id, 선거명 = sg_name, 선거구분 = sg_typecode)\n\ncode_election\n#&gt; # A tibble: 101 × 3\n#&gt;    선거코드 선거명               선거구분\n#&gt;    &lt;chr&gt;    &lt;chr&gt;                &lt;chr&gt;   \n#&gt;  1 19971218 제15대 대통령선거    0       \n#&gt;  2 19971218 대통령선거           1       \n#&gt;  3 20000413 제16대 국회의원선거  0       \n#&gt;  4 20000413 국회의원선거         2       \n#&gt;  5 20000413 비례대표국회의원선거 7       \n#&gt;  6 20021219 제16대 대통령선거    0       \n#&gt;  7 20021219 대통령선거           1       \n#&gt;  8 20040415 제17대 국회의원선거  0       \n#&gt;  9 20040415 국회의원선거         2       \n#&gt; 10 20040415 비례대표국회의원선거 7       \n#&gt; # ℹ 91 more rows"
  },
  {
    "objectID": "district_issue.html#선거구",
    "href": "district_issue.html#선거구",
    "title": "지도제작 대회",
    "section": "",
    "text": "코드\nsgg_resp &lt;- GET(url = \"http://apis.data.go.kr/9760000/CommonCodeService/getCommonGusigunCodeList\", \n           query = list(             \n             resultType='json',\n             sgId='20220309',\n             sdName='서울특별시',\n             numOfRows='1000',\n             pageNo='1',\n             serviceKey=I(Sys.getenv('PORTAL_NEC_KEY'))))\n\n\nsgg_code_list &lt;- sgg_resp %&gt;%\n  content(as = \"text\") %&gt;%\n  jsonlite::fromJSON()\n\n## 1.2. 데이터 정제 -------------------------\nsgg_code &lt;- sgg_code_list %&gt;%\n  pluck('getCommonGusigunCodeList') %&gt;%\n  pluck('item') %&gt;%\n  as_tibble() %&gt;%\n  janitor::clean_names(ascii=FALSE) |&gt; \n  select(선거코드 = sg_id, 선거구명 = wiw_name, 시도명 = sd_name)"
  },
  {
    "objectID": "district_issue.html#제20대",
    "href": "district_issue.html#제20대",
    "title": "지도제작 대회",
    "section": "\n2.1 제20대",
    "text": "2.1 제20대\n\n코드library(ggbeeswarm)\n\nelectroate20_tbl |&gt; \nggplot(aes(x = \"\", y = 인구수)) + \n  geom_violin(trim=FALSE,fill=\"gray\") + \n  geom_boxplot(width=0.1) + \n  geom_jitter() +\n  # geom_beeswarm(method =\"compactswarm\", priority = \"density\") +\n  theme_minimal() +\n  labs(x = \"전국 선거구\",\n       y = \"선거구별 인구수\") +\n  scale_y_continuous(labels = scales::comma) +\n  geom_hline(yintercept = 209209) +\n  geom_hline(yintercept = 209209*2/3, linetype=2) +\n  geom_hline(yintercept = 209209*4/3, linetype=2)"
  },
  {
    "objectID": "district_issue.html#제21대",
    "href": "district_issue.html#제21대",
    "title": "지도제작 대회",
    "section": "\n2.2 제21대",
    "text": "2.2 제21대\n\n코드library(ggbeeswarm)\n\nelectroate21_tbl |&gt; \nggplot(aes(x = \"\", y = 인구수)) + \n  geom_violin(trim=FALSE,fill=\"gray\") + \n  geom_boxplot(width=0.1) + \n  geom_jitter() +\n  # geom_beeswarm(method =\"compactswarm\", priority = \"density\") +\n  theme_minimal() +\n  labs(x = \"전국 선거구\",\n       y = \"선거구별 인구수\") +\n  scale_y_continuous(labels = scales::comma) +\n  geom_hline(yintercept = 204847) +\n  geom_hline(yintercept = 204847*2/3, linetype=2) +\n  geom_hline(yintercept = 204847*4/3, linetype=2)"
  },
  {
    "objectID": "district_issue.html#강원도-인구수",
    "href": "district_issue.html#강원도-인구수",
    "title": "지도제작 대회",
    "section": "\n3.1 강원도 인구수",
    "text": "3.1 강원도 인구수\n\n코드library(rvest)\n\nurl &lt;- \"http://info.nec.go.kr/electioninfo/electionInfo_report.xhtml\"\n\nparams &lt;- list(\n              \"electionId\"= \"0000000000\",\n              \"requestURI\"= \"/electioninfo/0000000000/cd/cdpb02.jsp\",\n              \"topMenuId\"= \"CD\",\n              \"secondMenuId\"= \"CDPB02\",\n              \"menuId\"= \"CDPB02\",\n              \"statementId\"= \"CDPB02_#3_2_1\",\n              \"oldElectionType\"= \"1\",\n              \"electionType\"= \"2\",\n              \"electionName\"= \"20200415\",\n              \"searchType\"= \"3\",\n              \"electionCode\"= \"2\",\n              \"cityCode\"= \"4900\",\n              \"townCode\"= \"-1\",\n              \"sggCityCode\"= \"-1\",\n              \"x\"= \"48\",\n              \"y\"= \"22\")\n\nelectorate &lt;- GET(url = url,\n    query = params)\n\nelectorate_tables &lt;- electorate |&gt; \n  read_html() |&gt; \n  html_nodes('.table01') |&gt; \n  html_table()\n\nelectorate_tbl &lt;- electorate_tables[[2]] |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  filter(선거구명 != \"합계\",\n         선거구명 != \"\")  |&gt; \n  select(선거구명, 인구수 = 인구수_선거인명부작성기준일_현재,\n         성별 = 확정선거인수, 선거인수 = 확정선거인수_2) |&gt; \n  filter(성별 == \"계\") |&gt; \n  ## 인구수 --------------------------\n  separate(인구수, into = c(\"인구수\", \"재외및외국\"), sep = \"\\\\(\") |&gt; \n  separate(재외및외국, into = c(\"재외국민\", \"외국인\"), sep = \",\") |&gt; \n  mutate(인구수   = parse_number(인구수),\n         재외국민 = parse_number(재외국민),\n         외국인 = parse_number(외국인)) |&gt; \n  ## 선거인수 --------------------------\n  separate(선거인수, into = c(\"선거인수\", \"선거인_재외및외국\"), sep = \"\\\\(\") |&gt; \n  separate(선거인_재외및외국, into = c(\"선거재외국민\", \"선거외국인\"), sep = \",\") |&gt; \n  mutate(선거인수   = parse_number(선거인수),\n         선거재외국민 = parse_number(선거재외국민),\n         선거외국인 = parse_number(선거외국인))  |&gt; \n  select(-성별)\n  \nelectorate_tbl\n#&gt; # A tibble: 3 × 7\n#&gt;   선거구명 인구수 재외국민 외국인 선거인수 선거재외국민 선거외국인\n#&gt;   &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;\n#&gt; 1 제주시갑 253218      617      0   208660          578          0\n#&gt; 2 제주시을 236224      517      0   191862          471          0\n#&gt; 3 서귀포시 181386      371      0   152676          330          0"
  },
  {
    "objectID": "district_issue.html#함수",
    "href": "district_issue.html#함수",
    "title": "지도제작 대회",
    "section": "\n3.2 함수",
    "text": "3.2 함수\n\n코드\nget_electorate &lt;- function(cityCode = \"4900\") { # 제주도\n  \n  url &lt;- \"http://info.nec.go.kr/electioninfo/electionInfo_report.xhtml\"\n\n  params &lt;- list(\n                \"electionId\"= \"0000000000\",\n                \"requestURI\"= \"/electioninfo/0000000000/cd/cdpb02.jsp\",\n                \"topMenuId\"= \"CD\",\n                \"secondMenuId\"= \"CDPB02\",\n                \"menuId\"= \"CDPB02\",\n                \"statementId\"= \"CDPB02_#3_2_1\",\n                \"oldElectionType\"= \"1\",\n                \"electionType\"= \"2\",\n                \"electionName\"= \"20200415\",\n                \"searchType\"= \"3\",\n                \"electionCode\"= \"2\",\n                \"cityCode\"= cityCode,\n                \"townCode\"= \"-1\",\n                \"sggCityCode\"= \"-1\",\n                \"x\"= \"48\",\n                \"y\"= \"22\")\n  \n  electorate &lt;- GET(url = url,\n      query = params)\n  \n  electorate_tables &lt;- electorate |&gt; \n    read_html() |&gt; \n    html_nodes('.table01') |&gt; \n    html_table()\n  \n  electorate_tbl &lt;- electorate_tables[[2]] |&gt; \n    janitor::clean_names(ascii = FALSE) |&gt; \n    filter(선거구명 != \"합계\",\n           선거구명 != \"\")  |&gt; \n    select(선거구명, 인구수 = 인구수_선거인명부작성기준일_현재,\n           성별 = 확정선거인수, 선거인수 = 확정선거인수_2) |&gt; \n    filter(성별 == \"계\") |&gt; \n    ## 인구수 --------------------------\n    separate(인구수, into = c(\"인구수\", \"재외및외국\"), sep = \"\\\\(\") |&gt; \n    separate(재외및외국, into = c(\"재외국민\", \"외국인\"), sep = \",\") |&gt; \n    mutate(인구수   = parse_number(인구수),\n           재외국민 = parse_number(재외국민),\n           외국인 = parse_number(외국인)) |&gt; \n    ## 선거인수 --------------------------\n    separate(선거인수, into = c(\"선거인수\", \"선거인_재외및외국\"), sep = \"\\\\(\") |&gt; \n    separate(선거인_재외및외국, into = c(\"선거재외국민\", \"선거외국인\"), sep = \",\") |&gt; \n    mutate(선거인수   = parse_number(선거인수),\n           선거재외국민 = parse_number(선거재외국민),\n           선거외국인 = parse_number(선거외국인))  |&gt; \n    select(-성별)\n    \n  return(electorate_tbl)\n}\n\nget_electorate(\"4900\")\n#&gt; # A tibble: 3 × 7\n#&gt;   선거구명 인구수 재외국민 외국인 선거인수 선거재외국민 선거외국인\n#&gt;   &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;\n#&gt; 1 제주시갑 253218      617      0   208660          578          0\n#&gt; 2 제주시을 236224      517      0   191862          471          0\n#&gt; 3 서귀포시 181386      371      0   152676          330          0"
  },
  {
    "objectID": "district_issue.html#제21대-총선",
    "href": "district_issue.html#제21대-총선",
    "title": "지도제작 대회",
    "section": "\n3.3 제21대 총선",
    "text": "3.3 제21대 총선\n\n코드sido_tbl &lt;- tribble(~\"sido_cd\", ~\"sido_nm\",\n                    '1100', \"서울특별시\", \n                    '2600', \"부산광역시\", \n                    '2700', \"대구광역시\", \n                    '2800', \"인천광역시\", \n                    '2900', \"광주광역시\", \n                    '3000', \"대전광역시\", \n                    '3100', \"울산광역시\", \n                    '5100', \"세종특별자치시\", \n                    '4100', \"경기도\", \n                    '4200', \"강원도\", \n                    '4300', \"충청북도\", \n                    '4400', \"충청남도\", \n                    '4500', \"전라북도\", \n                    '4600', \"전라남도\", \n                    '4700', \"경상북도\", \n                    '4800', \"경상남도\", \n                    '4900', \"제주특별자치도\")\n\nelectorate_raw &lt;- sido_tbl |&gt; \n  mutate(data = map(sido_cd, get_electorate))\n\nelectorate_2020_tbl &lt;- electorate_raw |&gt; \n  rename(시도코드 = sido_cd, 시도명 = sido_nm) |&gt; \n  unnest(data)\n\nelectorate_2020_tbl |&gt; \n  write_rds(\"data/electorate_2020_tbl.rds\")"
  },
  {
    "objectID": "district_issue.html#선거구획정-표",
    "href": "district_issue.html#선거구획정-표",
    "title": "지도제작 대회",
    "section": "\n4.1 선거구획정 표",
    "text": "4.1 선거구획정 표\n\n코드library(gt)\nlibrary(gtExtras)\n\nelectorate_2020_tbl &lt;- \n  read_rds(\"data/electorate_2020_tbl.rds\")\n\nget_percentage &lt;- function(dataframe) {\n  pcnt_number &lt;- dataframe |&gt; \n    select(-비적정비율) |&gt; \n    summarise_if(is.numeric, sum) |&gt; \n    mutate(비적정비율 = (상한초과 + 하한미달) / (적정 + 상한초과 + 하한미달)) |&gt; \n    pull(비적정비율)\n  \n  return(pcnt_number)\n}\n\nelectorate_2020_gt_tbl &lt;- electorate_2020_tbl |&gt; \n  mutate(획정구 = case_when(인구수 &gt; 204847*4/3 ~ \"상한초과\",\n                         인구수 &lt; 204847*2/3 ~ \"하한미달\",\n                         TRUE ~ \"적정\")) |&gt; \n  count(시도명, 획정구) |&gt; \n  pivot_wider(names_from = 획정구, values_from = n, values_fill = 0)  |&gt; \n  arrange(desc(상한초과)) |&gt; \n  mutate(비적정비율 = (상한초과 + 하한미달) / (적정+상한초과 + 하한미달)) |&gt; \n  arrange(desc(비적정비율))\n\nelectorate_2020_gt &lt;- electorate_2020_gt_tbl |&gt; \n  gt::gt() |&gt; \n  gt_theme_538() |&gt; \n  tab_options(\n    heading.title.font.size = px(16L),\n    column_labels.font.size = px(14L),\n    table.font.size = px(12L)\n  ) |&gt;   \n  cols_align(align = \"center\") |&gt; \n  tab_header(\n    title = md(\"제21대 국회의원 선거구획정 현황\"),\n    subtitle = md(\"중앙선거관리위원회 선거인수현황 통계\")\n  ) |&gt; \n  fmt_percent(columns = 비적정비율, decimals = 1) |&gt; \n  tab_spanner(\n    label = \"선거구 현황\",\n    columns = c(\n      적정, 상한초과, 하한미달\n    )\n  )  |&gt; \n  tab_footnote(\n    footnote = md(\"선거구별 **271,716** 명 초과시\"),\n    locations = cells_column_labels(columns = 상한초과)\n  )  |&gt; \n  tab_footnote(\n    footnote = md(\"선거구별 **136,565** 명 미달시\"),\n    locations = cells_column_labels(columns = 하한미달)\n  ) |&gt; \n  tab_style(\n    style = cell_text(color = \"red\", size = px(13L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 상한초과 &gt; 0,\n      columns = 상한초과\n    )\n  ) |&gt; \n  tab_style(\n    style = cell_text(color = \"blue\", size = px(13L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 하한미달 &gt; 0,\n      columns = 하한미달\n    )\n  ) |&gt; \n  ## 표 전체 합계 -------------------------------------\n  grand_summary_rows(\n    columns = c(적정, 상한초과, 하한미달),\n    fns =  list(label = \"선거구수\", fn = \"sum\"),\n    fmt = ~ fmt_integer(.),\n    side = \"top\"\n  ) |&gt; \n  grand_summary_rows(\n    columns = 비적정비율,\n    fns =  list(\"선거구비율\" = ~ get_percentage(electorate_2020_gt_tbl)),\n    fmt = ~ fmt_percent(., decimals = 1),\n    side = \"top\"\n  )    \n\nelectorate_2020_gt\n\n\n\n\n\n\n제21대 국회의원 선거구획정 현황\n    \n\n중앙선거관리위원회 선거인수현황 통계\n    \n\n\n      시도명\n      \n        선거구 현황\n      \n      비적정비율\n    \n\n적정\n      상한초과1\n\n      하한미달2\n\n    \n\n\n\n선거구수\n—\n236\n12\n5\n—\n\n\n선거구비율\n—\n—\n—\n—\n6.7%\n\n\n\n전라북도\n7\n1\n2\n30.0%\n\n\n\n경기도\n51\n8\n0\n13.6%\n\n\n\n부산광역시\n16\n0\n2\n11.1%\n\n\n\n전라남도\n9\n0\n1\n10.0%\n\n\n\n충청남도\n10\n1\n0\n9.1%\n\n\n\n인천광역시\n12\n1\n0\n7.7%\n\n\n\n경상남도\n15\n1\n0\n6.2%\n\n\n\n강원도\n8\n0\n0\n0.0%\n\n\n\n경상북도\n13\n0\n0\n0.0%\n\n\n\n광주광역시\n8\n0\n0\n0.0%\n\n\n\n대구광역시\n12\n0\n0\n0.0%\n\n\n\n대전광역시\n7\n0\n0\n0.0%\n\n\n\n서울특별시\n49\n0\n0\n0.0%\n\n\n\n세종특별자치시\n2\n0\n0\n0.0%\n\n\n\n울산광역시\n6\n0\n0\n0.0%\n\n\n\n제주특별자치도\n3\n0\n0\n0.0%\n\n\n\n충청북도\n8\n0\n0\n0.0%\n\n\n\n\n\n1 선거구별 271,716 명 초과시\n    \n\n\n2 선거구별 136,565 명 미달시\n    \n\n\n\n\n코드\n# electorate_2020_gt |&gt; \n#   gtsave(\"images/electorate_2020_gt.png\")"
  },
  {
    "objectID": "district_issue.html#조정-필요-선거구",
    "href": "district_issue.html#조정-필요-선거구",
    "title": "지도제작 대회",
    "section": "\n4.2 조정 필요 선거구",
    "text": "4.2 조정 필요 선거구\n\n코드library(ggrepel)\nextrafont::loadfonts()\n\nelectorate_2020_region &lt;- electorate_2020_tbl |&gt; \n  mutate(시도권역 = case_when(str_detect(시도명, \"자치|강원\") ~ \"강원/제주/세종\",\n                              str_detect(시도명, \"경상\") ~ \"경상남북\",\n                              str_detect(시도명, \"전라\") ~ \"전라남북\",\n                              str_detect(시도명, \"충청\") ~ \"충청남북\",\n                              TRUE ~ 시도명)) |&gt;\n  mutate(시도권역 = factor(시도권역, levels = c(\"서울특별시\", \"경기도\", \"광주광역시\", \"대구광역시\", \n                                        \"대전광역시\", \"부산광역시\", \"울산광역시\", \"인천광역시\", \n                                        \"경상남북\", \"전라남북\", \"충청남북\", \"강원/제주/세종\"))) \n\nelectorate_2020_region_issue &lt;- electorate_2020_region |&gt; \n  mutate(획정구 = case_when(인구수 &gt; 204847*4/3 ~ \"상한초과\",\n                         인구수 &lt; 204847*2/3 ~ \"하한미달\",\n                         TRUE ~ \"적정\")) |&gt; \n  filter(획정구 != \"적정\")\n\nelectorate_2020_region_gg &lt;-  electorate_2020_region |&gt; \n  ggplot(aes(x = 인구수, y = 선거인수, color = 시도권역)) +\n    geom_point(size = 0.7) +\n    geom_smooth(method = \"lm\", se=FALSE, size=0.4) +\n    geom_vline(xintercept = 204847) +\n    geom_vline(xintercept = 204847*2/3, linetype=2) +\n    geom_vline(xintercept = 204847*4/3, linetype=2)  +\n    facet_wrap(~시도권역) +\n    theme_minimal(base_family=\"MaruBrui\") +\n    theme(legend.position = \"none\") +\n    labs(title = \"제21대 국회의원 선거 시도별 인구 상·하한 초과·미달 선거구\",\n         x = \"선거구 인구수\",\n         y = \"선거구 선거인수\") +\n    scale_x_continuous(labels = scales::unit_format(unit = \"만\", scale = 1e-4, sep = \"\")) +\n    scale_y_continuous(labels = scales::unit_format(unit = \"만\", scale = 1e-4, sep = \"\")) +\n    geom_text_repel(data = electorate_2020_region_issue, aes(label = 선거구명),\n                    size = 1.5, min.segment.length = 0, force = 0.5, max.overlaps=Inf,\n                    color = \"black\") +\n    geom_point(data = electorate_2020_region_issue, \n                    size = 1)\n\nelectorate_2020_region_gg\n\n\n\n\n\n\n코드\n# ragg::agg_jpeg(\"images/제21대_국회의원선거_인구수_조정선거구.png\",\n#               width = 10, height = 7, units = \"in\", res = 600)\n# electorate_2020_region_gg\n# dev.off()"
  },
  {
    "objectID": "district_issue.html#데이터",
    "href": "district_issue.html#데이터",
    "title": "지도제작 대회",
    "section": "\n5.1 데이터",
    "text": "5.1 데이터\n\n5.1.1 시도별 인구수\n\n코드library(tidyverse)\nlibrary(rvest)\n\nnamu_url &lt;- \"https://namu.wiki/w/%EB%8C%80%ED%95%9C%EB%AF%BC%EA%B5%AD/%EC%9D%B8%EA%B5%AC\"\n\nnamu_html &lt;- read_html(namu_url)\n\nnamu_lst &lt;- namu_html |&gt; \n  html_nodes(\"table\") |&gt; \n  html_table(header = TRUE)\n\navg_electorate &lt;- 51392745 / 253\n\nelectorate_tbl &lt;- namu_lst[[13]] |&gt; \n  mutate(인구 = parse_number(인구),\n         비율 = parse_number(비율)/100) |&gt; \n  mutate(선거구수 = 인구/ avg_electorate)\n\nelectorate_tbl\n#&gt; # A tibble: 18 × 5\n#&gt;    순위  광역자치단체       인구   비율 선거구수\n#&gt;    &lt;chr&gt; &lt;chr&gt;             &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n#&gt;  1 1위   경기도         13618969 0.265     67.0 \n#&gt;  2 2위   서울특별시      9414093 0.183     46.3 \n#&gt;  3 3위   부산광역시      3306993 0.0643    16.3 \n#&gt;  4 4위   경상남도        3263251 0.0635    16.1 \n#&gt;  5 5위   인천광역시      2978749 0.058     14.7 \n#&gt;  6 6위   경상북도        2565674 0.0499    12.6 \n#&gt;  7 7위   대구광역시      2379602 0.0463    11.7 \n#&gt;  8 8위   충청남도        2126374 0.0414    10.5 \n#&gt;  9 9위   전라남도        1811554 0.0352     8.92\n#&gt; 10 10위  전라북도        1762021 0.0343     8.67\n#&gt; 11 11위  충청북도        1593931 0.031      7.85\n#&gt; 12 12위  강원특별자치도  1532617 0.0298     7.54\n#&gt; 13 13위  대전광역시      1445126 0.0281     7.11\n#&gt; 14 14위  광주광역시      1424818 0.0277     7.01\n#&gt; 15 15위  울산광역시      1106015 0.0215     5.44\n#&gt; 16 16위  제주특별자치도   676832 0.0132     3.33\n#&gt; 17 17위  세종특별자치시   386126 0.0075     1.90\n#&gt; 18 총합  총합           51392745 1        253\n\n\n\n5.1.2 선거구\n\n코드library(readxl)\n\nnec_raw &lt;- read_excel(\"data/선거구수_및_정수현황.xlsx\", skip = 5)\n\nnec_tbl &lt;- nec_raw |&gt; \n  janitor::clean_names(ascii = FALSE) |&gt; \n  select(1:2) |&gt; \n  set_names(c(\"광역자치단체\", \"현선거구수\"))\n\nnec_tbl\n#&gt; # A tibble: 19 × 2\n#&gt;    광역자치단체   현선거구수\n#&gt;    &lt;chr&gt;          &lt;chr&gt;     \n#&gt;  1 합계           254       \n#&gt;  2 전국(비례대표) 1         \n#&gt;  3 서울특별시     49        \n#&gt;  4 부산광역시     18        \n#&gt;  5 대구광역시     12        \n#&gt;  6 인천광역시     13        \n#&gt;  7 광주광역시     8         \n#&gt;  8 대전광역시     7         \n#&gt;  9 울산광역시     6         \n#&gt; 10 세종특별자치시 2         \n#&gt; 11 경기도         59        \n#&gt; 12 강원도         8         \n#&gt; 13 충청북도       8         \n#&gt; 14 충청남도       11        \n#&gt; 15 전라북도       10        \n#&gt; 16 전라남도       10        \n#&gt; 17 경상북도       13        \n#&gt; 18 경상남도       16        \n#&gt; 19 제주특별자치도 3\n\n\n\n5.1.3 결합\n\n코드electorate_table &lt;- electorate_tbl |&gt; \n  filter(순위 != \"총합\") |&gt; \n  left_join(nec_tbl |&gt; mutate(광역자치단체 = ifelse(str_detect(광역자치단체, \"강원\"), \n                                              \"강원특별자치도\", 광역자치단체))) |&gt; \n  mutate(현선거구수 = parse_integer(현선거구수)) |&gt; \n  mutate(차이 = round(현선거구수 - 선거구수, 1)) |&gt; \n  janitor::adorn_totals(name = \"합계\")\n\nelectorate_table\n#&gt;  순위   광역자치단체     인구   비율   선거구수 현선거구수 차이\n#&gt;   1위         경기도 13618969 0.2650  67.044466         59 -8.0\n#&gt;   2위     서울특별시  9414093 0.1832  46.344392         49  2.7\n#&gt;   3위     부산광역시  3306993 0.0643  16.279909         18  1.7\n#&gt;   4위       경상남도  3263251 0.0635  16.064573         16 -0.1\n#&gt;   5위     인천광역시  2978749 0.0580  14.664006         13 -1.7\n#&gt;   6위       경상북도  2565674 0.0499  12.630489         13  0.4\n#&gt;   7위     대구광역시  2379602 0.0463  11.714480         12  0.3\n#&gt;   8위       충청남도  2126374 0.0414  10.467871         11  0.5\n#&gt;   9위       전라남도  1811554 0.0352   8.918052         10  1.1\n#&gt;  10위       전라북도  1762021 0.0343   8.674207         10  1.3\n#&gt;  11위       충청북도  1593931 0.0310   7.846721          8  0.2\n#&gt;  12위 강원특별자치도  1532617 0.0298   7.544880          8  0.5\n#&gt;  13위     대전광역시  1445126 0.0281   7.114173          7 -0.1\n#&gt;  14위     광주광역시  1424818 0.0277   7.014199          8  1.0\n#&gt;  15위     울산광역시  1106015 0.0215   5.444772          6  0.6\n#&gt;  16위 제주특별자치도   676832 0.0132   3.331959          3 -0.3\n#&gt;  17위 세종특별자치시   386126 0.0075   1.900850          2  0.1\n#&gt;  합계              - 51392745 0.9999 253.000000        253  0.2"
  },
  {
    "objectID": "district_issue.html#시각화",
    "href": "district_issue.html#시각화",
    "title": "지도제작 대회",
    "section": "\n5.2 시각화",
    "text": "5.2 시각화\n\n5.2.1 표\n\n코드library(gt)\nlibrary(gtExtras)\n\nelectorate_diff_gt &lt;- electorate_table |&gt; \n  relocate(차이, .before = 현선거구수) |&gt; \n  gt() |&gt; \n  gt_theme_538() |&gt; \n  tab_options(\n    heading.title.font.size = px(16L),\n    column_labels.font.size = px(14L),\n    table.font.size = px(12L)\n  ) |&gt;   \n  cols_align(align = \"center\") |&gt; \n  tab_header(\n    title = md(\"국회의원 선거구 시도별 적정 인구수\"),\n    subtitle = md(\"중앙선관위 선거구수 및 정수현황과 시도별 인구수\")\n  )  |&gt; \n  fmt_integer(인구) |&gt;\n  fmt_number(선거구수, decimals = 1) |&gt;   \n  fmt_percent(비율, decimals = 1) |&gt; \n  cols_align(\"center\") |&gt; \n  tab_spanner(label = \"선거구수 비교\",\n              columns = c(선거구수, 차이, 현선거구수)) |&gt; \n  ## 차이 색상표식 ---------------------\n  tab_style(\n    style = cell_text(color = \"red\", size = px(13L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 차이 &gt; 0.5,\n      columns = 차이\n    )\n  )  |&gt; \n  tab_style(\n    style = cell_text(color = \"blue\", size = px(13L), weight = \"bold\"),\n    locations = cells_body(\n      rows  = 차이 &lt; -0.5,\n      columns = 차이\n    )\n  )    \n\nelectorate_diff_gt\n\n\n\n\n\n\n국회의원 선거구 시도별 적정 인구수\n    \n\n중앙선관위 선거구수 및 정수현황과 시도별 인구수\n    \n\n순위\n      광역자치단체\n      인구\n      비율\n      \n        선거구수 비교\n      \n    \n\n선거구수\n      차이\n      현선거구수\n    \n\n\n\n1위\n경기도\n13,618,969\n26.5%\n67.0\n-8.0\n59\n\n\n2위\n서울특별시\n9,414,093\n18.3%\n46.3\n2.7\n49\n\n\n3위\n부산광역시\n3,306,993\n6.4%\n16.3\n1.7\n18\n\n\n4위\n경상남도\n3,263,251\n6.3%\n16.1\n-0.1\n16\n\n\n5위\n인천광역시\n2,978,749\n5.8%\n14.7\n-1.7\n13\n\n\n6위\n경상북도\n2,565,674\n5.0%\n12.6\n0.4\n13\n\n\n7위\n대구광역시\n2,379,602\n4.6%\n11.7\n0.3\n12\n\n\n8위\n충청남도\n2,126,374\n4.1%\n10.5\n0.5\n11\n\n\n9위\n전라남도\n1,811,554\n3.5%\n8.9\n1.1\n10\n\n\n10위\n전라북도\n1,762,021\n3.4%\n8.7\n1.3\n10\n\n\n11위\n충청북도\n1,593,931\n3.1%\n7.8\n0.2\n8\n\n\n12위\n강원특별자치도\n1,532,617\n3.0%\n7.5\n0.5\n8\n\n\n13위\n대전광역시\n1,445,126\n2.8%\n7.1\n-0.1\n7\n\n\n14위\n광주광역시\n1,424,818\n2.8%\n7.0\n1.0\n8\n\n\n15위\n울산광역시\n1,106,015\n2.1%\n5.4\n0.6\n6\n\n\n16위\n제주특별자치도\n676,832\n1.3%\n3.3\n-0.3\n3\n\n\n17위\n세종특별자치시\n386,126\n0.8%\n1.9\n0.1\n2\n\n\n합계\n-\n51,392,745\n100.0%\n253.0\n0.2\n253\n\n\n\n\n\n코드\n# chromote::default_chromote_object()\n\n# electorate_diff_gt |&gt;\n#   gtsave(filename = \"images/electorate_diff_gt.png\")"
  },
  {
    "objectID": "precinct.html",
    "href": "precinct.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "오마이뉴스 뉴스기사 (2023년 7월 24일)\n\n\n\n지난 총선 민주당 데이터 보니, 수도권도 ‘단수공천’ 집중 ‘총선 후보자선출규정 특별당규 개정’ 청원동의 5만 넘어… 민주당의 답변에 ‘주목’\n뉴스기사 바로가기"
  },
  {
    "objectID": "precinct.html#공천-유형",
    "href": "precinct.html#공천-유형",
    "title": "지도제작 대회",
    "section": "\n3.1 공천 유형",
    "text": "3.1 공천 유형\n전체 지역구 253개 중에 공천 유형별로 출판용 표로 제작한다.\n\n코드library(janitor)\nlibrary(gt)\nlibrary(gtExtras)\n\nnomination_type_gt &lt;- nomination |&gt; \n  tabyl(공천_유형) |&gt; \n  arrange(desc(n)) |&gt; \n  janitor::adorn_totals(name = \"합계\") |&gt; \n  janitor::adorn_pct_formatting() |&gt; \n  rename(후보수 = n,\n         비율 = percent) |&gt; \n  gt() |&gt; \n  gt_theme_538() |&gt; \n  tab_options(\n    heading.title.font.size = px(16L),\n    column_labels.font.size = px(14L),\n    table.font.size = px(12L)\n  ) |&gt; \n  cols_align(align = \"center\") |&gt; \n  tab_header(\n    title = md(\"더불어민주당 공천 유형\"),\n    subtitle = md(\"제21대 국회의원 선거\")\n  ) |&gt; \n  tab_style(\n    style = cell_fill(color = \"gray85\"),\n    locations = cells_body(\n      rows = 공천_유형 == \"단수 공천\"\n    )\n  )  \n\nnomination_type_gt\n\n\n\n\n\n\n더불어민주당 공천 유형\n    \n\n제21대 국회의원 선거\n    \n\n공천_유형\n      후보수\n      비율\n    \n\n\n\n단수 공천\n118\n46.6%\n\n\n경선 공천\n106\n41.9%\n\n\n전략 공천\n28\n11.1%\n\n\n청년 경선 공천\n1\n0.4%\n\n\n합계\n253\n100.0%\n\n\n\n\n\n코드\n# nomination_type_gt |&gt; \n#   gtsave(filename = \"images/nomation_type_gt.png\")"
  },
  {
    "objectID": "precinct.html#공천-상세",
    "href": "precinct.html#공천-상세",
    "title": "지도제작 대회",
    "section": "\n3.2 공천 상세",
    "text": "3.2 공천 상세\n\n코드library(gt)\nlibrary(gtExtras)\n\nnomination |&gt; \n  mutate(\n      유튜브 = map(유튜브, ~ htmltools::a(href = .x, \"바로가기\")),\n      유튜브 = map(유튜브, ~ gt::html(as.character(.x))))  |&gt; \n  gt(groupname_col = '시도명') |&gt; \n  gt_theme_538() |&gt; \n  tab_options(\n    table.font.size = px(12L)\n  ) |&gt; \n  sub_missing(\n    columns = everything(),\n    missing_text = \"-\"\n  ) |&gt; \n  cols_align(align = \"center\") |&gt; \n  tab_style(\n    style = cell_fill(color = \"gray85\"),\n    locations = cells_body(\n      rows = 공천_유형 == \"단수 공천\"\n    )\n  )  \n\n\n\n\n\n선거구\n      후보자\n      공천_유형\n      경력\n      유튜브\n    \n\n\n서울특별시\n    \n\n종로\n이낙연\n전략 공천\n민선 6기 전남지사45대 국무총리 (2017~2020)16·17·18·19대 국회의원\n바로가기\n\n\n중·성동 갑\n홍익표\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n중·성동 을\n박성준\n전략 공천\n전 JTBC 아나운서팀장\n바로가기\n\n\n용산\n강태웅\n전략 공천\n전 서울시 부시장\n바로가기\n\n\n광진 갑\n전혜숙\n단수 공천\n18·20대 국회의원\n바로가기\n\n\n광진 을\n고민정\n전략 공천\nKBS 한국방송공사 아나운서청와대 대변인 (2019~2020)\n바로가기\n\n\n동대문 갑\n안규백\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n동대문 을\n장경태\n청년 경선 공천\n\n바로가기\n\n\n중랑 갑\n서영교\n경선 공천\n19·20대 국회의원\n바로가기\n\n\n중랑 을\n박홍근\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n성북 갑\n김영배\n경선 공천\n민선 5·6기 서울 성북구청장\n바로가기\n\n\n성북 을\n기동민\n단수 공천\n20대 국회의원\n바로가기\n\n\n강북 갑\n천준호\n경선 공천\n민생경제지원단 위원장\n바로가기\n\n\n강북 을\n박용진\n단수 공천\n20대 국회의원\n바로가기\n\n\n도봉 갑\n인재근\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n도봉 을\n오기형\n경선 공천\n변호사\n바로가기\n\n\n노원 갑\n고용진\n경선 공천\n20대 국회의원\n바로가기\n\n\n노원 을\n우원식\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n노원 병\n김성환\n단수 공천\n20대 국회의원\n바로가기\n\n\n은평 갑\n박주민\n단수 공천\n20대 국회의원\n바로가기\n\n\n은평 을\n강병원\n경선 공천\n20대 국회의원\n바로가기\n\n\n서대문 갑\n우상호\n단수 공천\n17·19·20대 국회의원\n바로가기\n\n\n서대문 을\n김영호\n단수 공천\n20대 국회의원\n바로가기\n\n\n마포 갑\n노웅래\n경선 공천\n17·19·20대 국회의원\n바로가기\n\n\n마포 을\n정청래\n단수 공천\n17·19대 국회의원\n바로가기\n\n\n양천 갑\n황희\n단수 공천\n20대 국회의원\n바로가기\n\n\n양천 을\n이용선\n단수 공천\n전 청와대 시민사회수석\n바로가기\n\n\n강서 갑\n강선우\n경선 공천\n중앙당 총선기획위원\n바로가기\n\n\n강서 을\n진성준\n단수 공천\n19대 국회의원\n바로가기\n\n\n강서 병\n한정애\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n구로 갑\n이인영\n단수 공천\n17·19·20대 국회의원\n바로가기\n\n\n구로 을\n윤건영\n전략 공천\n전 청와대 국정상황실장\n바로가기\n\n\n금천\n최기상\n전략 공천\n전 서울북부지법 부장판사\n바로가기\n\n\n영등포 갑\n김영주\n단수 공천\n전 고용노동부 장관\n바로가기\n\n\n영등포 을\n김민석\n경선 공천\n15·16대 국회의원\n바로가기\n\n\n동작 갑\n김병기\n경선 공천\n20대 국회의원\n바로가기\n\n\n동작 을\n이수진\n전략 공천\n전 수원지법 부장판사\n바로가기\n\n\n관악 갑\n유기홍\n경선 공천\n17대 국회의원\n바로가기\n\n\n관악 을\n정태호\n경선 공천\n전 청와대 일자리수석\n바로가기\n\n\n서초 갑\n이정근\n단수 공천\n전 지역위원장\n바로가기\n\n\n서초 을\n박경미\n경선 공천\n20대 국회의원\n바로가기\n\n\n강남 갑\n김성곤\n단수 공천\n15·17·18·19대 국회의원\n바로가기\n\n\n강남 을\n전현희\n단수 공천\n18대·20대 국회의원\n바로가기\n\n\n강남 병\n김한규\n전략 공천\n변호사\n바로가기\n\n\n송파 갑\n조재희\n경선 공천\n전 정책기획위원\n바로가기\n\n\n송파 을\n최재성\n단수 공천\n17·18·19·20대 국회의원\n바로가기\n\n\n송파 병\n남인순\n단수 공천\n19대·20대 국회의원\n바로가기\n\n\n강동 갑\n진선미\n단수 공천\n19·20대 국회의원여성가족부 장관 (2018~2019)\n바로가기\n\n\n강동 을\n이해식\n경선 공천\n민선4·5·6기 서울 강동구청장\n바로가기\n\n\n부산광역시\n    \n\n중·영도\n김비오\n경선 공천\n전 지역위원장\n바로가기\n\n\n서·동\n이재강\n경선 공천\n전 지역위원장\n바로가기\n\n\n부산진 갑\n김영춘\n단수 공천\n16·17·20대 국회의원해양수산부 장관 (2017~2019)\n바로가기\n\n\n부산진 을\n류영진\n경선 공천\n전 식품의약품안전처장\n바로가기\n\n\n동래\n박성현\n단수 공천\n\n바로가기\n\n\n남 갑\n강준석\n전략 공천\n13대 해양수산부 차관\n바로가기\n\n\n남 을\n박재호\n단수 공천\n20대 국회의원\n바로가기\n\n\n북·강서 갑\n전재수\n단수 공천\n20대 국회의원\n바로가기\n\n\n북·강서 을\n최지은\n전략 공천\n전 세계은행 선임 이코노미스트\n바로가기\n\n\n해운대 갑\n유영민\n단수 공천\n과학정보기술통신부 장관 (2017년~2019년)\n바로가기\n\n\n해운대 을\n윤준호\n단수 공천\n20대 국회의원\n바로가기\n\n\n사하 갑\n최인호\n단수 공천\n20대 국회의원\n바로가기\n\n\n사하 을\n이상호\n경선 공천\n\n바로가기\n\n\n금정\n박무성\n경선 공천\n변호사\n바로가기\n\n\n연제\n김해영\n단수 공천\n20대 국회의원\n바로가기\n\n\n수영\n강윤경\n단수 공천\n\n바로가기\n\n\n사상\n배재정\n단수 공천\n19대 국회의원 (비례대표)\n바로가기\n\n\n기장\n최택용\n경선 공천\n\n바로가기\n\n\n대구광역시\n    \n\n중·남\n이재용\n단수 공천\n전 환경부 장관\n바로가기\n\n\n동 갑\n서재헌\n단수 공천\n\n바로가기\n\n\n동 을\n이승천\n단수 공천\n\n바로가기\n\n\n서\n윤선진\n단수 공천\n\n바로가기\n\n\n북 갑\n이헌태\n단수 공천\n\n바로가기\n\n\n북 을\n홍의락\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n수성 갑\n김부겸\n단수 공천\n16·17·18·20대 국회의원행정안전부 장관 (2017~2019)\n바로가기\n\n\n수성 을\n이상식\n단수 공천\n전 대구지방경찰청장\n바로가기\n\n\n달서 갑\n권택흥\n단수 공천\n\n바로가기\n\n\n달서 을\n허소\n경선 공천\n\n바로가기\n\n\n달서 병\n김대진\n단수 공천\n\n바로가기\n\n\n달성\n박형룡\n경선 공천\n\n바로가기\n\n\n인천광역시\n    \n\n중·강화·옹진\n조택상\n단수 공천\n\n바로가기\n\n\n동·미추홀 갑\n허종식\n단수 공천\n전 인천광역시 정무경제부시장\n바로가기\n\n\n동·미추홀 을\n남영희\n경선 공천\n\n바로가기\n\n\n연수 갑\n박찬대\n단수 공천\n20대 국회의원\n바로가기\n\n\n연수 을\n정일영\n경선 공천\n전 인천국제공항공사 사장\n바로가기\n\n\n남동 갑\n맹성규\n단수 공천\n20대 국회의원\n바로가기\n\n\n남동 을\n윤관석\n단수 공천\n20대 국회의원\n바로가기\n\n\n부평 갑\n이성만\n경선 공천\n전 인천광역시 시의원\n바로가기\n\n\n부평 을\n홍영표\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n계양 갑\n유동수\n단수 공천\n20대 국회의원\n바로가기\n\n\n계양 을\n송영길\n단수 공천\n17·18·20대 국회의원민선 5기 인천광역시장\n바로가기\n\n\n서 갑\n김교흥\n단수 공천\n17대 국회의원\n바로가기\n\n\n서 을\n신동근\n단수 공천\n20대 국회의원\n바로가기\n\n\n광주광역시\n    \n\n동·남 갑\n윤영덕\n경선 공천\n\n바로가기\n\n\n동·남 을\n이병훈\n경선 공천\n\n바로가기\n\n\n서 갑\n송갑석\n단수 공천\n제20대 국회의원\n바로가기\n\n\n서 을\n양향자\n경선 공천\n전 삼성전자 상무이사\n바로가기\n\n\n북 갑\n조오섭\n경선 공천\n\n바로가기\n\n\n북 을\n형석\n경선 공천\n\n바로가기\n\n\n광산 갑\n이용빈\n단수 공천\n광주광역시당 광산구(갑) 지역위원장\n바로가기\n\n\n광산 을\n민형배\n경선 공천\n\n바로가기\n\n\n대전광역시\n    \n\n동\n장철민\n경선 공천\n\n바로가기\n\n\n중\n황운하\n경선 공천\n전 울산지방경찰청장\n바로가기\n\n\n서 갑\n박병석\n단수 공천\n16·17·18·19·20대 국회의원19대 국회 전반기 국회부의장\n바로가기\n\n\n서 을\n박범계\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n유성 갑\n조승래\n단수 공천\n20대 국회의원\n바로가기\n\n\n유성 을\n이상민\n경선 공천\n17·18·19·20대 국회의원\n바로가기\n\n\n대덕\n박영순\n경선 공천\n전 대전광역시 정무부시장\n바로가기\n\n\n울산광역시\n    \n\n중\n임동호\n경선 공천\n\n바로가기\n\n\n남 갑\n심규명\n경선 공천\n변호사\n바로가기\n\n\n남 을\n박성진\n경선 공천\n\n바로가기\n\n\n동\n김태선\n경선 공천\n\n바로가기\n\n\n북\n이상헌\n경선 공천\n20대 국회의원\n바로가기\n\n\n울주\n김영문\n단수 공천\n관세청장 (2017년~2019년)\n바로가기\n\n\n세종특별자치시\n    \n\n세종 갑\n홍성국\n전략 공천\n전 미래에셋대우 대표이사\n바로가기\n\n\n세종 을\n강준현\n경선 공천\n전 세종시 정무부시장\n바로가기\n\n\n경기도\n    \n\n수원 갑\n김승원\n경선 공천\n\n바로가기\n\n\n수원 을\n백혜련\n단수 공천\n20대 국회의원\n바로가기\n\n\n수원 병\n김영진\n단수 공천\n20대 국회의원\n바로가기\n\n\n수원 정\n박광온\n단수 공천\n20대 국회의원\n바로가기\n\n\n수원 무\n김진표\n단수 공천\n20대 국회의원\n바로가기\n\n\n성남 수정\n김태년\n단수 공천\n20대 국회의원\n바로가기\n\n\n성남 중원\n윤영찬\n경선 공천\n전 청와대 국민소통수석네이버 부사장\n바로가기\n\n\n성남 분당 갑\n김병관\n경선 공천\n20대 국회의원\n바로가기\n\n\n성남 분당 을\n김병욱\n단수 공천\n20대 국회의원\n바로가기\n\n\n의정부 갑\n오영환\n전략 공천\n\n바로가기\n\n\n의정부 을\n김민철\n경선 공천\n\n바로가기\n\n\n안양 만안\n강득구\n경선 공천\n전 경기도 연정부지사경기도의회 의장\n바로가기\n\n\n안양 동안 갑\n민병덕\n경선 공천\n변호사\n바로가기\n\n\n안양 동안 을\n이재정\n경선 공천\n20대 국회의원(비례대표)\n바로가기\n\n\n부천 갑\n김경협\n단수 공천\n20대 국회의원\n바로가기\n\n\n부천 을\n설훈\n경선 공천\n20대 국회의원\n바로가기\n\n\n부천 병\n김상희\n단수 공천\n20대 국회의원\n바로가기\n\n\n부천 정\n서영석\n경선 공천\n\n바로가기\n\n\n광명 갑\n임오경\n전략 공천\n전 핸드볼 감독전 국가대표 핸드볼 선수\n바로가기\n\n\n광명 을\n양기대\n경선 공천\n전 광명시장\n바로가기\n\n\n평택 갑\n홍기원\n경선 공천\n\n바로가기\n\n\n평택 을\n김현정\n전략 공천\n\n바로가기\n\n\n동두천·연천\n서동욱\n경선 공천\n\n바로가기\n\n\n안산 상록 갑\n전해철\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n안산 상록 을\n김철민\n단수 공천\n20대 국회의원전 안산시장\n바로가기\n\n\n안산 단원 갑\n고영인\n경선 공천\n\n바로가기\n\n\n안산 단원 을\n김남국\n전략 공천\n변호사\n바로가기\n\n\n고양 갑\n문명순\n단수 공천\n\n바로가기\n\n\n고양 을\n한준호\n전략 공천\n전 MBC 아나운서\n바로가기\n\n\n고양 병\n홍정민\n전략 공천\n변호사\n바로가기\n\n\n고양 정\n이용우\n전략 공천\n전 카카오뱅크 대표이사\n바로가기\n\n\n의왕·과천\n이소영\n전략 공천\n변호사\n바로가기\n\n\n구리\n윤호중\n단수 공천\n17·19·20대 국회의원\n바로가기\n\n\n남양주 갑\n조응천\n경선 공천\n20대 국회의원전 청와대 공직기강비서관\n바로가기\n\n\n남양주 을\n김한정\n경선 공천\n20대 국회의원\n바로가기\n\n\n남양주 병\n김용민\n전략 공천\n변호사\n바로가기\n\n\n오산\n안민석\n단수 공천\n17·18·19·20대 국회의원\n바로가기\n\n\n시흥 갑\n문정복\n경선 공천\n\n바로가기\n\n\n시흥 을\n조정식\n단수 공천\n17·18·19·20대 국회의원\n바로가기\n\n\n군포\n이학영\n경선 공천\n19·20대 국회의원\n바로가기\n\n\n하남\n최종윤\n경선 공천\n\n바로가기\n\n\n용인 갑\n오세영\n경선 공천\n\n바로가기\n\n\n용인 을\n김민기\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n용인 병\n정춘숙\n경선 공천\n20대 국회의원(비례대표)\n바로가기\n\n\n용인 정\n이탄희\n전략 공천\n변호사전 수원지법 안양지원 판사\n바로가기\n\n\n파주 갑\n윤후덕\n경선 공천\n19·20대 국회의원\n바로가기\n\n\n파주 을\n박정\n단수 공천\n20대 국회의원\n바로가기\n\n\n이천\n김용진\n경선 공천\n전 기획재정부 차관\n바로가기\n\n\n안성\n이규민\n경선 공천\n\n바로가기\n\n\n김포 갑\n김주영\n전략 공천\n전 한국노총 위원장\n바로가기\n\n\n김포 을\n박상혁\n경선 공천\n\n바로가기\n\n\n화성 갑\n송옥주\n경선 공천\n20대 국회의원(비례대표)\n바로가기\n\n\n화성 을\n이원욱\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n화성 병\n권칠승\n단수 공천\n20대 국회의원\n바로가기\n\n\n광주 갑\n소병훈\n경선 공천\n20대 국회의원\n바로가기\n\n\n광주 을\n임종성\n단수 공천\n20대 국회의원\n바로가기\n\n\n양주\n정성호\n단수 공천\n17·19·20대 국회의원\n바로가기\n\n\n포천·가평\n이철휘\n경선 공천\n\n바로가기\n\n\n여주·양평\n최재관\n경선 공천\n\n바로가기\n\n\n강원도\n    \n\n춘천·철원·화천·양구 갑\n허영\n경선 공천\n\n바로가기\n\n\n춘천·철원·화천·양구 을\n정만호\n경선 공천\n\n바로가기\n\n\n홍천·횡성·영월·평창\n원경환\n단수 공천\n전 서울지방경찰청장\n바로가기\n\n\n원주 갑\n이광재\n경선 공천\n17·18대 국회의원전 강원도지사\n바로가기\n\n\n원주 을\n송기헌\n단수 공천\n20대 국회의원\n바로가기\n\n\n강릉\n김경수\n단수 공천\n\n바로가기\n\n\n동해·태백·삼척·정선\n김동완\n경선 공천\n\n바로가기\n\n\n속초·인제·고성·양양\n이동기\n경선 공천\n\n바로가기\n\n\n충청북도\n    \n\n청주 상당\n정정순\n경선 공천\n\n바로가기\n\n\n청주 서원\n이장섭\n경선 공천\n\n바로가기\n\n\n청주 흥덕\n도종환\n단수 공천\n19·20대 국회의원전 문화체육관광부 장관\n바로가기\n\n\n청주 청원\n변재일\n단수 공천\n17·18·19·20대 국회의원\n바로가기\n\n\n충주\n김경욱\n단수 공천\n\n바로가기\n\n\n제천·단양\n이후삼\n경선 공천\n20대 국회의원\n바로가기\n\n\n보은·옥천·영동·괴산\n곽상언\n경선 공천\n변호사\n바로가기\n\n\n증평·진천·음성\n임호선\n단수 공천\n\n바로가기\n\n\n충청남도\n    \n\n천안 갑\n문진석\n전략 공천\n\n바로가기\n\n\n천안 을\n박완주\n단수 공천\n19·20대 국회의원\n바로가기\n\n\n천안 병\n이정문\n경선 공천\n\n바로가기\n\n\n아산 갑\n복기왕\n단수 공천\n17대 국회의원전 아산시장\n바로가기\n\n\n아산 을\n강훈식\n단수 공천\n20대 국회의원\n바로가기\n\n\n공주·부여·청양\n박수현\n단수 공천\n19대 국회의원전 청와대 대변인\n바로가기\n\n\n당진\n어기구\n경선 공천\n20대 국회의원\n바로가기\n\n\n서산·태안\n조한기\n단수 공천\n\n바로가기\n\n\n논산·계룡·금산\n김종민\n경선 공천\n20대 국회의원\n바로가기\n\n\n홍성·예산\n김학민\n경선 공천\n\n바로가기\n\n\n보령·서천\n나소열\n단수 공천\n전 서천군수\n바로가기\n\n\n전라북도\n    \n\n전주 갑\n김윤덕\n경선 공천\n제19대 국회의원\n바로가기\n\n\n전주 을\n이상직\n경선 공천\n제19대 국회의원전 이스타항공 총괄회장\n바로가기\n\n\n전주 병\n김성주\n단수 공천\n제19대 국회의원\n바로가기\n\n\n군산\n신영대\n단수 공천\n\n바로가기\n\n\n익산 갑\n김수흥\n경선 공천\n전 국회사무처 사무차장\n바로가기\n\n\n익산 을\n한병도\n경선 공천\n제17대 국회의원\n바로가기\n\n\n정읍·고창\n윤준병\n단수 공천\n전 서울특별시 행정1부시장\n바로가기\n\n\n남원·임실·순창\n이강래\n경선 공천\n제16·17·18대 국회의원전 한국도로공사 사장\n바로가기\n\n\n김제·부안\n이원택\n단수 공천\n전 문재인 정부 청와대 행정관전 전라북도 정무부지사\n바로가기\n\n\n완주·진안·무주·장수\n안호영\n경선 공천\n제20대 국회의원\n바로가기\n\n\n전라남도\n    \n\n목포\n김원이\n경선 공천\n전 서울특별시 정무부시장\n바로가기\n\n\n여수 갑\n주철현\n경선 공천\n전 여수시장(민선 6기)전 대검찰청 강력부장\n바로가기\n\n\n여수 을\n김회재\n경선 공천\n\n바로가기\n\n\n순천·광양·곡성·구례 갑\n소병철\n전략 공천\n전 법무연수원장농협대학교, 순천대학교, 법무연수원 석좌교수\n바로가기\n\n\n순천·광양·곡성·구례 을\n서동용\n경선 공천\n\n바로가기\n\n\n나주·화순\n신정훈\n경선 공천\n제19대 국회의원\n바로가기\n\n\n담양·함평·영광·장성\n이개호\n단수 공천\n제19·20대 국회의원전 농림축산식품부 장관전 전라남도 제35대 행정부지사\n바로가기\n\n\n무안·신안·영암\n서삼석\n경선 공천\n제20대 국회의원제42·43·44대 무안군수제5·6대 전라남도의회 의원\n바로가기\n\n\n고흥·보성·장흥·강진\n김승남\n경선 공천\n제19대 국회의원\n바로가기\n\n\n해남·진도·완도\n윤재갑\n경선 공천\n전 해군 군수사령부 사령관목포해양대학교 초빙교수\n바로가기\n\n\n경상북도\n    \n\n포항 북\n오중기\n단수 공천\n-\n바로가기\n\n\n포항 남·울릉\n허대만\n단수 공천\n-\n바로가기\n\n\n구미 갑\n김철호\n경선 공천\n-\n바로가기\n\n\n구미 을\n김현권\n단수 공천\n-\n바로가기\n\n\n경산\n전상헌\n경선 공천\n-\n바로가기\n\n\n김천\n배영애\n단수 공천\n-\n바로가기\n\n\n경주\n정다은\n전략 공천\n-\n바로가기\n\n\n안동·예천\n이삼걸\n단수 공천\n-\n바로가기\n\n\n영천·청도\n정우동\n단수 공천\n-\n바로가기\n\n\n군위·의성·청송·영덕\n강부송\n단수 공천\n-\n바로가기\n\n\n상주·문경\n정용운\n단수 공천\n-\n바로가기\n\n\n영주·영양·봉화·울진\n황재선\n경선 공천\n-\n바로가기\n\n\n고령·성주·칠곡\n장세호\n단수 공천\n-\n바로가기\n\n\n경상남도\n    \n\n창원 의창\n김기운\n경선 공천\n\n바로가기\n\n\n창원 성산\n이흥석\n단수 공천\n\n바로가기\n\n\n창원 마산합포\n박남현\n경선 공천\n\n바로가기\n\n\n창원 마산회원\n하귀남\n단수 공천\n\n바로가기\n\n\n창원 진해\n황기철\n단수 공천\n제30대 해군참모총장\n바로가기\n\n\n진주 갑\n정영훈\n경선 공천\n\n바로가기\n\n\n진주 을\n한경호\n단수 공천\n\n바로가기\n\n\n김해 갑\n민홍철\n단수 공천\n제19·20대 국회의원\n바로가기\n\n\n김해 을\n김정호\n경선 공천\n제20대 국회의원\n바로가기\n\n\n양산 갑\n이재영\n전략 공천\n대외경제정책연구원 원장외교부 정책자문위원\n바로가기\n\n\n양산 을\n김두관\n전략 공천\n제20대 국회의원(경기 김포 갑)제34대 경상남도지사제38·39대 남해군수\n바로가기\n\n\n통영·고성\n양문석\n단수 공천\n\n바로가기\n\n\n거제\n문상모\n경선 공천\n\n바로가기\n\n\n밀양·의령·함안·창녕\n조성환\n단수 공천\n\n바로가기\n\n\n사천·남해·하동\n황인성\n단수 공천\n\n바로가기\n\n\n산청·함양·거창·합천\n서필상\n단수 공천\n\n바로가기\n\n\n제주특별자치도\n    \n\n제주 갑\n송재호\n전략 공천\n\n바로가기\n\n\n제주 을\n오영훈\n경선 공천\n제20대 국회의원\n바로가기\n\n\n서귀포\n위성곤\n단수 공천\n제20대 국회의원\n바로가기"
  },
  {
    "objectID": "precinct.html#데이터셋-1",
    "href": "precinct.html#데이터셋-1",
    "title": "지도제작 대회",
    "section": "\n5.1 데이터셋",
    "text": "5.1 데이터셋\nfuzzyjjoin 함수를 사용해서 매칭을 하고 일부 잘못 매칭된 것은 수작업으로 보정한다.\n\n코드library(fuzzyjoin)\n\nnomination_tbl &lt;- nomination |&gt; \n  mutate(SGG_2 = glue::glue(\"{시도명} {str_remove_all(선거구, '( )|·')}\")) |&gt; \n  select(SGG_2, 후보자, 공천_유형) \n\nprecinct_nomination &lt;- stringdist_left_join(precinct, nomination_tbl, \n                     by = c(\"SGG_2\" = \"SGG_2\"), \n                     method       = \"jw\", \n                     max_dist     = 0.08) \n\nprecinct_nomination\n#&gt;     SGG_Code SGG_1                             SGG_2.x                   SGG_3\n#&gt; 1    2270202  대구                   대구광역시 동구을             대구 동구을\n#&gt; 2    2270101  대구                 대구광역시 중구남구           대구 중구남구\n#&gt; 3    2412001  경기                     경기도 고양시갑             경기 고양갑\n#&gt; 4    2411002  경기               경기도 안양시동안구을         경기 안양동안을\n#&gt; 5    2480802  경남                   경상남도 김해시을             경남 김해을\n#&gt; 6    2410301  경기                     경기도 수원시병             경기 수원병\n#&gt; 7    2280702  인천                 인천광역시 계양구을             인천 계양을\n#&gt; 8    2110601  서울               서울특별시 동대문구갑           서울 동대문갑\n#&gt; 9    2460702  전남 전라남도 순천시광양시곡성군구례군을 전남 순천광양곡성구례을\n#&gt; 10   2440103  충남                   충청남도 천안시병             충남 천안병\n#&gt; 11   2260902  부산               부산광역시 해운대구갑           부산 해운대갑\n#&gt; 12   2310401  울산                     울산광역시 북구               울산 북구\n#&gt; 13   2300402  대전                 대전광역시 유성구갑             대전 유성갑\n#&gt; 14   2300301  대전                   대전광역시 서구갑             대전 서구갑\n#&gt; 15   2413902  경기                     경기도 김포시갑             경기 김포갑\n#&gt; 16   2280602  인천                 인천광역시 부평구을             인천 부평을\n#&gt; 17   2261301  부산             부산광역시 북구강서구을           부산 북강서을\n#&gt; 18   2290401  광주                   광주광역시 북구갑             광주 북구갑\n#&gt; 19   2260701  부산                   부산광역시 남구갑             부산 남구갑\n#&gt; 20   2412803  경기                     경기도 화성시병             경기 화성병\n#&gt; 21   2111902  서울               서울특별시 영등포구을           서울 영등포을\n#&gt; 22   2460201  전남                   전라남도 여수시갑             전남 여수갑\n#&gt; 23   2470401  경북                     경상북도 경주시               경북 경주\n#&gt; 24   2420202  강원                     강원도 원주시갑             강원 원주갑\n#&gt; 25   2420101  강원   강원도 춘천시철원군화천군양구군갑 강원 춘천철원화천양구갑\n#&gt; 26   2111302  서울               서울특별시 서대문구을           서울 서대문을\n#&gt; 27   2413202  경기                     경기도 파주시갑             경기 파주갑\n#&gt; 28   2112301  서울                 서울특별시 강남구갑             서울 강남갑\n#&gt; 29   2451001  전북   전라북도 완주군진안군무주군장수군   전북 완주진안무주장수\n#&gt; 30   2412501  경기                       경기도 구리시               경기 구리\n#&gt; 31   2110702  서울                 서울특별시 중랑구을             서울 중랑을\n#&gt; 32   2310202  울산                   울산광역시 남구을             울산 남구을\n#&gt; 33   2111701  서울                 서울특별시 구로구갑             서울 구로갑\n#&gt; 34   2450101  전북                   전라북도 전주시갑             전북 전주갑\n#&gt; 35   2413801  경기                       경기도 안성시               경기 안성\n#&gt; 36   2412002  경기                     경기도 고양시을             경기 고양을\n#&gt; 37   2111101  서울                 서울특별시 노원구갑             서울 노원갑\n#&gt; 38   2110602  서울               서울특별시 동대문구을           서울 동대문을\n#&gt; 39   2270501  대구                   대구광역시 북구갑             대구 북구갑\n#&gt; 40   2411401  경기                     경기도 광명시갑             경기 광명갑\n#&gt; 41   2450801  전북         전라북도 남원시임실군순창군       전북 남원임실순창\n#&gt; 42   2260903  부산               부산광역시 해운대구을           부산 해운대을\n#&gt; 43   2490102  제주             제주특별자치도 제주시을             제주 제주을\n#&gt; 44   2410701  경기               경기도 성남시분당구갑         경기 성남분당갑\n#&gt; 45   2300403  대전                 대전광역시 유성구을             대전 유성을\n#&gt; 46   2300302  대전                   대전광역시 서구을             대전 서구을\n#&gt; 47   2111001  서울                 서울특별시 도봉구갑             서울 도봉갑\n#&gt; 48   2413903  경기                     경기도 김포시을             경기 김포을\n#&gt; 49   2410101  경기                     경기도 수원시갑             경기 수원갑\n#&gt; 50   2430401  충북               충청북도 제천시단양군           충북 제천단양\n#&gt; 51   2480202  경남           경상남도 창원시마산회원구       경남 창원마산회원\n#&gt; 52   2260702  부산                   부산광역시 남구을             부산 남구을\n#&gt; 53   2481001  경남                     경상남도 거제시               경남 거제\n#&gt; 54   2460202  전남                   전라남도 여수시을             전남 여수을\n#&gt; 55   2300101  대전                     대전광역시 동구               대전 동구\n#&gt; 56   2420203  강원                     강원도 원주시을             강원 원주을\n#&gt; 57   2411001  경기               경기도 안양시동안구갑         경기 안양동안갑\n#&gt; 58   2461201  전남   전라남도 고흥군보성군장흥군강진군   전남 고흥보성장흥강진\n#&gt; 59   2280402  인천                 인천광역시 연수구갑             인천 연수갑\n#&gt; 60   2261101  부산                 부산광역시 사하구갑             부산 사하갑\n#&gt; 61   2413203  경기                     경기도 파주시을             경기 파주을\n#&gt; 62   2112302  서울                 서울특별시 강남구을             서울 강남을\n#&gt; 63   2460601  전남               전라남도 나주시화순군           전남 나주화순\n#&gt; 64   2440102  충남                   충청남도 천안시을             충남 천안을\n#&gt; 65   2481901  경남   경상남도 산청군함양군거창군합천군   경남 산청함양거창합천\n#&gt; 66   2510101  세종     세종특별자치시 세종특별자치시갑           세종 세종시갑\n#&gt; 67   2412603  경기                   경기도 남양주시병           경기 남양주병\n#&gt; 68   2111702  서울                 서울특별시 구로구을             서울 구로을\n#&gt; 69   2462101  전남         전라남도 영암군무안군신안군       전남 영암무안신안\n#&gt; 70   2413602  경기                     경기도 용인시병             경기 용인병\n#&gt; 71   2111102  서울                 서울특별시 노원구을             서울 노원을\n#&gt; 72   2471902  경북   경상북도 군위군의성군청송군영덕군   경북 군위의성청송영덕\n#&gt; 73   2413002  경기                       경기도 군포시               경기 군포\n#&gt; 74   2112101  서울                 서울특별시 관악구갑             서울 관악갑\n#&gt; 75   2270502  대구                   대구광역시 북구을             대구 북구을\n#&gt; 76   2260401  부산               부산광역시 중구영도구         부산 중구영도구\n#&gt; 77   2412301  경기                 경기도 의왕시과천시           경기 의왕과천\n#&gt; 78   2410702  경기               경기도 성남시분당구을         경기 성남분당을\n#&gt; 79   2413401  경기                       경기도 이천시               경기 이천\n#&gt; 80   2414102  경기                 경기도 포천시가평군           경기 포천가평\n#&gt; 81   2111002  서울                 서울특별시 도봉구을             서울 도봉을\n#&gt; 82   2411701  경기               경기도 동두천시연천군         경기 동두천연천\n#&gt; 83   2112001  서울                 서울특별시 동작구갑             서울 동작갑\n#&gt; 84   2110402  서울             서울특별시 중구성동구갑         서울 중구성동갑\n#&gt; 85   2270301  대구                     대구광역시 서구               대구 서구\n#&gt; 86   2440901  충남         충청남도 논산시계룡시금산군       충남 논산계룡금산\n#&gt; 87   2111401  서울                 서울특별시 마포구갑             서울 마포갑\n#&gt; 88   2480901  경남   경상남도 밀양시의령군함안군창녕군   경남 밀양의령함안창녕\n#&gt; 89   2110801  서울                 서울특별시 성북구갑             서울 성북갑\n#&gt; 90   2480301  경남                   경상남도 진주시갑             경남 진주갑\n#&gt; 91   2280403  인천                 인천광역시 연수구을             인천 연수을\n#&gt; 92   2261102  부산                 부산광역시 사하구을             부산 사하을\n#&gt; 93   2110201  서울             서울특별시 중구성동구을         서울 중구성동을\n#&gt; 94   2420102  강원   강원도 춘천시철원군화천군양구군을 강원 춘천철원화천양구을\n#&gt; 95   2112303  서울                 서울특별시 강남구병             서울 강남병\n#&gt; 96   2300501  대전                   대전광역시 대덕구               대전 대덕\n#&gt; 97   2450201  전북                   전라북도 전주시병             전북 전주병\n#&gt; 98   2510102  세종     세종특별자치시 세종특별자치시을           세종 세종시을\n#&gt; 99   2410401  경기                     경기도 수원시정             경기 수원정\n#&gt; 100  2421402  강원     강원도 홍천군횡성군영월군평창군   강원 홍천횡성영월평창\n#&gt; 101  2280802  인천                   인천광역시 서구갑             인천 서구갑\n#&gt; 102  2261501  부산                   부산광역시 수영구               부산 수영\n#&gt; 103  2440501  충남               충청남도 서산시태안군           충남 서산태안\n#&gt; 104  2111103  서울                 서울특별시 노원구병             서울 노원병\n#&gt; 105  2261002  부산                   부산광역시 기장군               부산 기장\n#&gt; 106  2280101  인천         인천광역시 중구강화군옹진군       인천 중구강화옹진\n#&gt; 107  2411301  경기                     경기도 부천시정             경기 부천정\n#&gt; 108  2112102  서울                 서울특별시 관악구을             서울 관악을\n#&gt; 109  2461801  전남         전라남도 해남군완도군진도군       전남 해남완도진도\n#&gt; 110  2414002  경기                     경기도 광주시갑             경기 광주갑\n#&gt; 111  2420301  강원                       강원도 강릉시               강원 강릉\n#&gt; 112  2440301  충남               충청남도 보령시서천군           충남 보령서천\n#&gt; 113  2261401  부산                   부산광역시 연제구               부산 연제\n#&gt; 114  2471302  경북                     경상북도 경산시               경북 경산\n#&gt; 115  2112501  서울                 서울특별시 강동구갑             서울 강동갑\n#&gt; 116  2450102  전북                   전라북도 전주시을             전북 전주을\n#&gt; 117  2260801  부산             부산광역시 북구강서구갑           부산 북강서갑\n#&gt; 118  2440202  충남         충청남도 공주시부여군청양군       충남 공주부여청양\n#&gt; 119  2112002  서울                 서울특별시 동작구을             서울 동작을\n#&gt; 120  2310301  울산                     울산광역시 동구               울산 동구\n#&gt; 121  2440101  충남                   충청남도 천안시갑             충남 천안갑\n#&gt; 122  2260201  부산                 부산광역시 서구동구           부산 서구동구\n#&gt; 123  2470702  경북                   경상북도 구미시을             경북 구미을\n#&gt; 124  2411501  경기                     경기도 평택시갑             경기 평택갑\n#&gt; 125  2111402  서울                 서울특별시 마포구을             서울 마포을\n#&gt; 126  2412101  경기                     경기도 고양시병             경기 고양병\n#&gt; 127  2470601  경북               경상북도 안동시예천군           경북 안동예천\n#&gt; 128  2112401  서울                 서울특별시 송파구갑             서울 송파갑\n#&gt; 129  2110802  서울                 서울특별시 성북구을             서울 성북을\n#&gt; 130  2270701  대구                 대구광역시 달서구갑             대구 달서갑\n#&gt; 131  2480302  경남                   경상남도 진주시을             경남 진주을\n#&gt; 132  2111801  서울                   서울특별시 금천구               서울 금천\n#&gt; 133  2430202  충북               충청북도 청주시흥덕구           충북 청주흥덕\n#&gt; 134  2110101  서울                   서울특별시 종로구               서울 종로\n#&gt; 135  2111201  서울                 서울특별시 은평구갑             서울 은평갑\n#&gt; 136  2431002  충북         충청북도 증평군진천군음성군       충북 증평진천음성\n#&gt; 137  2280803  인천                   인천광역시 서구을             인천 서구을\n#&gt; 138  2471701  경북         경상북도 고령군성주군칠곡군       경북 고령성주칠곡\n#&gt; 139  2270601  대구                 대구광역시 수성구갑             대구 수성갑\n#&gt; 140  2480101  경남               경상남도 창원시의창구           경남 창원의창\n#&gt; 141  2410801  경기                   경기도 의정부시갑           경기 의정부갑\n#&gt; 142  2411101  경기                     경기도 부천시갑             경기 부천갑\n#&gt; 143  2430601  충북               충청북도 청주시청원구           충북 청주청원\n#&gt; 144  2430101  충북               충청북도 청주시상당구           충북 청주상당\n#&gt; 145  2414003  경기                     경기도 광주시을             경기 광주을\n#&gt; 146  2410201  경기                     경기도 수원시을             경기 수원을\n#&gt; 147  2280501  인천                 인천광역시 남동구갑             인천 남동갑\n#&gt; 148  2112502  서울                 서울특별시 강동구을             서울 강동을\n#&gt; 149  2441601  충남                     충청남도 당진시               충남 당진\n#&gt; 150  2290201  광주                   광주광역시 서구갑             광주 서구갑\n#&gt; 151  2300201  대전                     대전광역시 중구               대전 중구\n#&gt; 152  2413701  경기                     경기도 용인시을             경기 용인을\n#&gt; 153  2450502  전북                   전라북도 익산시을             전북 익산을\n#&gt; 154  2261201  부산                   부산광역시 금정구               부산 금정\n#&gt; 155  2112402  서울                 서울특별시 송파구을             서울 송파을\n#&gt; 156  2413101  경기                       경기도 하남시               경기 하남\n#&gt; 157  2270702  대구                 대구광역시 달서구을             대구 달서을\n#&gt; 158  2260601  부산                   부산광역시 동래구               부산 동래\n#&gt; 159  2290502  광주                 광주광역시 광산구을             광주 광산을\n#&gt; 160  2310101  울산                     울산광역시 중구               울산 중구\n#&gt; 161  2470501  경북                     경상북도 김천시               경북 김천\n#&gt; 162  2481403  경남                   경상남도 양산시을             경남 양산을\n#&gt; 163  2111202  서울                 서울특별시 은평구을             서울 은평을\n#&gt; 164  2411901  경기               경기도 안산시단원구갑         경기 안산단원갑\n#&gt; 165  2470901  경북               경상북도 영천시청도군               경북 영천\n#&gt; 166  2112201  서울                 서울특별시 서초구갑             서울 서초갑\n#&gt; 167  2290302  광주               광주광역시 동구남구갑         광주 동구남구갑\n#&gt; 168  2270602  대구                 대구광역시 수성구을             대구 수성을\n#&gt; 169  2110501  서울                 서울특별시 광진구갑             서울 광진갑\n#&gt; 170  2480102  경남               경상남도 창원시성산구           경남 창원성산\n#&gt; 171  2111601  서울                 서울특별시 강서구갑             서울 강서갑\n#&gt; 172  2470802  경북   경상북도 영주시영양군봉화군울진군   경북 영주영양봉화울진\n#&gt; 173  2410802  경기                   경기도 의정부시을           경기 의정부을\n#&gt; 174  2460403  전남 전라남도 순천시광양시곡성군구례군갑 전남 순천광양곡성구례갑\n#&gt; 175  2470701  경북                   경상북도 구미시갑             경북 구미갑\n#&gt; 176  2411801  경기               경기도 안산시상록구갑         경기 안산상록갑\n#&gt; 177  2410202  경기                     경기도 수원시무             경기 수원무\n#&gt; 178  2480501  경남               경상남도 통영시고성군           경남 통영고성\n#&gt; 179  2280502  인천                 인천광역시 남동구을             인천 남동을\n#&gt; 180  2411201  경기                     경기도 부천시병             경기 부천병\n#&gt; 181  2412901  경기                     경기도 시흥시갑             경기 시흥갑\n#&gt; 182  2410601  경기                 경기도 성남시중원구           경기 성남중원\n#&gt; 183  2411502  경기                     경기도 평택시을             경기 평택을\n#&gt; 184  2460101  전남                     전라남도 목포시               전남 목포\n#&gt; 185  2470101  경북                 경상북도 포항시북구           경북 포항북구\n#&gt; 186  2413702  경기                     경기도 용인시정             경기 용인정\n#&gt; 187  2480401  경남               경상남도 창원시진해구           경남 창원진해\n#&gt; 188  2440402  충남                   충청남도 아산시갑             충남 아산갑\n#&gt; 189  2280301  인천           인천광역시 동구미추홀구갑       인천 동구미추홀갑\n#&gt; 190  2112403  서울                 서울특별시 송파구병             서울 송파병\n#&gt; 191  2412701  경기                       경기도 오산시               경기 오산\n#&gt; 192  2430201  충북               충청북도 청주시서원구           충북 청주서원\n#&gt; 193  2270703  대구                 대구광역시 달서구병             대구 달서병\n#&gt; 194  2260501  부산               부산광역시 부산진구갑           부산 부산진갑\n#&gt; 195  2450902  전북               전라북도 김제시부안군           전북 김제부안\n#&gt; 196  2261601  부산                   부산광역시 사상구               부산 사상\n#&gt; 197  2412602  경기                   경기도 남양주시을           경기 남양주을\n#&gt; 198  2413501  경기                     경기도 용인시갑             경기 용인갑\n#&gt; 199  2411902  경기               경기도 안산시단원구을         경기 안산단원을\n#&gt; 200  2411102  경기                     경기도 부천시을             경기 부천을\n#&gt; 201  2112202  서울                 서울특별시 서초구을             서울 서초을\n#&gt; 202  2310501  울산                   울산광역시 울주군               울산 울주\n#&gt; 203  2110502  서울                 서울특별시 광진구을             서울 광진을\n#&gt; 204  2420401  강원     강원도 동해시태백시삼척시정선군   강원 동해태백삼척정선\n#&gt; 205  2111602  서울                 서울특별시 강서구을             서울 강서을\n#&gt; 206  2111501  서울                 서울특별시 양천구갑             서울 양천갑\n#&gt; 207  2450701  전북               전라북도 정읍시고창군           전북 정읍고창\n#&gt; 208  2411802  경기               경기도 안산시상록구을         경기 안산상록을\n#&gt; 209  2110901  서울                 서울특별시 강북구갑             서울 강북갑\n#&gt; 210  2450501  전북                   전라북도 익산시갑             전북 익산갑\n#&gt; 211  2412801  경기                     경기도 화성시갑             경기 화성갑\n#&gt; 212  2110301  서울                   서울특별시 용산구               서울 용산\n#&gt; 213  2290501  광주                 광주광역시 광산구갑             광주 광산갑\n#&gt; 214  2412201  경기                     경기도 고양시정             경기 고양정\n#&gt; 215  2410501  경기                 경기도 성남시수정구           경기 성남수정\n#&gt; 216  2490201  제주             제주특별자치도 서귀포시             제주 서귀포\n#&gt; 217  2270801  대구                   대구광역시 달성군               대구 달성\n#&gt; 218  2290402  광주                   광주광역시 북구을             광주 북구을\n#&gt; 219  2440403  충남                   충청남도 아산시을             충남 아산을\n#&gt; 220  2280302  인천           인천광역시 동구미추홀구을       인천 동구미추홀을\n#&gt; 221  2270201  대구                   대구광역시 동구갑             대구 동구갑\n#&gt; 222  2430701  충북   충청북도 보은군옥천군영동군괴산군   충북 보은옥천영동괴산\n#&gt; 223  2260502  부산               부산광역시 부산진구을           부산 부산진을\n#&gt; 224  2480801  경남                   경상남도 김해시갑             경남 김해갑\n#&gt; 225  2290202  광주                   광주광역시 서구을             광주 서구을\n#&gt; 226  2280701  인천                 인천광역시 계양구갑             인천 계양갑\n#&gt; 227  2290101  광주               광주광역시 동구남구을         광주 동구남구을\n#&gt; 228  2480201  경남           경상남도 창원시마산합포구       경남 창원마산합포\n#&gt; 229  2480702  경남         경상남도 사천시남해군하동군       경남 사천남해하동\n#&gt; 230  2410901  경기                 경기도 안양시만안구           경기 안양만안\n#&gt; 231  2412902  경기                     경기도 시흥시을             경기 시흥을\n#&gt; 232  2490101  제주             제주특별자치도 제주시갑             제주 제주갑\n#&gt; 233  2111603  서울                 서울특별시 강서구병             서울 강서병\n#&gt; 234  2111502  서울                 서울특별시 양천구을             서울 양천을\n#&gt; 235  2280601  인천                 인천광역시 부평구갑             인천 부평갑\n#&gt; 236  2471002  경북               경상북도 상주시문경시           경북 상주문경\n#&gt; 237  2413301  경기                 경기도 여주시양평군           경기 여주양평\n#&gt; 238  2462202  전남   전라남도 담양군함평군영광군장성군   전남 담양함평영광장성\n#&gt; 239  2110902  서울                 서울특별시 강북구을             서울 강북을\n#&gt; 240  2420801  강원     강원도 속초시인제군고성군양양군   강원 속초인제고성양양\n#&gt; 241  2411402  경기                     경기도 광명시을             경기 광명을\n#&gt; 242  2441301  충남               충청남도 홍성군예산군           충남 홍성예산\n#&gt; 243  2412802  경기                     경기도 화성시을             경기 화성을\n#&gt; 244  2111901  서울               서울특별시 영등포구갑           서울 영등포갑\n#&gt; 245  2450301  전북                     전라북도 군산시               전북 군산\n#&gt; 246  2481402  경남                   경상남도 양산시갑             경남 양산갑\n#&gt; 247  2470201  경북           경상북도 포항시남구울릉군         경북 포항남울릉\n#&gt; 248  2111301  서울               서울특별시 서대문구갑           서울 서대문갑\n#&gt; 249  2412601  경기                   경기도 남양주시갑           경기 남양주갑\n#&gt; 250  2411602  경기                       경기도 양주시               경기 양주\n#&gt; 251  2110701  서울                 서울특별시 중랑구갑             서울 중랑갑\n#&gt; 252  2430301  충북                     충청북도 충주시               충북 충주\n#&gt; 253  2310201  울산                   울산광역시 남구갑             울산 남구갑\n#&gt;                         SGG_2.y 후보자      공천_유형\n#&gt; 1               대구광역시 동을 이승천      단수 공천\n#&gt; 2               대구광역시 중남 이재용      단수 공천\n#&gt; 3                 경기도 고양갑 문명순      단수 공천\n#&gt; 4             경기도 안양동안을 이재정      경선 공천\n#&gt; 5               경상남도 김해을 김정호      경선 공천\n#&gt; 6                 경기도 수원병 김영진      단수 공천\n#&gt; 7             인천광역시 계양을 송영길      단수 공천\n#&gt; 8           서울특별시 동대문갑 안규백      단수 공천\n#&gt; 9   전라남도 순천광양곡성구례을 서동용      경선 공천\n#&gt; 10              충청남도 천안병 이정문      경선 공천\n#&gt; 11          부산광역시 해운대갑 유영민      단수 공천\n#&gt; 12                울산광역시 북 이상헌      경선 공천\n#&gt; 13            대전광역시 유성갑 조승래      단수 공천\n#&gt; 14              대전광역시 서갑 박병석      단수 공천\n#&gt; 15                경기도 김포갑 김주영      전략 공천\n#&gt; 16            인천광역시 부평을 홍영표      단수 공천\n#&gt; 17          부산광역시 북강서을 최지은      전략 공천\n#&gt; 18              광주광역시 북갑 조오섭      경선 공천\n#&gt; 19              부산광역시 남갑 강준석      전략 공천\n#&gt; 20                경기도 화성병 권칠승      단수 공천\n#&gt; 21          서울특별시 영등포을 김민석      경선 공천\n#&gt; 22              전라남도 여수갑 주철현      경선 공천\n#&gt; 23                경상북도 경주 정다은      전략 공천\n#&gt; 24                강원도 원주갑 이광재      경선 공천\n#&gt; 25    강원도 춘천철원화천양구갑   허영      경선 공천\n#&gt; 26          서울특별시 서대문을 김영호      단수 공천\n#&gt; 27                경기도 파주갑 윤후덕      경선 공천\n#&gt; 28            서울특별시 강남갑 김성곤      단수 공천\n#&gt; 29    전라북도 완주진안무주장수 안호영      경선 공천\n#&gt; 30                  경기도 구리 윤호중      단수 공천\n#&gt; 31            서울특별시 중랑을 박홍근      단수 공천\n#&gt; 32              울산광역시 남을 박성진      경선 공천\n#&gt; 33            서울특별시 구로갑 이인영      단수 공천\n#&gt; 34              전라북도 전주갑 김윤덕      경선 공천\n#&gt; 35                  경기도 안성 이규민      경선 공천\n#&gt; 36                경기도 고양을 한준호      전략 공천\n#&gt; 37            서울특별시 노원갑 고용진      경선 공천\n#&gt; 38          서울특별시 동대문을 장경태 청년 경선 공천\n#&gt; 39              대구광역시 북갑 이헌태      단수 공천\n#&gt; 40                경기도 광명갑 임오경      전략 공천\n#&gt; 41        전라북도 남원임실순창 이강래      경선 공천\n#&gt; 42          부산광역시 해운대을 윤준호      단수 공천\n#&gt; 43        제주특별자치도 제주을 오영훈      경선 공천\n#&gt; 44            경기도 성남분당갑 김병관      경선 공천\n#&gt; 45            대전광역시 유성을 이상민      경선 공천\n#&gt; 46              대전광역시 서을 박범계      단수 공천\n#&gt; 47            서울특별시 도봉갑 인재근      단수 공천\n#&gt; 48                경기도 김포을 박상혁      경선 공천\n#&gt; 49                경기도 수원갑 김승원      경선 공천\n#&gt; 50            충청북도 제천단양 이후삼      경선 공천\n#&gt; 51        경상남도 창원마산회원 하귀남      단수 공천\n#&gt; 52              부산광역시 남을 박재호      단수 공천\n#&gt; 53                경상남도 거제 문상모      경선 공천\n#&gt; 54              전라남도 여수을 김회재      경선 공천\n#&gt; 55                대전광역시 동 장철민      경선 공천\n#&gt; 56                강원도 원주을 송기헌      단수 공천\n#&gt; 57            경기도 안양동안갑 민병덕      경선 공천\n#&gt; 58    전라남도 고흥보성장흥강진 김승남      경선 공천\n#&gt; 59            인천광역시 연수갑 박찬대      단수 공천\n#&gt; 60            부산광역시 사하갑 최인호      단수 공천\n#&gt; 61                경기도 파주을   박정      단수 공천\n#&gt; 62            서울특별시 강남을 전현희      단수 공천\n#&gt; 63            전라남도 나주화순 신정훈      경선 공천\n#&gt; 64              충청남도 천안을 박완주      단수 공천\n#&gt; 65    경상남도 산청함양거창합천 서필상      단수 공천\n#&gt; 66                         &lt;NA&gt;   &lt;NA&gt;           &lt;NA&gt;\n#&gt; 67              경기도 남양주병 김용민      전략 공천\n#&gt; 68            서울특별시 구로을 윤건영      전략 공천\n#&gt; 69                         &lt;NA&gt;   &lt;NA&gt;           &lt;NA&gt;\n#&gt; 70                경기도 용인병 정춘숙      경선 공천\n#&gt; 71            서울특별시 노원을 우원식      단수 공천\n#&gt; 72    경상북도 군위의성청송영덕 강부송      단수 공천\n#&gt; 73                  경기도 군포 이학영      경선 공천\n#&gt; 74            서울특별시 관악갑 유기홍      경선 공천\n#&gt; 75              대구광역시 북을 홍의락      단수 공천\n#&gt; 76            부산광역시 중영도 김비오      경선 공천\n#&gt; 77              경기도 의왕과천 이소영      전략 공천\n#&gt; 78            경기도 성남분당을 김병욱      단수 공천\n#&gt; 79                  경기도 이천 김용진      경선 공천\n#&gt; 80              경기도 포천가평 이철휘      경선 공천\n#&gt; 81            서울특별시 도봉을 오기형      경선 공천\n#&gt; 82            경기도 동두천연천 서동욱      경선 공천\n#&gt; 83            서울특별시 동작갑 김병기      경선 공천\n#&gt; 84          서울특별시 중성동갑 홍익표      단수 공천\n#&gt; 85                대구광역시 서 윤선진      단수 공천\n#&gt; 86        충청남도 논산계룡금산 김종민      경선 공천\n#&gt; 87            서울특별시 마포갑 노웅래      경선 공천\n#&gt; 88    경상남도 밀양의령함안창녕 조성환      단수 공천\n#&gt; 89            서울특별시 성북갑 김영배      경선 공천\n#&gt; 90              경상남도 진주갑 정영훈      경선 공천\n#&gt; 91            인천광역시 연수을 정일영      경선 공천\n#&gt; 92            부산광역시 사하을 이상호      경선 공천\n#&gt; 93          서울특별시 중성동을 박성준      전략 공천\n#&gt; 94    강원도 춘천철원화천양구을 정만호      경선 공천\n#&gt; 95            서울특별시 강남병 김한규      전략 공천\n#&gt; 96              대전광역시 대덕 박영순      경선 공천\n#&gt; 97              전라북도 전주병 김성주      단수 공천\n#&gt; 98                         &lt;NA&gt;   &lt;NA&gt;           &lt;NA&gt;\n#&gt; 99                경기도 수원정 박광온      단수 공천\n#&gt; 100                        &lt;NA&gt;   &lt;NA&gt;           &lt;NA&gt;\n#&gt; 101             인천광역시 서갑 김교흥      단수 공천\n#&gt; 102             부산광역시 수영 강윤경      단수 공천\n#&gt; 103           충청남도 서산태안 조한기      단수 공천\n#&gt; 104           서울특별시 노원병 김성환      단수 공천\n#&gt; 105             부산광역시 기장 최택용      경선 공천\n#&gt; 106       인천광역시 중강화옹진 조택상      단수 공천\n#&gt; 107               경기도 부천정 서영석      경선 공천\n#&gt; 108           서울특별시 관악을 정태호      경선 공천\n#&gt; 109                        &lt;NA&gt;   &lt;NA&gt;           &lt;NA&gt;\n#&gt; 110               경기도 광주갑 소병훈      경선 공천\n#&gt; 111                 강원도 강릉 김경수      단수 공천\n#&gt; 112           충청남도 보령서천 나소열      단수 공천\n#&gt; 113             부산광역시 연제 김해영      단수 공천\n#&gt; 114               경상북도 경산 전상헌      경선 공천\n#&gt; 115           서울특별시 강동갑 진선미      단수 공천\n#&gt; 116             전라북도 전주을 이상직      경선 공천\n#&gt; 117         부산광역시 북강서갑 전재수      단수 공천\n#&gt; 118       충청남도 공주부여청양 박수현      단수 공천\n#&gt; 119           서울특별시 동작을 이수진      전략 공천\n#&gt; 120               울산광역시 동 김태선      경선 공천\n#&gt; 121             충청남도 천안갑 문진석      전략 공천\n#&gt; 122             부산광역시 서동 이재강      경선 공천\n#&gt; 123             경상북도 구미을 김현권      단수 공천\n#&gt; 124               경기도 평택갑 홍기원      경선 공천\n#&gt; 125           서울특별시 마포을 정청래      단수 공천\n#&gt; 126               경기도 고양병 홍정민      전략 공천\n#&gt; 127           경상북도 안동예천 이삼걸      단수 공천\n#&gt; 128           서울특별시 송파갑 조재희      경선 공천\n#&gt; 129           서울특별시 성북을 기동민      단수 공천\n#&gt; 130           대구광역시 달서갑 권택흥      단수 공천\n#&gt; 131             경상남도 진주을 한경호      단수 공천\n#&gt; 132             서울특별시 금천 최기상      전략 공천\n#&gt; 133           충청북도 청주흥덕 도종환      단수 공천\n#&gt; 134             서울특별시 종로 이낙연      전략 공천\n#&gt; 135           서울특별시 은평갑 박주민      단수 공천\n#&gt; 136       충청북도 증평진천음성 임호선      단수 공천\n#&gt; 137             인천광역시 서을 신동근      단수 공천\n#&gt; 138       경상북도 고령성주칠곡 장세호      단수 공천\n#&gt; 139           대구광역시 수성갑 김부겸      단수 공천\n#&gt; 140           경상남도 창원의창 김기운      경선 공천\n#&gt; 141             경기도 의정부갑 오영환      전략 공천\n#&gt; 142               경기도 부천갑 김경협      단수 공천\n#&gt; 143           충청북도 청주청원 변재일      단수 공천\n#&gt; 144           충청북도 청주상당 정정순      경선 공천\n#&gt; 145               경기도 광주을 임종성      단수 공천\n#&gt; 146               경기도 수원을 백혜련      단수 공천\n#&gt; 147           인천광역시 남동갑 맹성규      단수 공천\n#&gt; 148           서울특별시 강동을 이해식      경선 공천\n#&gt; 149               충청남도 당진 어기구      경선 공천\n#&gt; 150             광주광역시 서갑 송갑석      단수 공천\n#&gt; 151               대전광역시 중 황운하      경선 공천\n#&gt; 152               경기도 용인을 김민기      단수 공천\n#&gt; 153             전라북도 익산을 한병도      경선 공천\n#&gt; 154             부산광역시 금정 박무성      경선 공천\n#&gt; 155           서울특별시 송파을 최재성      단수 공천\n#&gt; 156                 경기도 하남 최종윤      경선 공천\n#&gt; 157           대구광역시 달서을   허소      경선 공천\n#&gt; 158             부산광역시 동래 박성현      단수 공천\n#&gt; 159           광주광역시 광산을 민형배      경선 공천\n#&gt; 160               울산광역시 중 임동호      경선 공천\n#&gt; 161               경상북도 김천 배영애      단수 공천\n#&gt; 162             경상남도 양산을 김두관      전략 공천\n#&gt; 163           서울특별시 은평을 강병원      경선 공천\n#&gt; 164           경기도 안산단원갑 고영인      경선 공천\n#&gt; 165           경상북도 영천청도 정우동      단수 공천\n#&gt; 166           서울특별시 서초갑 이정근      단수 공천\n#&gt; 167           광주광역시 동남갑 윤영덕      경선 공천\n#&gt; 168           대구광역시 수성을 이상식      단수 공천\n#&gt; 169           서울특별시 광진갑 전혜숙      단수 공천\n#&gt; 170           경상남도 창원성산 이흥석      단수 공천\n#&gt; 171           서울특별시 강서갑 강선우      경선 공천\n#&gt; 172   경상북도 영주영양봉화울진 황재선      경선 공천\n#&gt; 173             경기도 의정부을 김민철      경선 공천\n#&gt; 174 전라남도 순천광양곡성구례갑 소병철      전략 공천\n#&gt; 175             경상북도 구미갑 김철호      경선 공천\n#&gt; 176           경기도 안산상록갑 전해철      단수 공천\n#&gt; 177               경기도 수원무 김진표      단수 공천\n#&gt; 178           경상남도 통영고성 양문석      단수 공천\n#&gt; 179           인천광역시 남동을 윤관석      단수 공천\n#&gt; 180               경기도 부천병 김상희      단수 공천\n#&gt; 181               경기도 시흥갑 문정복      경선 공천\n#&gt; 182             경기도 성남중원 윤영찬      경선 공천\n#&gt; 183               경기도 평택을 김현정      전략 공천\n#&gt; 184               전라남도 목포 김원이      경선 공천\n#&gt; 185             경상북도 포항북 오중기      단수 공천\n#&gt; 186               경기도 용인정 이탄희      전략 공천\n#&gt; 187           경상남도 창원진해 황기철      단수 공천\n#&gt; 188             충청남도 아산갑 복기왕      단수 공천\n#&gt; 189       인천광역시 동미추홀갑 허종식      단수 공천\n#&gt; 190           서울특별시 송파병 남인순      단수 공천\n#&gt; 191                 경기도 오산 안민석      단수 공천\n#&gt; 192           충청북도 청주서원 이장섭      경선 공천\n#&gt; 193           대구광역시 달서병 김대진      단수 공천\n#&gt; 194         부산광역시 부산진갑 김영춘      단수 공천\n#&gt; 195           전라북도 김제부안 이원택      단수 공천\n#&gt; 196             부산광역시 사상 배재정      단수 공천\n#&gt; 197             경기도 남양주을 김한정      경선 공천\n#&gt; 198               경기도 용인갑 오세영      경선 공천\n#&gt; 199           경기도 안산단원을 김남국      전략 공천\n#&gt; 200               경기도 부천을   설훈      경선 공천\n#&gt; 201           서울특별시 서초을 박경미      경선 공천\n#&gt; 202             울산광역시 울주 김영문      단수 공천\n#&gt; 203           서울특별시 광진을 고민정      전략 공천\n#&gt; 204                        &lt;NA&gt;   &lt;NA&gt;           &lt;NA&gt;\n#&gt; 205           서울특별시 강서을 진성준      단수 공천\n#&gt; 206           서울특별시 양천갑   황희      단수 공천\n#&gt; 207           전라북도 정읍고창 윤준병      단수 공천\n#&gt; 208           경기도 안산상록을 김철민      단수 공천\n#&gt; 209           서울특별시 강북갑 천준호      경선 공천\n#&gt; 210             전라북도 익산갑 김수흥      경선 공천\n#&gt; 211               경기도 화성갑 송옥주      경선 공천\n#&gt; 212             서울특별시 용산 강태웅      전략 공천\n#&gt; 213           광주광역시 광산갑 이용빈      단수 공천\n#&gt; 214               경기도 고양정 이용우      전략 공천\n#&gt; 215             경기도 성남수정 김태년      단수 공천\n#&gt; 216       제주특별자치도 서귀포 위성곤      단수 공천\n#&gt; 217             대구광역시 달성 박형룡      경선 공천\n#&gt; 218             광주광역시 북을   형석      경선 공천\n#&gt; 219             충청남도 아산을 강훈식      단수 공천\n#&gt; 220       인천광역시 동미추홀을 남영희      경선 공천\n#&gt; 221             대구광역시 동갑 서재헌      단수 공천\n#&gt; 222   충청북도 보은옥천영동괴산 곽상언      경선 공천\n#&gt; 223         부산광역시 부산진을 류영진      경선 공천\n#&gt; 224             경상남도 김해갑 민홍철      단수 공천\n#&gt; 225             광주광역시 서을 양향자      경선 공천\n#&gt; 226           인천광역시 계양갑 유동수      단수 공천\n#&gt; 227           광주광역시 동남을 이병훈      경선 공천\n#&gt; 228       경상남도 창원마산합포 박남현      경선 공천\n#&gt; 229       경상남도 사천남해하동 황인성      단수 공천\n#&gt; 230             경기도 안양만안 강득구      경선 공천\n#&gt; 231               경기도 시흥을 조정식      단수 공천\n#&gt; 232       제주특별자치도 제주갑 송재호      전략 공천\n#&gt; 233           서울특별시 강서병 한정애      단수 공천\n#&gt; 234           서울특별시 양천을 이용선      단수 공천\n#&gt; 235           인천광역시 부평갑 이성만      경선 공천\n#&gt; 236           경상북도 상주문경 정용운      단수 공천\n#&gt; 237             경기도 여주양평 최재관      경선 공천\n#&gt; 238   전라남도 담양함평영광장성 이개호      단수 공천\n#&gt; 239           서울특별시 강북을 박용진      단수 공천\n#&gt; 240                        &lt;NA&gt;   &lt;NA&gt;           &lt;NA&gt;\n#&gt; 241               경기도 광명을 양기대      경선 공천\n#&gt; 242           충청남도 홍성예산 김학민      경선 공천\n#&gt; 243               경기도 화성을 이원욱      단수 공천\n#&gt; 244         서울특별시 영등포갑 김영주      단수 공천\n#&gt; 245               전라북도 군산 신영대      단수 공천\n#&gt; 246             경상남도 양산갑 이재영      전략 공천\n#&gt; 247         경상북도 포항남울릉 허대만      단수 공천\n#&gt; 248         서울특별시 서대문갑 우상호      단수 공천\n#&gt; 249             경기도 남양주갑 조응천      경선 공천\n#&gt; 250                 경기도 양주 정성호      단수 공천\n#&gt; 251           서울특별시 중랑갑 서영교      경선 공천\n#&gt; 252               충청북도 충주 김경욱      단수 공천\n#&gt; 253             울산광역시 남갑 심규명      경선 공천\n#&gt;                           geometry\n#&gt; 1   MULTIPOLYGON (((128.704 35....\n#&gt; 2   MULTIPOLYGON (((128.6067 35...\n#&gt; 3   MULTIPOLYGON (((126.8484 37...\n#&gt; 4   MULTIPOLYGON (((126.9658 37...\n#&gt; 5   MULTIPOLYGON (((128.8736 35...\n#&gt; 6   MULTIPOLYGON (((127.0404 37...\n#&gt; 7   MULTIPOLYGON (((126.7446 37...\n#&gt; 8   MULTIPOLYGON (((127.0707 37...\n#&gt; 9   MULTIPOLYGON (((127.7848 34...\n#&gt; 10  MULTIPOLYGON (((127.1277 36...\n#&gt; 11  MULTIPOLYGON (((129.1528 35...\n#&gt; 12  MULTIPOLYGON (((129.4077 35...\n#&gt; 13  MULTIPOLYGON (((127.3382 36...\n#&gt; 14  MULTIPOLYGON (((127.3845 36...\n#&gt; 15  MULTIPOLYGON (((126.7245 37...\n#&gt; 16  MULTIPOLYGON (((126.7089 37...\n#&gt; 17  MULTIPOLYGON (((128.8348 35...\n#&gt; 18  MULTIPOLYGON (((126.9435 35...\n#&gt; 19  MULTIPOLYGON (((129.1049 35...\n#&gt; 20  MULTIPOLYGON (((127.0504 37...\n#&gt; 21  MULTIPOLYGON (((126.9063 37...\n#&gt; 22  MULTIPOLYGON (((127.3747 34...\n#&gt; 23  MULTIPOLYGON (((129.4817 35...\n#&gt; 24  MULTIPOLYGON (((127.938 37....\n#&gt; 25  MULTIPOLYGON (((127.6416 37...\n#&gt; 26  MULTIPOLYGON (((126.9219 37...\n#&gt; 27  MULTIPOLYGON (((126.7738 37...\n#&gt; 28  MULTIPOLYGON (((127.0525 37...\n#&gt; 29  MULTIPOLYGON (((127.0499 35...\n#&gt; 30  MULTIPOLYGON (((127.1647 37...\n#&gt; 31  MULTIPOLYGON (((127.0803 37...\n#&gt; 32  MULTIPOLYGON (((129.3623 35...\n#&gt; 33  MULTIPOLYGON (((126.8318 37...\n#&gt; 34  MULTIPOLYGON (((127.1534 35...\n#&gt; 35  MULTIPOLYGON (((127.2966 36...\n#&gt; 36  MULTIPOLYGON (((126.8822 37...\n#&gt; 37  MULTIPOLYGON (((127.068 37....\n#&gt; 38  MULTIPOLYGON (((127.0786 37...\n#&gt; 39  MULTIPOLYGON (((128.6068 35...\n#&gt; 40  MULTIPOLYGON (((126.8739 37...\n#&gt; 41  MULTIPOLYGON (((127.1861 35...\n#&gt; 42  MULTIPOLYGON (((129.1437 35...\n#&gt; 43  MULTIPOLYGON (((126.9583 33...\n#&gt; 44  MULTIPOLYGON (((127.0785 37...\n#&gt; 45  MULTIPOLYGON (((127.415 36....\n#&gt; 46  MULTIPOLYGON (((127.3618 36...\n#&gt; 47  MULTIPOLYGON (((127.0464 37...\n#&gt; 48  MULTIPOLYGON (((126.5503 37...\n#&gt; 49  MULTIPOLYGON (((127.0176 37...\n#&gt; 50  MULTIPOLYGON (((128.4419 36...\n#&gt; 51  MULTIPOLYGON (((128.6069 35...\n#&gt; 52  MULTIPOLYGON (((129.1272 35...\n#&gt; 53  MULTIPOLYGON (((128.6248 34...\n#&gt; 54  MULTIPOLYGON (((127.7238 34...\n#&gt; 55  MULTIPOLYGON (((127.489 36....\n#&gt; 56  MULTIPOLYGON (((128.1141 37...\n#&gt; 57  MULTIPOLYGON (((126.951 37....\n#&gt; 58  MULTIPOLYGON (((127.2771 34...\n#&gt; 59  MULTIPOLYGON (((126.6855 37...\n#&gt; 60  MULTIPOLYGON (((128.9713 35...\n#&gt; 61  MULTIPOLYGON (((126.7994 37...\n#&gt; 62  MULTIPOLYGON (((127.111 37....\n#&gt; 63  MULTIPOLYGON (((126.5827 34...\n#&gt; 64  MULTIPOLYGON (((127.1202 36...\n#&gt; 65  MULTIPOLYGON (((127.8642 35...\n#&gt; 66  MULTIPOLYGON (((127.3613 36...\n#&gt; 67  MULTIPOLYGON (((127.3453 37...\n#&gt; 68  MULTIPOLYGON (((126.8954 37...\n#&gt; 69  MULTIPOLYGON (((125.1028 34...\n#&gt; 70  MULTIPOLYGON (((127.0832 37...\n#&gt; 71  MULTIPOLYGON (((127.0703 37...\n#&gt; 72  MULTIPOLYGON (((129.3805 36...\n#&gt; 73  MULTIPOLYGON (((126.9539 37...\n#&gt; 74  MULTIPOLYGON (((126.9817 37...\n#&gt; 75  MULTIPOLYGON (((128.5728 35...\n#&gt; 76  MULTIPOLYGON (((129.0817 35...\n#&gt; 77  MULTIPOLYGON (((126.9712 37...\n#&gt; 78  MULTIPOLYGON (((127.1317 37...\n#&gt; 79  MULTIPOLYGON (((127.6007 37...\n#&gt; 80  MULTIPOLYGON (((127.1809 37...\n#&gt; 81  MULTIPOLYGON (((127.0333 37...\n#&gt; 82  MULTIPOLYGON (((126.8955 37...\n#&gt; 83  MULTIPOLYGON (((126.916 37....\n#&gt; 84  MULTIPOLYGON (((127.0628 37...\n#&gt; 85  MULTIPOLYGON (((128.5572 35...\n#&gt; 86  MULTIPOLYGON (((127.1513 36...\n#&gt; 87  MULTIPOLYGON (((126.9564 37...\n#&gt; 88  MULTIPOLYGON (((128.4742 35...\n#&gt; 89  MULTIPOLYGON (((127.0245 37...\n#&gt; 90  MULTIPOLYGON (((128.2412 35...\n#&gt; 91  MULTIPOLYGON (((126.6678 37...\n#&gt; 92  MULTIPOLYGON (((128.9727 35...\n#&gt; 93  MULTIPOLYGON (((127.0257 37...\n#&gt; 94  MULTIPOLYGON (((127.9556 37...\n#&gt; 95  MULTIPOLYGON (((127.0566 37...\n#&gt; 96  MULTIPOLYGON (((127.4276 36...\n#&gt; 97  MULTIPOLYGON (((127.0704 35...\n#&gt; 98  MULTIPOLYGON (((127.2531 36...\n#&gt; 99  MULTIPOLYGON (((127.0834 37...\n#&gt; 100 MULTIPOLYGON (((127.9285 37...\n#&gt; 101 MULTIPOLYGON (((126.6948 37...\n#&gt; 102 MULTIPOLYGON (((129.1156 35...\n#&gt; 103 MULTIPOLYGON (((126.2142 36...\n#&gt; 104 MULTIPOLYGON (((127.0716 37...\n#&gt; 105 MULTIPOLYGON (((129.2529 35...\n#&gt; 106 MULTIPOLYGON (((125.9826 37...\n#&gt; 107 MULTIPOLYGON (((126.7987 37...\n#&gt; 108 MULTIPOLYGON (((126.9525 37...\n#&gt; 109 MULTIPOLYGON (((126.9308 33...\n#&gt; 110 MULTIPOLYGON (((127.252 37....\n#&gt; 111 MULTIPOLYGON (((129.0567 37...\n#&gt; 112 MULTIPOLYGON (((126.6032 35...\n#&gt; 113 MULTIPOLYGON (((129.0673 35...\n#&gt; 114 MULTIPOLYGON (((128.8752 35...\n#&gt; 115 MULTIPOLYGON (((127.1604 37...\n#&gt; 116 MULTIPOLYGON (((127.1235 35...\n#&gt; 117 MULTIPOLYGON (((129.0515 35...\n#&gt; 118 MULTIPOLYGON (((126.8903 36...\n#&gt; 119 MULTIPOLYGON (((126.9821 37...\n#&gt; 120 MULTIPOLYGON (((129.4381 35...\n#&gt; 121 MULTIPOLYGON (((127.401 36....\n#&gt; 122 MULTIPOLYGON (((129.016 35....\n#&gt; 123 MULTIPOLYGON (((128.4788 36...\n#&gt; 124 MULTIPOLYGON (((127.0875 36...\n#&gt; 125 MULTIPOLYGON (((126.9341 37...\n#&gt; 126 MULTIPOLYGON (((126.7761 37...\n#&gt; 127 MULTIPOLYGON (((128.3618 36...\n#&gt; 128 MULTIPOLYGON (((127.1224 37...\n#&gt; 129 MULTIPOLYGON (((127.0408 37...\n#&gt; 130 MULTIPOLYGON (((128.5307 35...\n#&gt; 131 MULTIPOLYGON (((128.1308 35...\n#&gt; 132 MULTIPOLYGON (((126.9152 37...\n#&gt; 133 MULTIPOLYGON (((127.3898 36...\n#&gt; 134 MULTIPOLYGON (((126.969 37....\n#&gt; 135 MULTIPOLYGON (((126.9131 37...\n#&gt; 136 MULTIPOLYGON (((127.6245 36...\n#&gt; 137 MULTIPOLYGON (((126.5683 37...\n#&gt; 138 MULTIPOLYGON (((128.3588 35...\n#&gt; 139 MULTIPOLYGON (((128.7233 35...\n#&gt; 140 MULTIPOLYGON (((128.6939 35...\n#&gt; 141 MULTIPOLYGON (((127.0504 37...\n#&gt; 142 MULTIPOLYGON (((126.7917 37...\n#&gt; 143 MULTIPOLYGON (((127.5051 36...\n#&gt; 144 MULTIPOLYGON (((127.5652 36...\n#&gt; 145 MULTIPOLYGON (((127.3636 37...\n#&gt; 146 MULTIPOLYGON (((127.001 37....\n#&gt; 147 MULTIPOLYGON (((126.7384 37...\n#&gt; 148 MULTIPOLYGON (((127.1458 37...\n#&gt; 149 MULTIPOLYGON (((126.4529 37...\n#&gt; 150 MULTIPOLYGON (((126.8559 35...\n#&gt; 151 MULTIPOLYGON (((127.4402 36...\n#&gt; 152 MULTIPOLYGON (((127.1498 37...\n#&gt; 153 MULTIPOLYGON (((126.9942 35...\n#&gt; 154 MULTIPOLYGON (((129.1103 35...\n#&gt; 155 MULTIPOLYGON (((127.1211 37...\n#&gt; 156 MULTIPOLYGON (((127.1758 37...\n#&gt; 157 MULTIPOLYGON (((128.584 35....\n#&gt; 158 MULTIPOLYGON (((129.0665 35...\n#&gt; 159 MULTIPOLYGON (((126.8408 35...\n#&gt; 160 MULTIPOLYGON (((129.354 35....\n#&gt; 161 MULTIPOLYGON (((128.0516 35...\n#&gt; 162 MULTIPOLYGON (((129.1945 35...\n#&gt; 163 MULTIPOLYGON (((126.9173 37...\n#&gt; 164 MULTIPOLYGON (((126.8057 37...\n#&gt; 165 MULTIPOLYGON (((128.6913 35...\n#&gt; 166 MULTIPOLYGON (((127.0022 37...\n#&gt; 167 MULTIPOLYGON (((126.8993 35...\n#&gt; 168 MULTIPOLYGON (((128.6542 35...\n#&gt; 169 MULTIPOLYGON (((127.1138 37...\n#&gt; 170 MULTIPOLYGON (((128.7229 35...\n#&gt; 171 MULTIPOLYGON (((126.8585 37...\n#&gt; 172 MULTIPOLYGON (((128.7434 36...\n#&gt; 173 MULTIPOLYGON (((127.0832 37...\n#&gt; 174 MULTIPOLYGON (((127.5192 34...\n#&gt; 175 MULTIPOLYGON (((128.3826 36...\n#&gt; 176 MULTIPOLYGON (((126.8984 37...\n#&gt; 177 MULTIPOLYGON (((127.0662 37...\n#&gt; 178 MULTIPOLYGON (((128.4361 34...\n#&gt; 179 MULTIPOLYGON (((126.761 37....\n#&gt; 180 MULTIPOLYGON (((126.8001 37...\n#&gt; 181 MULTIPOLYGON (((126.8237 37...\n#&gt; 182 MULTIPOLYGON (((127.1944 37...\n#&gt; 183 MULTIPOLYGON (((127.0827 36...\n#&gt; 184 MULTIPOLYGON (((126.2964 34...\n#&gt; 185 MULTIPOLYGON (((129.3703 36...\n#&gt; 186 MULTIPOLYGON (((127.0899 37...\n#&gt; 187 MULTIPOLYGON (((128.6719 35...\n#&gt; 188 MULTIPOLYGON (((126.9461 36...\n#&gt; 189 MULTIPOLYGON (((126.6503 37...\n#&gt; 190 MULTIPOLYGON (((127.1577 37...\n#&gt; 191 MULTIPOLYGON (((127.1009 37...\n#&gt; 192 MULTIPOLYGON (((127.4834 36...\n#&gt; 193 MULTIPOLYGON (((128.5682 35...\n#&gt; 194 MULTIPOLYGON (((129.0494 35...\n#&gt; 195 MULTIPOLYGON (((126.2458 35...\n#&gt; 196 MULTIPOLYGON (((128.9877 35...\n#&gt; 197 MULTIPOLYGON (((127.1438 37...\n#&gt; 198 MULTIPOLYGON (((127.1887 37...\n#&gt; 199 MULTIPOLYGON (((126.4693 37...\n#&gt; 200 MULTIPOLYGON (((126.7704 37...\n#&gt; 201 MULTIPOLYGON (((126.9963 37...\n#&gt; 202 MULTIPOLYGON (((129.3465 35...\n#&gt; 203 MULTIPOLYGON (((127.0923 37...\n#&gt; 204 MULTIPOLYGON (((128.7476 37...\n#&gt; 205 MULTIPOLYGON (((126.827 37....\n#&gt; 206 MULTIPOLYGON (((126.8735 37...\n#&gt; 207 MULTIPOLYGON (((126.4823 35...\n#&gt; 208 MULTIPOLYGON (((126.8745 37...\n#&gt; 209 MULTIPOLYGON (((127.0385 37...\n#&gt; 210 MULTIPOLYGON (((126.9414 35...\n#&gt; 211 MULTIPOLYGON (((126.5399 37...\n#&gt; 212 MULTIPOLYGON (((126.9825 37...\n#&gt; 213 MULTIPOLYGON (((126.8004 35...\n#&gt; 214 MULTIPOLYGON (((126.751 37....\n#&gt; 215 MULTIPOLYGON (((127.1178 37...\n#&gt; 216 MULTIPOLYGON (((126.27 33.1...\n#&gt; 217 MULTIPOLYGON (((128.5041 35...\n#&gt; 218 MULTIPOLYGON (((126.8757 35...\n#&gt; 219 MULTIPOLYGON (((127.0486 36...\n#&gt; 220 MULTIPOLYGON (((126.6949 37...\n#&gt; 221 MULTIPOLYGON (((128.6186 35...\n#&gt; 222 MULTIPOLYGON (((127.8494 36...\n#&gt; 223 MULTIPOLYGON (((129.0633 35...\n#&gt; 224 MULTIPOLYGON (((128.8972 35...\n#&gt; 225 MULTIPOLYGON (((126.8322 35...\n#&gt; 226 MULTIPOLYGON (((126.7342 37...\n#&gt; 227 MULTIPOLYGON (((126.9943 35...\n#&gt; 228 MULTIPOLYGON (((128.4933 35...\n#&gt; 229 MULTIPOLYGON (((128.0633 34...\n#&gt; 230 MULTIPOLYGON (((126.9315 37...\n#&gt; 231 MULTIPOLYGON (((126.7913 37...\n#&gt; 232 MULTIPOLYGON (((126.1496 33...\n#&gt; 233 MULTIPOLYGON (((126.8635 37...\n#&gt; 234 MULTIPOLYGON (((126.8525 37...\n#&gt; 235 MULTIPOLYGON (((126.7096 37...\n#&gt; 236 MULTIPOLYGON (((128.1724 36...\n#&gt; 237 MULTIPOLYGON (((127.7464 37...\n#&gt; 238 MULTIPOLYGON (((126.3571 35...\n#&gt; 239 MULTIPOLYGON (((127.022 37....\n#&gt; 240 MULTIPOLYGON (((128.4126 37...\n#&gt; 241 MULTIPOLYGON (((126.8958 37...\n#&gt; 242 MULTIPOLYGON (((126.4408 36...\n#&gt; 243 MULTIPOLYGON (((127.1523 37...\n#&gt; 244 MULTIPOLYGON (((126.9102 37...\n#&gt; 245 MULTIPOLYGON (((126.5333 35...\n#&gt; 246 MULTIPOLYGON (((129.0268 35...\n#&gt; 247 MULTIPOLYGON (((131.8703 37...\n#&gt; 248 MULTIPOLYGON (((126.9621 37...\n#&gt; 249 MULTIPOLYGON (((127.2582 37...\n#&gt; 250 MULTIPOLYGON (((127.0021 37...\n#&gt; 251 MULTIPOLYGON (((127.0958 37...\n#&gt; 252 MULTIPOLYGON (((128.0385 36...\n#&gt; 253 MULTIPOLYGON (((129.3129 35...\n\n\n\n코드xfun::embed_file('data/precinct_nomination.xlsx')\n\nDownload precinct_nomination.xlsx"
  },
  {
    "objectID": "precinct.html#지도-시각화",
    "href": "precinct.html#지도-시각화",
    "title": "지도제작 대회",
    "section": "\n5.2 지도 시각화",
    "text": "5.2 지도 시각화\n민주당 후보와 공천유형에 대한 데이터 준비를 한 후에 공간정보 시각화를 위해서 지도데이터와 매핑 작업을 수행한 후에 전국과 수도권 지도를 결합시켜 시각화 결과물을 마무리한다.\n\n코드extrafont::loadfonts()\n\nprecinct_nomination_tbl &lt;- readxl::read_excel(\"data/precinct_nomination.xlsx\") \n\nprecinct_nomination_sf &lt;- left_join(precinct |&gt; select(SGG_Code, geometry), \n                                    precinct_nomination_tbl, by = \"SGG_Code\")\n\n\nnomination_type_gg &lt;- ggplot() +\n  geom_sf(data = precinct_nomination_sf, \n          aes(geometry = geometry, fill = 공천_유형)) +\n  theme_void(base_family = \"MaruBuri\") +\n  theme(legend.position = \"left\") +\n  scale_fill_manual(values = c(\"경선 공천\" = \"gray90\",\n                               \"단수 공천\" = \"red\",\n                               \"전략 공천\" = \"pink\",\n                               \"청년 경선 공천\" = \"black\")) +\n  labs(title = \"대한민국 제21대 국회의원 선거 더불어민주당 후보\",\n       caption = \"자료출처: 위키백과\")\n\n  \nmetro_bb &lt;- precinct_nomination_sf |&gt; \n  filter(SGG_1 == \"경기\") |&gt; st_bbox()\n\nmetro_nomination_type_gg &lt;- ggplot() +\n  geom_sf(data = precinct_nomination_sf |&gt; filter(SGG_1 %in% c(\"서울\", \"경기\")), \n          aes(geometry = geometry, fill = 공천_유형)) +\n  theme_void(base_family = \"MaruBuri\") + \n  coord_sf(xlim = c(metro_bb['xmin'], metro_bb['xmax']),\n           ylim = c(metro_bb['ymin'], metro_bb['ymax']), expand = FALSE) +\n  theme(legend.position = \"none\") +\n  scale_fill_manual(values = c(\"경선 공천\" = \"gray90\",\n                               \"단수 공천\" = \"red\",\n                               \"전략 공천\" = \"pink\",\n                               \"청년 경선 공천\" = \"black\")) +\n    ggrepel::geom_text_repel(\n      data = precinct_nomination_sf |&gt; filter(SGG_1 %in% c(\"서울\", \"경기\")) |&gt; \n        mutate(SGG_3 = glue::glue(\"{ifelse(str_detect(공천_유형,'단수'), SGG_3, '')}\")),\n        aes(label = SGG_3, geometry = geometry), stat = \"sf_coordinates\", \n        min.segment.length = 1, size = 4, max.overlaps = Inf\n    ) \n\nlibrary(patchwork)\n\nnomination_type_final &lt;- nomination_type_gg + metro_nomination_type_gg +\n  plot_layout(widths = c(1, 2))\n\nnomination_type_final\n\n\n\n\n\n\n코드\n# ragg::agg_jpeg(\"images/민주당_후보_공천.jpeg\", \n#               width = 10, height = 7, units = \"in\", res = 600)\n# nomination_type_final\n# dev.off()"
  },
  {
    "objectID": "precinct.html#전국",
    "href": "precinct.html#전국",
    "title": "지도제작 대회",
    "section": "\n6.1 전국",
    "text": "6.1 전국\n\n코드library(geogrid)\nlibrary(ggrepel)\n\nprecinct_cells &lt;-  calculate_grid(precinct, 0.1, 'hexagonal')\nprecinct_hex &lt;- assign_polygons(precinct, precinct_cells)\n\nprecinct_hex |&gt; \n  write_rds(\"data/precinct_hex.rds\")\n\n\n\n코드precinct_hex &lt;- \n  read_rds(\"data/precinct_hex.rds\")\n\nprecinct_hex |&gt; \n  ggplot() +\n    geom_sf()"
  },
  {
    "objectID": "precinct.html#서울",
    "href": "precinct.html#서울",
    "title": "지도제작 대회",
    "section": "\n6.2 서울",
    "text": "6.2 서울\n\n코드sf_use_s2(FALSE)\n\ncentroids &lt;- precinct |&gt; \n  st_centroid() |&gt; \n  st_coordinates() %&gt;% \n  as_tibble()\n\nprecinct_centroids &lt;- precinct |&gt; \n  st_drop_geometry() |&gt; \n  as_tibble() |&gt; \n  bind_cols(centroids)\n\nprecinct_centroids\n#&gt; # A tibble: 253 × 6\n#&gt;    SGG_Code SGG_1 SGG_2                               SGG_3              X     Y\n#&gt;       &lt;int&gt; &lt;chr&gt; &lt;chr&gt;                               &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;\n#&gt;  1  2270202 대구  대구광역시 동구을                   대구 동구을     129.  35.9\n#&gt;  2  2270101 대구  대구광역시 중구남구                 대구 중구남구   129.  35.8\n#&gt;  3  2412001 경기  경기도 고양시갑                     경기 고양갑     127.  37.7\n#&gt;  4  2411002 경기  경기도 안양시동안구을               경기 안양동안…  127.  37.4\n#&gt;  5  2480802 경남  경상남도 김해시을                   경남 김해을     129.  35.2\n#&gt;  6  2410301 경기  경기도 수원시병                     경기 수원병     127.  37.3\n#&gt;  7  2280702 인천  인천광역시 계양구을                 인천 계양을     127.  37.6\n#&gt;  8  2110601 서울  서울특별시 동대문구갑               서울 동대문갑   127.  37.6\n#&gt;  9  2460702 전남  전라남도 순천시광양시곡성군구례군을 전남 순천광양…  127.  35.2\n#&gt; 10  2440103 충남  충청남도 천안시병                   충남 천안병     127.  36.7\n#&gt; # ℹ 243 more rows\n\n\n\n코드library(geogrid)\nlibrary(ggrepel)\n\nseoul_precinct &lt;- precinct |&gt; filter(SGG_1 == \"서울\")\n\nseoul_precinct_cells &lt;-  calculate_grid(shape=seoul_precinct, grid_type='hexagonal')\nseoul_precinct_hex &lt;- assign_polygons(seoul_precinct, seoul_precinct_cells)\n\nseoul_centroids_tbl &lt;- seoul_precinct_hex |&gt; \n  st_centroid() |&gt; \n  st_coordinates() |&gt; \n  as_tibble() |&gt; \n  bind_cols(seoul_precinct_hex |&gt; st_drop_geometry()) |&gt; \n  mutate(SGG_3 = str_remove(SGG_3, \"서울\\\\s+\"))\n\nseoul_precinct_hex |&gt;\n  st_buffer(0.001) |&gt; \n  st_union() %&gt;%\n  st_boundary() %&gt;%\n  ggplot() +\n    geom_sf( lwd = 2 ) +\n    geom_sf(data = seoul_precinct_hex) +\n    geom_text(\n      data = seoul_centroids_tbl,\n        aes(x = X, y = Y, label = SGG_3), size = 4\n    )"
  },
  {
    "objectID": "precinct.html#수도권",
    "href": "precinct.html#수도권",
    "title": "지도제작 대회",
    "section": "\n6.3 수도권",
    "text": "6.3 수도권\n\n코드metro_precinct &lt;- precinct |&gt; filter(SGG_1 %in% c(\"서울\", \"경기\", \"인천\"))\n\nmetro_precinct_cells &lt;-  calculate_grid(shape = metro_precinct, grid_type='hexagonal')\nmetro_precinct_hex &lt;- assign_polygons(metro_precinct, metro_precinct_cells)\n\n\nmetro_centroids_tbl &lt;- metro_precinct_hex |&gt; \n  st_centroid() |&gt; \n  st_coordinates() |&gt; \n  as_tibble() |&gt; \n  bind_cols(metro_precinct_hex |&gt; st_drop_geometry()) |&gt; \n  mutate(SGG_3 = str_remove(SGG_3, \"(서울)|(경기)|(인천)\\\\s+\"))\n\nseoul_boundary_hex &lt;- metro_precinct_hex |&gt;\n  filter(SGG_1 == \"서울\") |&gt; \n  st_buffer(0.01) |&gt; \n  st_union() %&gt;%\n  st_boundary() \n\nmetro_precinct_hex |&gt;\n  st_buffer(0.001) |&gt; \n  st_union() %&gt;%\n  st_boundary() %&gt;%\n  ggplot() +\n    geom_sf( lwd = 2 ) +\n    geom_sf(data = metro_precinct_hex, fill = \"transparent\") +\n    geom_sf(data = seoul_boundary_hex, color = \"blue\", fill = \"skyblue\", lwd = 3) +\n    geom_text(\n      data = metro_centroids_tbl,\n        aes(x = X, y = Y, label = SGG_3), size = 3\n    )"
  },
  {
    "objectID": "cartogram.html",
    "href": "cartogram.html",
    "title": "지도제작 대회",
    "section": "",
    "text": "1 데이터셋\n\n코드library(tidyverse)\nlibrary(rvest)\nlibrary(httr)\nlibrary(sf)\nlibrary(geogrid)\nsf_use_s2(FALSE)\n\nprecinct_sf &lt;- st_read(\"data/2020_21_elec_253.json\")\n\nsido_sf &lt;- precinct_sf |&gt; \n  # filter(SGG_1 == \"부산\") |&gt; \n  calculate_grid(grid_type=\"hexagonal\", learning_rate = 0.05, seed=20)\n\nplot(sido_sf)\n\nsido_hex &lt;- assign_polygons(precinct_sf, sido_sf)\n\n\n\n코드# sido_hex |&gt; \n#   st_write(\"data/precinct_21.geojson\")\n\nsido_hex &lt;- \n  st_read(\"data/precinct_21.geojson\")\n#&gt; Reading layer `precinct_21' from data source \n#&gt;   `D:\\tcs\\map_challenge\\data\\precinct_21.geojson' using driver `GeoJSON'\n#&gt; Simple feature collection with 253 features and 12 fields\n#&gt; Geometry type: POLYGON\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: 125.9417 ymin: 33.08693 xmax: 130.9774 ymax: 38.53052\n#&gt; Geodetic CRS:  WGS 84\n\nsido_hex |&gt; \n  st_geometry() |&gt; \n  plot()\n\n\n\n\n\n\n\n\n2 시도 경계\n\n코드sido_boundary_hex &lt;- sido_hex |&gt; \n  # ungroup() |&gt; \n  group_by(SGG_1) |&gt; \n  summarise(geometry = st_union(geometry))\n\nsido_boundary_hex |&gt; \n  ggplot() +\n    geom_sf(aes(geometry = geometry, fill = SGG_1))\n\n\n\n\n\n\n\n\n3 SVG to geojson\n\n코드\nsvg_shp &lt;- st_read(\"data/precinct_21/2020_South_Korean_legislative_election_Results_Cartogram-polygon.shp\")\n#&gt; Reading layer `2020_South_Korean_legislative_election_Results_Cartogram-polygon' from data source `D:\\tcs\\map_challenge\\data\\precinct_21\\2020_South_Korean_legislative_election_Results_Cartogram-polygon.shp' \n#&gt;   using driver `ESRI Shapefile'\n#&gt; Simple feature collection with 269 features and 1 field\n#&gt; Geometry type: POLYGON\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: 31.94769 ymin: 33.43049 xmax: 65.61502 ymax: 38.91111\n#&gt; Geodetic CRS:  WGS 84\n\nsvg_shp |&gt; \n  plot()\n\n\n\n\n\n\n\n\n4 svg to geojson\n\n코드mapbox_sf &lt;- st_read(\"data/precinct_21/features.geojson\") \n#&gt; Reading layer `features' from data source \n#&gt;   `D:\\tcs\\map_challenge\\data\\precinct_21\\features.geojson' using driver `GeoJSON'\n#&gt; Simple feature collection with 269 features and 2 fields\n#&gt; Geometry type: POLYGON\n#&gt; Dimension:     XY\n#&gt; Bounding box:  xmin: -374.5006 ymin: 87.79933 xmax: -340.8279 ymax: 89.10986\n#&gt; Geodetic CRS:  WGS 84\n\nsouth_korea_bbox &lt;- st_bbox(c(\n  xmin = 124.61,  # Minimum longitude\n  ymin = 33.10,   # Minimum latitude\n  xmax = 131.87,  # Maximum longitude\n  ymax = 38.45    # Maximum latitude\n), crs = st_crs(4326))  # EPSG:4326 coordinate reference system\n\nmapbox_sf |&gt;\n  st_set_crs(4326) |&gt; \n  # st_crop(south_korea_bbox) |&gt; \n  ggplot() +\n    geom_sf(aes(geometry = geometry))"
  }
]