---
title: "ì§€ë„ì œì‘ ëŒ€íšŒ"
subtitle: "ì±—GPT ì§€ë„ì œì‘ì„ ìœ„í•´ì„œ....."
description: |
  ì§€ë„ì œì‘ì„ ìœ„í•œ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ëª¨ì•„ ê³µê°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.
author:
  - name: ì´ê´‘ì¶˜
    url: https://www.linkedin.com/in/kwangchunlee/
    affiliation: í•œêµ­ R ì‚¬ìš©ìíšŒ
    affiliation-url: https://github.com/bit2r
title-block-banner: true
#title-block-banner: "#562457"
format:
  html:
    theme: flatly
    code-fold: true
    code-overflow: wrap
    toc: true
    toc-depth: 3
    toc-title: ëª©ì°¨
    number-sections: true
    highlight-style: github    
    self-contained: false
filters:
   - lightbox
lightbox: auto
bibliography: bibliography.bib
link-citations: true
csl: apa-single-spaced.csl
knitr:
  opts_chunk: 
    message: false
    warning: false
    collapse: true
    comment: "#>" 
    R.options:
      knitr.graphics.auto_pdf: true
editor_options: 
  chunk_output_type: console
---




# ì°¸ê³  ì›¹ì‚¬ì´íŠ¸

- [#30DayMapChallenge ğŸŒğŸŒğŸŒ](https://30daymapchallenge.com/)
- [30 DAY MAP CHALLENGE IN R](https://david.frigge.nz/3RDayMapChallenge/)
- [AbdoulMa/30DayMapChallenge](https://github.com/AbdoulMa/30DayMapChallenge)

# ì›ì²œ ì§€ë„

- [êµ­í† êµí†µë¶€](http://www.molit.go.kr/)
  - [LX í•œêµ­êµ­í† ì •ë³´ê³µì‚¬](https://www.lx.or.kr/), êµ¬ í•œêµ­ì§€ì ê³µì‚¬
  - [ê³µê°„ì •ë³´ì‚°ì—…ì§„í¥ì›](http://www.spacen.or.kr/)
    - [VWorld, ê³µê°„ì •ë³´ì˜¤í”ˆí”Œë«í¼](https://www.vworld.kr/)
  - [êµ­í† ì§€ë¦¬ì •ë³´ì›](https://www.ngii.go.kr/)
    - [êµ­í† ì •ë³´í”Œë«í¼](http://map.ngii.go.kr/)
    - [êµ­ê°€ê³µê°„ì •ë³´í¬í„¸](https://www.nsdi.go.kr/)
      - ì˜¤í”ˆë§ˆì¼“, 90m í‘œê³  ë°ì´í„°: [êµ­í† ì§€ë¦¬ì •ë³´ì›] ìˆ˜ì¹˜í‘œê³ ëª¨ë¸(DEM)_90M
- [ëŒ€í•œë¯¼êµ­ í–‰ì •ë™ ê²½ê³„: `admdongkor`](https://github.com/vuski/admdongkor)
- [ëŒ€í•œë¯¼êµ­ ìµœì‹  í–‰ì •êµ¬ì—­(SHP) ë‹¤ìš´ë¡œë“œ](http://www.gisdeveloper.co.kr/?p=2332)

# ì„¸ê³„ì§€ë„

[ì¶œì²˜: [Fixing maps library data for Pacific centred (0Â°-360Â° longitude) display](https://stackoverflow.com/questions/5353184/fixing-maps-library-data-for-pacific-centred-0-360-longitude-display)]{.aside}

:::{.panel-tabset}

### ì„¸ê³„ì§€ë„: `giscoR`

```{r}
library(tidyverse)
library(sf)

# download.file(url = "https://gisco-services.ec.europa.eu/distribution/v2/countries/geojson/CNTR_RG_01M_2016_4326.geojson", destfile = "data/world.geojson", mode = "w")
# 
# world_sf <- giscoR::gisco_get_countries(
#   epsg = "4326",
#   region = "Asia",
#   resolution = "1",
#   cache = TRUE, 
#   update_cache = TRUE
# )

world_sf <- sf::st_read("data/world.geojson")

plot(st_geometry(world_sf))
```

### ì„¸ê³„ì§€ë„: `maps`

```{r}
# í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
library(ggplot2)
library(maps)

# ì›”ë“œë§µ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
world_map <- map_data("world")

# ggplot2ë¥¼ ì‚¬ìš©í•´ ì§€ë„ë¥¼ ê·¸ë¦½ë‹ˆë‹¤.
ggplot() +
  geom_polygon(data = world_map, aes(x = long, y = lat, group = group), fill = "white", color = "black") +
  coord_cartesian(xlim = c(-180, 180)) +
  theme_void()
```

### ì„¸ê³„ì§€ë„: `rnaturalearth`

```{r}
library(rnaturalearth)

# Get the world map data
world <- ne_countries(scale = "medium", returnclass = "sf")

# Shift the map to center on the Pacific Ocean
world_trans <- st_transform(st_wrap_dateline(world, options = c("WRAPDATELINE=YES", "DATELINEOFFSET=-180")), crs = "+proj=robin")

# Plot the world map
ggplot(data = world_trans) +
  geom_sf() +
  theme_minimal()
```

### ì•„ì‹œì•„

```{r}
asia_sf <- giscoR::gisco_get_countries(
  epsg = "4326",
  region = "Asia",
  resolution = "60",
  cache = TRUE,
  update_cache = TRUE
)

plot(st_geometry(asia_sf))
```


### ëŒ€í•œë¯¼êµ­

```{r}
library(tidyverse)
library(sf)
library(giscoR)

korea <- giscoR::gisco_get_countries(
    resolution = "1",
    country = "KOR"
) |>
    sf::st_transform("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")

plot(st_geometry(korea))
```

### íƒœí‰ì–‘ ì¤‘ì‹¬

```{r}
#| eval: false

library(maps)

plot.map<- function(database,center,...){
    Obj <- map(database,...,plot=F)
    coord <- cbind(Obj[[1]],Obj[[2]])

    # split up the coordinates
    id <- rle(!is.na(coord[,1]))
    id <- matrix(c(1,cumsum(id$lengths)),ncol=2,byrow=T)
    polygons <- apply(id,1,function(i){coord[i[1]:i[2],]})

    # split up polygons that differ too much
    polygons <- lapply(polygons,function(x){
        x[,1] <- x[,1] + center
        x[,1] <- ifelse(x[,1]>180,x[,1]-360,x[,1])
        if(sum(diff(x[,1])>300,na.rm=T) >0){
          id <- x[,1] < 0
          x <- rbind(x[id,],c(NA,NA),x[!id,])
       }
       x
    })
    # reconstruct the object
    polygons <- do.call(rbind,polygons)
    Obj[[1]] <- polygons[,1]
    Obj[[2]] <- polygons[,2]

    map(Obj,...)
}

plot.map("world", center=210, col="white",bg="gray",
         fill=TRUE, ylim=c(-60,90),mar=c(0,0,0,0))
```

:::
